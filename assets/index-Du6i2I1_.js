function Cp(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function kp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xp={exports:{}},Rl={},Tp={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=Symbol.for("react.element"),Xv=Symbol.for("react.portal"),Jv=Symbol.for("react.fragment"),Zv=Symbol.for("react.strict_mode"),ey=Symbol.for("react.profiler"),ty=Symbol.for("react.provider"),ny=Symbol.for("react.context"),ry=Symbol.for("react.forward_ref"),iy=Symbol.for("react.suspense"),oy=Symbol.for("react.memo"),sy=Symbol.for("react.lazy"),ef=Symbol.iterator;function ly(t){return t===null||typeof t!="object"?null:(t=ef&&t[ef]||t["@@iterator"],typeof t=="function"?t:null)}var Ip={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rp=Object.assign,Np={};function gi(t,e,n){this.props=t,this.context=e,this.refs=Np,this.updater=n||Ip}gi.prototype.isReactComponent={};gi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pp(){}Pp.prototype=gi.prototype;function ac(t,e,n){this.props=t,this.context=e,this.refs=Np,this.updater=n||Ip}var uc=ac.prototype=new Pp;uc.constructor=ac;Rp(uc,gi.prototype);uc.isPureReactComponent=!0;var tf=Array.isArray,Dp=Object.prototype.hasOwnProperty,cc={current:null},Lp={key:!0,ref:!0,__self:!0,__source:!0};function Mp(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Dp.call(e,r)&&!Lp.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:zo,type:t,key:o,ref:s,props:i,_owner:cc.current}}function ay(t,e){return{$$typeof:zo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dc(t){return typeof t=="object"&&t!==null&&t.$$typeof===zo}function uy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nf=/\/+/g;function sa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uy(""+t.key):e.toString(36)}function Cs(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case zo:case Xv:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+sa(s,0):r,tf(i)?(n="",t!=null&&(n=t.replace(nf,"$&/")+"/"),Cs(i,e,n,"",function(u){return u})):i!=null&&(dc(i)&&(i=ay(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(nf,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",tf(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+sa(o,l);s+=Cs(o,e,n,a,i)}else if(a=ly(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+sa(o,l++),s+=Cs(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function rs(t,e,n){if(t==null)return t;var r=[],i=0;return Cs(t,r,"","",function(o){return e.call(n,o,i++)}),r}function cy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var it={current:null},ks={transition:null},dy={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:ks,ReactCurrentOwner:cc};function Op(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:rs,forEach:function(t,e,n){rs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rs(t,function(){e++}),e},toArray:function(t){return rs(t,function(e){return e})||[]},only:function(t){if(!dc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};q.Component=gi;q.Fragment=Jv;q.Profiler=ey;q.PureComponent=ac;q.StrictMode=Zv;q.Suspense=iy;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dy;q.act=Op;q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Rp({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=cc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Dp.call(e,a)&&!Lp.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:zo,type:t.type,key:i,ref:o,props:r,_owner:s}};q.createContext=function(t){return t={$$typeof:ny,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ty,_context:t},t.Consumer=t};q.createElement=Mp;q.createFactory=function(t){var e=Mp.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:ry,render:t}};q.isValidElement=dc;q.lazy=function(t){return{$$typeof:sy,_payload:{_status:-1,_result:t},_init:cy}};q.memo=function(t,e){return{$$typeof:oy,type:t,compare:e===void 0?null:e}};q.startTransition=function(t){var e=ks.transition;ks.transition={};try{t()}finally{ks.transition=e}};q.unstable_act=Op;q.useCallback=function(t,e){return it.current.useCallback(t,e)};q.useContext=function(t){return it.current.useContext(t)};q.useDebugValue=function(){};q.useDeferredValue=function(t){return it.current.useDeferredValue(t)};q.useEffect=function(t,e){return it.current.useEffect(t,e)};q.useId=function(){return it.current.useId()};q.useImperativeHandle=function(t,e,n){return it.current.useImperativeHandle(t,e,n)};q.useInsertionEffect=function(t,e){return it.current.useInsertionEffect(t,e)};q.useLayoutEffect=function(t,e){return it.current.useLayoutEffect(t,e)};q.useMemo=function(t,e){return it.current.useMemo(t,e)};q.useReducer=function(t,e,n){return it.current.useReducer(t,e,n)};q.useRef=function(t){return it.current.useRef(t)};q.useState=function(t){return it.current.useState(t)};q.useSyncExternalStore=function(t,e,n){return it.current.useSyncExternalStore(t,e,n)};q.useTransition=function(){return it.current.useTransition()};q.version="18.3.1";Tp.exports=q;var k=Tp.exports;const fy=kp(k),hy=Cp({__proto__:null,default:fy},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py=k,my=Symbol.for("react.element"),gy=Symbol.for("react.fragment"),_y=Object.prototype.hasOwnProperty,vy=py.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yy={key:!0,ref:!0,__self:!0,__source:!0};function Ap(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)_y.call(e,r)&&!yy.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:my,type:t,key:o,ref:s,props:i,_owner:vy.current}}Rl.Fragment=gy;Rl.jsx=Ap;Rl.jsxs=Ap;xp.exports=Rl;var M=xp.exports,Fp={exports:{}},St={},bp={exports:{}},zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,$){var V=L.length;L.push($);e:for(;0<V;){var Z=V-1>>>1,ae=L[Z];if(0<i(ae,$))L[Z]=$,L[V]=ae,V=Z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var $=L[0],V=L.pop();if(V!==$){L[0]=V;e:for(var Z=0,ae=L.length,kt=ae>>>1;Z<kt;){var Pe=2*(Z+1)-1,mt=L[Pe],et=Pe+1,Xt=L[et];if(0>i(mt,V))et<ae&&0>i(Xt,mt)?(L[Z]=Xt,L[et]=V,Z=et):(L[Z]=mt,L[Pe]=V,Z=Pe);else if(et<ae&&0>i(Xt,V))L[Z]=Xt,L[et]=V,Z=et;else break e}}return $}function i(L,$){var V=L.sortIndex-$.sortIndex;return V!==0?V:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],d=1,c=null,f=3,m=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=L)r(u),$.sortIndex=$.expirationTime,e(a,$);else break;$=n(u)}}function C(L){if(w=!1,_(L),!v)if(n(a)!==null)v=!0,Vt(N);else{var $=n(u);$!==null&&ye(C,$.startTime-L)}}function N(L,$){v=!1,w&&(w=!1,p(I),I=-1),m=!0;var V=f;try{for(_($),c=n(a);c!==null&&(!(c.expirationTime>$)||L&&!oe());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,f=c.priorityLevel;var ae=Z(c.expirationTime<=$);$=t.unstable_now(),typeof ae=="function"?c.callback=ae:c===n(a)&&r(a),_($)}else r(a);c=n(a)}if(c!==null)var kt=!0;else{var Pe=n(u);Pe!==null&&ye(C,Pe.startTime-$),kt=!1}return kt}finally{c=null,f=V,m=!1}}var y=!1,D=null,I=-1,U=5,b=-1;function oe(){return!(t.unstable_now()-b<U)}function me(){if(D!==null){var L=t.unstable_now();b=L;var $=!0;try{$=D(!0,L)}finally{$?se():(y=!1,D=null)}}else y=!1}var se;if(typeof h=="function")se=function(){h(me)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Dt=xe.port2;xe.port1.onmessage=me,se=function(){Dt.postMessage(null)}}else se=function(){x(me,0)};function Vt(L){D=L,y||(y=!0,se())}function ye(L,$){I=x(function(){L(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Vt(N))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var V=f;f=$;try{return L()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=f;f=L;try{return $()}finally{f=V}},t.unstable_scheduleCallback=function(L,$,V){var Z=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Z+V:Z):V=Z,L){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=V+ae,L={id:d++,callback:$,priorityLevel:L,startTime:V,expirationTime:ae,sortIndex:-1},V>Z?(L.sortIndex=V,e(u,L),n(a)===null&&L===n(u)&&(w?(p(I),I=-1):w=!0,ye(C,V-Z))):(L.sortIndex=ae,e(a,L),v||m||(v=!0,Vt(N))),L},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(L){var $=f;return function(){var V=f;f=$;try{return L.apply(this,arguments)}finally{f=V}}}})(zp);bp.exports=zp;var wy=bp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey=k,Et=wy;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jp=new Set,uo={};function Er(t,e){ii(t,e),ii(t+"Capture",e)}function ii(t,e){for(uo[t]=e,t=0;t<e.length;t++)jp.add(e[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qa=Object.prototype.hasOwnProperty,Sy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rf={},of={};function Cy(t){return Qa.call(of,t)?!0:Qa.call(rf,t)?!1:Sy.test(t)?of[t]=!0:(rf[t]=!0,!1)}function ky(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xy(t,e,n,r){if(e===null||typeof e>"u"||ky(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ot(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ge[e]=new ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ge[t]=new ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ge[t]=new ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ge[t]=new ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var fc=/[\-:]([a-z])/g;function hc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fc,hc);Ge[e]=new ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fc,hc);Ge[e]=new ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fc,hc);Ge[e]=new ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new ot(t,1,!1,t.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ge[t]=new ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function pc(t,e,n,r){var i=Ge.hasOwnProperty(e)?Ge[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xy(e,n,i,r)&&(n=null),r||i===null?Cy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mn=Ey.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,is=Symbol.for("react.element"),Or=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),mc=Symbol.for("react.strict_mode"),Ka=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),Bp=Symbol.for("react.context"),gc=Symbol.for("react.forward_ref"),Ya=Symbol.for("react.suspense"),qa=Symbol.for("react.suspense_list"),_c=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),Wp=Symbol.for("react.offscreen"),sf=Symbol.iterator;function Ii(t){return t===null||typeof t!="object"?null:(t=sf&&t[sf]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,la;function Vi(t){if(la===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);la=e&&e[1]||""}return`
`+la+t}var aa=!1;function ua(t,e){if(!t||aa)return"";aa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{aa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vi(t):""}function Ty(t){switch(t.tag){case 5:return Vi(t.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return t=ua(t.type,!1),t;case 11:return t=ua(t.type.render,!1),t;case 1:return t=ua(t.type,!0),t;default:return""}}function Xa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ar:return"Fragment";case Or:return"Portal";case Ka:return"Profiler";case mc:return"StrictMode";case Ya:return"Suspense";case qa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bp:return(t.displayName||"Context")+".Consumer";case Up:return(t._context.displayName||"Context")+".Provider";case gc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _c:return e=t.displayName||null,e!==null?e:Xa(t.type)||"Memo";case En:e=t._payload,t=t._init;try{return Xa(t(e))}catch{}}return null}function Iy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xa(e);case 8:return e===mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $p(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ry(t){var e=$p(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function os(t){t._valueTracker||(t._valueTracker=Ry(t))}function Vp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$p(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ja(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hp(t,e){e=e.checked,e!=null&&pc(t,"checked",e,!1)}function Za(t,e){Hp(t,e);var n=jn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eu(t,e.type,n):e.hasOwnProperty("defaultValue")&&eu(t,e.type,jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function af(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function eu(t,e,n){(e!=="number"||bs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hi=Array.isArray;function Kr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(Hi(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jn(n)}}function Gp(t,e){var n=jn(e.value),r=jn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ss,Kp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ss.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function co(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ny=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(t){Ny.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yi[e]=Yi[t]})});function Yp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yi.hasOwnProperty(t)&&Yi[t]?(""+e).trim():e+"px"}function qp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Py=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ru(t,e){if(e){if(Py[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function iu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=null;function vc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var su=null,Yr=null,qr=null;function df(t){if(t=Bo(t)){if(typeof su!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Ml(e),su(t.stateNode,t.type,e))}}function Xp(t){Yr?qr?qr.push(t):qr=[t]:Yr=t}function Jp(){if(Yr){var t=Yr,e=qr;if(qr=Yr=null,df(t),e)for(t=0;t<e.length;t++)df(e[t])}}function Zp(t,e){return t(e)}function em(){}var ca=!1;function tm(t,e,n){if(ca)return t(e,n);ca=!0;try{return Zp(t,e,n)}finally{ca=!1,(Yr!==null||qr!==null)&&(em(),Jp())}}function fo(t,e){var n=t.stateNode;if(n===null)return null;var r=Ml(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var lu=!1;if(un)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){lu=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{lu=!1}function Dy(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var qi=!1,zs=null,js=!1,au=null,Ly={onError:function(t){qi=!0,zs=t}};function My(t,e,n,r,i,o,s,l,a){qi=!1,zs=null,Dy.apply(Ly,arguments)}function Oy(t,e,n,r,i,o,s,l,a){if(My.apply(this,arguments),qi){if(qi){var u=zs;qi=!1,zs=null}else throw Error(R(198));js||(js=!0,au=u)}}function Sr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ff(t){if(Sr(t)!==t)throw Error(R(188))}function Ay(t){var e=t.alternate;if(!e){if(e=Sr(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ff(i),t;if(o===r)return ff(i),e;o=o.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function rm(t){return t=Ay(t),t!==null?im(t):null}function im(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=im(t);if(e!==null)return e;t=t.sibling}return null}var om=Et.unstable_scheduleCallback,hf=Et.unstable_cancelCallback,Fy=Et.unstable_shouldYield,by=Et.unstable_requestPaint,De=Et.unstable_now,zy=Et.unstable_getCurrentPriorityLevel,yc=Et.unstable_ImmediatePriority,sm=Et.unstable_UserBlockingPriority,Us=Et.unstable_NormalPriority,jy=Et.unstable_LowPriority,lm=Et.unstable_IdlePriority,Nl=null,Yt=null;function Uy(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Nl,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:$y,By=Math.log,Wy=Math.LN2;function $y(t){return t>>>=0,t===0?32:31-(By(t)/Wy|0)|0}var ls=64,as=4194304;function Gi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Gi(l):(o&=s,o!==0&&(r=Gi(o)))}else s=n&~i,s!==0?r=Gi(s):o!==0&&(r=Gi(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ut(e),i=1<<n,r|=t[n],e&=~i;return r}function Vy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hy(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ut(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=Vy(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function uu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function am(){var t=ls;return ls<<=1,!(ls&4194240)&&(ls=64),t}function da(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ut(e),t[e]=n}function Gy(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ut(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function wc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ut(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var le=0;function um(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cm,Ec,dm,fm,hm,cu=!1,us=[],Rn=null,Nn=null,Pn=null,ho=new Map,po=new Map,Cn=[],Qy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pf(t,e){switch(t){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":ho.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(e.pointerId)}}function Ni(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Bo(e),e!==null&&Ec(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ky(t,e,n,r,i){switch(e){case"focusin":return Rn=Ni(Rn,t,e,n,r,i),!0;case"dragenter":return Nn=Ni(Nn,t,e,n,r,i),!0;case"mouseover":return Pn=Ni(Pn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ho.set(o,Ni(ho.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,po.set(o,Ni(po.get(o)||null,t,e,n,r,i)),!0}return!1}function pm(t){var e=ir(t.target);if(e!==null){var n=Sr(e);if(n!==null){if(e=n.tag,e===13){if(e=nm(n),e!==null){t.blockedOn=e,hm(t.priority,function(){dm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=du(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ou=r,n.target.dispatchEvent(r),ou=null}else return e=Bo(n),e!==null&&Ec(e),t.blockedOn=n,!1;e.shift()}return!0}function mf(t,e,n){xs(t)&&n.delete(e)}function Yy(){cu=!1,Rn!==null&&xs(Rn)&&(Rn=null),Nn!==null&&xs(Nn)&&(Nn=null),Pn!==null&&xs(Pn)&&(Pn=null),ho.forEach(mf),po.forEach(mf)}function Pi(t,e){t.blockedOn===e&&(t.blockedOn=null,cu||(cu=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,Yy)))}function mo(t){function e(i){return Pi(i,t)}if(0<us.length){Pi(us[0],t);for(var n=1;n<us.length;n++){var r=us[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Rn!==null&&Pi(Rn,t),Nn!==null&&Pi(Nn,t),Pn!==null&&Pi(Pn,t),ho.forEach(e),po.forEach(e),n=0;n<Cn.length;n++)r=Cn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)pm(n),n.blockedOn===null&&Cn.shift()}var Xr=mn.ReactCurrentBatchConfig,Ws=!0;function qy(t,e,n,r){var i=le,o=Xr.transition;Xr.transition=null;try{le=1,Sc(t,e,n,r)}finally{le=i,Xr.transition=o}}function Xy(t,e,n,r){var i=le,o=Xr.transition;Xr.transition=null;try{le=4,Sc(t,e,n,r)}finally{le=i,Xr.transition=o}}function Sc(t,e,n,r){if(Ws){var i=du(t,e,n,r);if(i===null)Ea(t,e,r,$s,n),pf(t,r);else if(Ky(i,t,e,n,r))r.stopPropagation();else if(pf(t,r),e&4&&-1<Qy.indexOf(t)){for(;i!==null;){var o=Bo(i);if(o!==null&&cm(o),o=du(t,e,n,r),o===null&&Ea(t,e,r,$s,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ea(t,e,r,null,n)}}var $s=null;function du(t,e,n,r){if($s=null,t=vc(r),t=ir(t),t!==null)if(e=Sr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $s=t,null}function mm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zy()){case yc:return 1;case sm:return 4;case Us:case jy:return 16;case lm:return 536870912;default:return 16}default:return 16}}var xn=null,Cc=null,Ts=null;function gm(){if(Ts)return Ts;var t,e=Cc,n=e.length,r,i="value"in xn?xn.value:xn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ts=i.slice(t,1<r?1-r:void 0)}function Is(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cs(){return!0}function gf(){return!1}function Ct(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cs:gf,this.isPropagationStopped=gf,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),e}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kc=Ct(_i),Uo=ke({},_i,{view:0,detail:0}),Jy=Ct(Uo),fa,ha,Di,Pl=ke({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(fa=t.screenX-Di.screenX,ha=t.screenY-Di.screenY):ha=fa=0,Di=t),fa)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),_f=Ct(Pl),Zy=ke({},Pl,{dataTransfer:0}),e0=Ct(Zy),t0=ke({},Uo,{relatedTarget:0}),pa=Ct(t0),n0=ke({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),r0=Ct(n0),i0=ke({},_i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),o0=Ct(i0),s0=ke({},_i,{data:0}),vf=Ct(s0),l0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=u0[t])?!!e[t]:!1}function xc(){return c0}var d0=ke({},Uo,{key:function(t){if(t.key){var e=l0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f0=Ct(d0),h0=ke({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=Ct(h0),p0=ke({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),m0=Ct(p0),g0=ke({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),_0=Ct(g0),v0=ke({},Pl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y0=Ct(v0),w0=[9,13,27,32],Tc=un&&"CompositionEvent"in window,Xi=null;un&&"documentMode"in document&&(Xi=document.documentMode);var E0=un&&"TextEvent"in window&&!Xi,_m=un&&(!Tc||Xi&&8<Xi&&11>=Xi),wf=" ",Ef=!1;function vm(t,e){switch(t){case"keyup":return w0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fr=!1;function S0(t,e){switch(t){case"compositionend":return ym(e);case"keypress":return e.which!==32?null:(Ef=!0,wf);case"textInput":return t=e.data,t===wf&&Ef?null:t;default:return null}}function C0(t,e){if(Fr)return t==="compositionend"||!Tc&&vm(t,e)?(t=gm(),Ts=Cc=xn=null,Fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _m&&e.locale!=="ko"?null:e.data;default:return null}}var k0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k0[t.type]:e==="textarea"}function wm(t,e,n,r){Xp(r),e=Vs(e,"onChange"),0<e.length&&(n=new kc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ji=null,go=null;function x0(t){Dm(t,0)}function Dl(t){var e=jr(t);if(Vp(e))return t}function T0(t,e){if(t==="change")return e}var Em=!1;if(un){var ma;if(un){var ga="oninput"in document;if(!ga){var Cf=document.createElement("div");Cf.setAttribute("oninput","return;"),ga=typeof Cf.oninput=="function"}ma=ga}else ma=!1;Em=ma&&(!document.documentMode||9<document.documentMode)}function kf(){Ji&&(Ji.detachEvent("onpropertychange",Sm),go=Ji=null)}function Sm(t){if(t.propertyName==="value"&&Dl(go)){var e=[];wm(e,go,t,vc(t)),tm(x0,e)}}function I0(t,e,n){t==="focusin"?(kf(),Ji=e,go=n,Ji.attachEvent("onpropertychange",Sm)):t==="focusout"&&kf()}function R0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dl(go)}function N0(t,e){if(t==="click")return Dl(e)}function P0(t,e){if(t==="input"||t==="change")return Dl(e)}function D0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $t=typeof Object.is=="function"?Object.is:D0;function _o(t,e){if($t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qa.call(e,i)||!$t(t[i],e[i]))return!1}return!0}function xf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tf(t,e){var n=xf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xf(n)}}function Cm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Cm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function km(){for(var t=window,e=bs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bs(t.document)}return e}function Ic(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function L0(t){var e=km(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Cm(n.ownerDocument.documentElement,n)){if(r!==null&&Ic(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Tf(n,o);var s=Tf(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var M0=un&&"documentMode"in document&&11>=document.documentMode,br=null,fu=null,Zi=null,hu=!1;function If(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hu||br==null||br!==bs(r)||(r=br,"selectionStart"in r&&Ic(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zi&&_o(Zi,r)||(Zi=r,r=Vs(fu,"onSelect"),0<r.length&&(e=new kc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=br)))}function ds(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zr={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionend:ds("Transition","TransitionEnd")},_a={},xm={};un&&(xm=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Ll(t){if(_a[t])return _a[t];if(!zr[t])return t;var e=zr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xm)return _a[t]=e[n];return t}var Tm=Ll("animationend"),Im=Ll("animationiteration"),Rm=Ll("animationstart"),Nm=Ll("transitionend"),Pm=new Map,Rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(t,e){Pm.set(t,e),Er(e,[t])}for(var va=0;va<Rf.length;va++){var ya=Rf[va],O0=ya.toLowerCase(),A0=ya[0].toUpperCase()+ya.slice(1);$n(O0,"on"+A0)}$n(Tm,"onAnimationEnd");$n(Im,"onAnimationIteration");$n(Rm,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(Nm,"onTransitionEnd");ii("onMouseEnter",["mouseout","mouseover"]);ii("onMouseLeave",["mouseout","mouseover"]);ii("onPointerEnter",["pointerout","pointerover"]);ii("onPointerLeave",["pointerout","pointerover"]);Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Er("onBeforeInput",["compositionend","keypress","textInput","paste"]);Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function Nf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Oy(r,e,void 0,t),t.currentTarget=null}function Dm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Nf(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Nf(i,l,u),o=a}}}if(js)throw t=au,js=!1,au=null,t}function ge(t,e){var n=e[vu];n===void 0&&(n=e[vu]=new Set);var r=t+"__bubble";n.has(r)||(Lm(e,t,2,!1),n.add(r))}function wa(t,e,n){var r=0;e&&(r|=4),Lm(n,t,r,e)}var fs="_reactListening"+Math.random().toString(36).slice(2);function vo(t){if(!t[fs]){t[fs]=!0,jp.forEach(function(n){n!=="selectionchange"&&(F0.has(n)||wa(n,!1,t),wa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fs]||(e[fs]=!0,wa("selectionchange",!1,e))}}function Lm(t,e,n,r){switch(mm(e)){case 1:var i=qy;break;case 4:i=Xy;break;default:i=Sc}n=i.bind(null,e,n,t),i=void 0,!lu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ea(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=ir(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}tm(function(){var u=o,d=vc(n),c=[];e:{var f=Pm.get(t);if(f!==void 0){var m=kc,v=t;switch(t){case"keypress":if(Is(n)===0)break e;case"keydown":case"keyup":m=f0;break;case"focusin":v="focus",m=pa;break;case"focusout":v="blur",m=pa;break;case"beforeblur":case"afterblur":m=pa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=e0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=m0;break;case Tm:case Im:case Rm:m=r0;break;case Nm:m=_0;break;case"scroll":m=Jy;break;case"wheel":m=y0;break;case"copy":case"cut":case"paste":m=o0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yf}var w=(e&4)!==0,x=!w&&t==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var h=u,_;h!==null;){_=h;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,p!==null&&(C=fo(h,p),C!=null&&w.push(yo(h,C,_)))),x)break;h=h.return}0<w.length&&(f=new m(f,v,null,n,d),c.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==ou&&(v=n.relatedTarget||n.fromElement)&&(ir(v)||v[cn]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?ir(v):null,v!==null&&(x=Sr(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(w=_f,C="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=yf,C="onPointerLeave",p="onPointerEnter",h="pointer"),x=m==null?f:jr(m),_=v==null?f:jr(v),f=new w(C,h+"leave",m,n,d),f.target=x,f.relatedTarget=_,C=null,ir(d)===u&&(w=new w(p,h+"enter",v,n,d),w.target=_,w.relatedTarget=x,C=w),x=C,m&&v)t:{for(w=m,p=v,h=0,_=w;_;_=Pr(_))h++;for(_=0,C=p;C;C=Pr(C))_++;for(;0<h-_;)w=Pr(w),h--;for(;0<_-h;)p=Pr(p),_--;for(;h--;){if(w===p||p!==null&&w===p.alternate)break t;w=Pr(w),p=Pr(p)}w=null}else w=null;m!==null&&Pf(c,f,m,w,!1),v!==null&&x!==null&&Pf(c,x,v,w,!0)}}e:{if(f=u?jr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=T0;else if(Sf(f))if(Em)N=P0;else{N=R0;var y=I0}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=N0);if(N&&(N=N(t,u))){wm(c,N,n,d);break e}y&&y(t,f,u),t==="focusout"&&(y=f._wrapperState)&&y.controlled&&f.type==="number"&&eu(f,"number",f.value)}switch(y=u?jr(u):window,t){case"focusin":(Sf(y)||y.contentEditable==="true")&&(br=y,fu=u,Zi=null);break;case"focusout":Zi=fu=br=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,If(c,n,d);break;case"selectionchange":if(M0)break;case"keydown":case"keyup":If(c,n,d)}var D;if(Tc)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Fr?vm(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(_m&&n.locale!=="ko"&&(Fr||I!=="onCompositionStart"?I==="onCompositionEnd"&&Fr&&(D=gm()):(xn=d,Cc="value"in xn?xn.value:xn.textContent,Fr=!0)),y=Vs(u,I),0<y.length&&(I=new vf(I,t,null,n,d),c.push({event:I,listeners:y}),D?I.data=D:(D=ym(n),D!==null&&(I.data=D)))),(D=E0?S0(t,n):C0(t,n))&&(u=Vs(u,"onBeforeInput"),0<u.length&&(d=new vf("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=D))}Dm(c,e)})}function yo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=fo(t,n),o!=null&&r.unshift(yo(t,o,i)),o=fo(t,e),o!=null&&r.push(yo(t,o,i))),t=t.return}return r}function Pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pf(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=fo(n,o),a!=null&&s.unshift(yo(n,a,l))):i||(a=fo(n,o),a!=null&&s.push(yo(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var b0=/\r\n?/g,z0=/\u0000|\uFFFD/g;function Df(t){return(typeof t=="string"?t:""+t).replace(b0,`
`).replace(z0,"")}function hs(t,e,n){if(e=Df(e),Df(t)!==e&&n)throw Error(R(425))}function Hs(){}var pu=null,mu=null;function gu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _u=typeof setTimeout=="function"?setTimeout:void 0,j0=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,U0=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf<"u"?function(t){return Lf.resolve(null).then(t).catch(B0)}:_u;function B0(t){setTimeout(function(){throw t})}function Sa(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),mo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);mo(e)}function Dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vi=Math.random().toString(36).slice(2),Kt="__reactFiber$"+vi,wo="__reactProps$"+vi,cn="__reactContainer$"+vi,vu="__reactEvents$"+vi,W0="__reactListeners$"+vi,$0="__reactHandles$"+vi;function ir(t){var e=t[Kt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cn]||n[Kt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mf(t);t!==null;){if(n=t[Kt])return n;t=Mf(t)}return e}t=n,n=t.parentNode}return null}function Bo(t){return t=t[Kt]||t[cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Ml(t){return t[wo]||null}var yu=[],Ur=-1;function Vn(t){return{current:t}}function ve(t){0>Ur||(t.current=yu[Ur],yu[Ur]=null,Ur--)}function pe(t,e){Ur++,yu[Ur]=t.current,t.current=e}var Un={},Ze=Vn(Un),dt=Vn(!1),dr=Un;function oi(t,e){var n=t.type.contextTypes;if(!n)return Un;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ft(t){return t=t.childContextTypes,t!=null}function Gs(){ve(dt),ve(Ze)}function Of(t,e,n){if(Ze.current!==Un)throw Error(R(168));pe(Ze,e),pe(dt,n)}function Mm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(R(108,Iy(t)||"Unknown",i));return ke({},n,r)}function Qs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Un,dr=Ze.current,pe(Ze,t),pe(dt,dt.current),!0}function Af(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=Mm(t,e,dr),r.__reactInternalMemoizedMergedChildContext=t,ve(dt),ve(Ze),pe(Ze,t)):ve(dt),pe(dt,n)}var tn=null,Ol=!1,Ca=!1;function Om(t){tn===null?tn=[t]:tn.push(t)}function V0(t){Ol=!0,Om(t)}function Hn(){if(!Ca&&tn!==null){Ca=!0;var t=0,e=le;try{var n=tn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}tn=null,Ol=!1}catch(i){throw tn!==null&&(tn=tn.slice(t+1)),om(yc,Hn),i}finally{le=e,Ca=!1}}return null}var Br=[],Wr=0,Ks=null,Ys=0,xt=[],Tt=0,fr=null,nn=1,rn="";function Jn(t,e){Br[Wr++]=Ys,Br[Wr++]=Ks,Ks=t,Ys=e}function Am(t,e,n){xt[Tt++]=nn,xt[Tt++]=rn,xt[Tt++]=fr,fr=t;var r=nn;t=rn;var i=32-Ut(r)-1;r&=~(1<<i),n+=1;var o=32-Ut(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,nn=1<<32-Ut(e)+i|n<<i|r,rn=o+t}else nn=1<<o|n<<i|r,rn=t}function Rc(t){t.return!==null&&(Jn(t,1),Am(t,1,0))}function Nc(t){for(;t===Ks;)Ks=Br[--Wr],Br[Wr]=null,Ys=Br[--Wr],Br[Wr]=null;for(;t===fr;)fr=xt[--Tt],xt[Tt]=null,rn=xt[--Tt],xt[Tt]=null,nn=xt[--Tt],xt[Tt]=null}var yt=null,vt=null,Ee=!1,Ft=null;function Fm(t,e){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ff(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,vt=Dn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fr!==null?{id:nn,overflow:rn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yt=t,vt=null,!0):!1;default:return!1}}function wu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Eu(t){if(Ee){var e=vt;if(e){var n=e;if(!Ff(t,e)){if(wu(t))throw Error(R(418));e=Dn(n.nextSibling);var r=yt;e&&Ff(t,e)?Fm(r,n):(t.flags=t.flags&-4097|2,Ee=!1,yt=t)}}else{if(wu(t))throw Error(R(418));t.flags=t.flags&-4097|2,Ee=!1,yt=t}}}function bf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function ps(t){if(t!==yt)return!1;if(!Ee)return bf(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gu(t.type,t.memoizedProps)),e&&(e=vt)){if(wu(t))throw bm(),Error(R(418));for(;e;)Fm(t,e),e=Dn(e.nextSibling)}if(bf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vt=Dn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vt=null}}else vt=yt?Dn(t.stateNode.nextSibling):null;return!0}function bm(){for(var t=vt;t;)t=Dn(t.nextSibling)}function si(){vt=yt=null,Ee=!1}function Pc(t){Ft===null?Ft=[t]:Ft.push(t)}var H0=mn.ReactCurrentBatchConfig;function Li(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function ms(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zf(t){var e=t._init;return e(t._payload)}function zm(t){function e(p,h){if(t){var _=p.deletions;_===null?(p.deletions=[h],p.flags|=16):_.push(h)}}function n(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=An(p,h),p.index=0,p.sibling=null,p}function o(p,h,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<h?(p.flags|=2,h):_):(p.flags|=2,h)):(p.flags|=1048576,h)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,h,_,C){return h===null||h.tag!==6?(h=Pa(_,p.mode,C),h.return=p,h):(h=i(h,_),h.return=p,h)}function a(p,h,_,C){var N=_.type;return N===Ar?d(p,h,_.props.children,C,_.key):h!==null&&(h.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===En&&zf(N)===h.type)?(C=i(h,_.props),C.ref=Li(p,h,_),C.return=p,C):(C=Os(_.type,_.key,_.props,null,p.mode,C),C.ref=Li(p,h,_),C.return=p,C)}function u(p,h,_,C){return h===null||h.tag!==4||h.stateNode.containerInfo!==_.containerInfo||h.stateNode.implementation!==_.implementation?(h=Da(_,p.mode,C),h.return=p,h):(h=i(h,_.children||[]),h.return=p,h)}function d(p,h,_,C,N){return h===null||h.tag!==7?(h=cr(_,p.mode,C,N),h.return=p,h):(h=i(h,_),h.return=p,h)}function c(p,h,_){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Pa(""+h,p.mode,_),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case is:return _=Os(h.type,h.key,h.props,null,p.mode,_),_.ref=Li(p,null,h),_.return=p,_;case Or:return h=Da(h,p.mode,_),h.return=p,h;case En:var C=h._init;return c(p,C(h._payload),_)}if(Hi(h)||Ii(h))return h=cr(h,p.mode,_,null),h.return=p,h;ms(p,h)}return null}function f(p,h,_,C){var N=h!==null?h.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:l(p,h,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case is:return _.key===N?a(p,h,_,C):null;case Or:return _.key===N?u(p,h,_,C):null;case En:return N=_._init,f(p,h,N(_._payload),C)}if(Hi(_)||Ii(_))return N!==null?null:d(p,h,_,C,null);ms(p,_)}return null}function m(p,h,_,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return p=p.get(_)||null,l(h,p,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case is:return p=p.get(C.key===null?_:C.key)||null,a(h,p,C,N);case Or:return p=p.get(C.key===null?_:C.key)||null,u(h,p,C,N);case En:var y=C._init;return m(p,h,_,y(C._payload),N)}if(Hi(C)||Ii(C))return p=p.get(_)||null,d(h,p,C,N,null);ms(h,C)}return null}function v(p,h,_,C){for(var N=null,y=null,D=h,I=h=0,U=null;D!==null&&I<_.length;I++){D.index>I?(U=D,D=null):U=D.sibling;var b=f(p,D,_[I],C);if(b===null){D===null&&(D=U);break}t&&D&&b.alternate===null&&e(p,D),h=o(b,h,I),y===null?N=b:y.sibling=b,y=b,D=U}if(I===_.length)return n(p,D),Ee&&Jn(p,I),N;if(D===null){for(;I<_.length;I++)D=c(p,_[I],C),D!==null&&(h=o(D,h,I),y===null?N=D:y.sibling=D,y=D);return Ee&&Jn(p,I),N}for(D=r(p,D);I<_.length;I++)U=m(D,p,I,_[I],C),U!==null&&(t&&U.alternate!==null&&D.delete(U.key===null?I:U.key),h=o(U,h,I),y===null?N=U:y.sibling=U,y=U);return t&&D.forEach(function(oe){return e(p,oe)}),Ee&&Jn(p,I),N}function w(p,h,_,C){var N=Ii(_);if(typeof N!="function")throw Error(R(150));if(_=N.call(_),_==null)throw Error(R(151));for(var y=N=null,D=h,I=h=0,U=null,b=_.next();D!==null&&!b.done;I++,b=_.next()){D.index>I?(U=D,D=null):U=D.sibling;var oe=f(p,D,b.value,C);if(oe===null){D===null&&(D=U);break}t&&D&&oe.alternate===null&&e(p,D),h=o(oe,h,I),y===null?N=oe:y.sibling=oe,y=oe,D=U}if(b.done)return n(p,D),Ee&&Jn(p,I),N;if(D===null){for(;!b.done;I++,b=_.next())b=c(p,b.value,C),b!==null&&(h=o(b,h,I),y===null?N=b:y.sibling=b,y=b);return Ee&&Jn(p,I),N}for(D=r(p,D);!b.done;I++,b=_.next())b=m(D,p,I,b.value,C),b!==null&&(t&&b.alternate!==null&&D.delete(b.key===null?I:b.key),h=o(b,h,I),y===null?N=b:y.sibling=b,y=b);return t&&D.forEach(function(me){return e(p,me)}),Ee&&Jn(p,I),N}function x(p,h,_,C){if(typeof _=="object"&&_!==null&&_.type===Ar&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case is:e:{for(var N=_.key,y=h;y!==null;){if(y.key===N){if(N=_.type,N===Ar){if(y.tag===7){n(p,y.sibling),h=i(y,_.props.children),h.return=p,p=h;break e}}else if(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===En&&zf(N)===y.type){n(p,y.sibling),h=i(y,_.props),h.ref=Li(p,y,_),h.return=p,p=h;break e}n(p,y);break}else e(p,y);y=y.sibling}_.type===Ar?(h=cr(_.props.children,p.mode,C,_.key),h.return=p,p=h):(C=Os(_.type,_.key,_.props,null,p.mode,C),C.ref=Li(p,h,_),C.return=p,p=C)}return s(p);case Or:e:{for(y=_.key;h!==null;){if(h.key===y)if(h.tag===4&&h.stateNode.containerInfo===_.containerInfo&&h.stateNode.implementation===_.implementation){n(p,h.sibling),h=i(h,_.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else e(p,h);h=h.sibling}h=Da(_,p.mode,C),h.return=p,p=h}return s(p);case En:return y=_._init,x(p,h,y(_._payload),C)}if(Hi(_))return v(p,h,_,C);if(Ii(_))return w(p,h,_,C);ms(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,_),h.return=p,p=h):(n(p,h),h=Pa(_,p.mode,C),h.return=p,p=h),s(p)):n(p,h)}return x}var li=zm(!0),jm=zm(!1),qs=Vn(null),Xs=null,$r=null,Dc=null;function Lc(){Dc=$r=Xs=null}function Mc(t){var e=qs.current;ve(qs),t._currentValue=e}function Su(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jr(t,e){Xs=t,Dc=$r=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(at=!0),t.firstContext=null)}function Nt(t){var e=t._currentValue;if(Dc!==t)if(t={context:t,memoizedValue:e,next:null},$r===null){if(Xs===null)throw Error(R(308));$r=t,Xs.dependencies={lanes:0,firstContext:t}}else $r=$r.next=t;return e}var or=null;function Oc(t){or===null?or=[t]:or.push(t)}function Um(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Oc(e)):(n.next=i.next,i.next=n),e.interleaved=n,dn(t,r)}function dn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sn=!1;function Ac(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,dn(t,n)}return i=r.interleaved,i===null?(e.next=e,Oc(r)):(e.next=i.next,i.next=e),r.interleaved=e,dn(t,n)}function Rs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wc(t,n)}}function jf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Js(t,e,n,r){var i=t.updateQueue;Sn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(o!==null){var c=i.baseState;s=0,d=u=a=null,l=o;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,w=l;switch(f=e,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){c=v.call(m,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(m,c,f):v,f==null)break e;c=ke({},c,f);break e;case 2:Sn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,a=c):d=d.next=m,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);pr|=s,t.lanes=s,t.memoizedState=c}}function Uf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var Wo={},qt=Vn(Wo),Eo=Vn(Wo),So=Vn(Wo);function sr(t){if(t===Wo)throw Error(R(174));return t}function Fc(t,e){switch(pe(So,e),pe(Eo,t),pe(qt,Wo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nu(e,t)}ve(qt),pe(qt,e)}function ai(){ve(qt),ve(Eo),ve(So)}function Wm(t){sr(So.current);var e=sr(qt.current),n=nu(e,t.type);e!==n&&(pe(Eo,t),pe(qt,n))}function bc(t){Eo.current===t&&(ve(qt),ve(Eo))}var Se=Vn(0);function Zs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ka=[];function zc(){for(var t=0;t<ka.length;t++)ka[t]._workInProgressVersionPrimary=null;ka.length=0}var Ns=mn.ReactCurrentDispatcher,xa=mn.ReactCurrentBatchConfig,hr=0,Ce=null,Ae=null,je=null,el=!1,eo=!1,Co=0,G0=0;function Qe(){throw Error(R(321))}function jc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$t(t[n],e[n]))return!1;return!0}function Uc(t,e,n,r,i,o){if(hr=o,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ns.current=t===null||t.memoizedState===null?q0:X0,t=n(r,i),eo){o=0;do{if(eo=!1,Co=0,25<=o)throw Error(R(301));o+=1,je=Ae=null,e.updateQueue=null,Ns.current=J0,t=n(r,i)}while(eo)}if(Ns.current=tl,e=Ae!==null&&Ae.next!==null,hr=0,je=Ae=Ce=null,el=!1,e)throw Error(R(300));return t}function Bc(){var t=Co!==0;return Co=0,t}function Qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ce.memoizedState=je=t:je=je.next=t,je}function Pt(){if(Ae===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var e=je===null?Ce.memoizedState:je.next;if(e!==null)je=e,Ae=t;else{if(t===null)throw Error(R(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},je===null?Ce.memoizedState=je=t:je=je.next=t}return je}function ko(t,e){return typeof e=="function"?e(t):e}function Ta(t){var e=Pt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=Ae,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var d=u.lane;if((hr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,s=r):a=a.next=c,Ce.lanes|=d,pr|=d}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,$t(r,e.memoizedState)||(at=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ce.lanes|=o,pr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ia(t){var e=Pt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);$t(o,e.memoizedState)||(at=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function $m(){}function Vm(t,e){var n=Ce,r=Pt(),i=e(),o=!$t(r.memoizedState,i);if(o&&(r.memoizedState=i,at=!0),r=r.queue,Wc(Qm.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,xo(9,Gm.bind(null,n,r,i,e),void 0,null),We===null)throw Error(R(349));hr&30||Hm(n,e,i)}return i}function Hm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gm(t,e,n,r){e.value=n,e.getSnapshot=r,Km(e)&&Ym(t)}function Qm(t,e,n){return n(function(){Km(e)&&Ym(t)})}function Km(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$t(t,n)}catch{return!0}}function Ym(t){var e=dn(t,1);e!==null&&Bt(e,t,1,-1)}function Bf(t){var e=Qt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:t},e.queue=t,t=t.dispatch=Y0.bind(null,Ce,t),[e.memoizedState,t]}function xo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qm(){return Pt().memoizedState}function Ps(t,e,n,r){var i=Qt();Ce.flags|=t,i.memoizedState=xo(1|e,n,void 0,r===void 0?null:r)}function Al(t,e,n,r){var i=Pt();r=r===void 0?null:r;var o=void 0;if(Ae!==null){var s=Ae.memoizedState;if(o=s.destroy,r!==null&&jc(r,s.deps)){i.memoizedState=xo(e,n,o,r);return}}Ce.flags|=t,i.memoizedState=xo(1|e,n,o,r)}function Wf(t,e){return Ps(8390656,8,t,e)}function Wc(t,e){return Al(2048,8,t,e)}function Xm(t,e){return Al(4,2,t,e)}function Jm(t,e){return Al(4,4,t,e)}function Zm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eg(t,e,n){return n=n!=null?n.concat([t]):null,Al(4,4,Zm.bind(null,e,t),n)}function $c(){}function tg(t,e){var n=Pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ng(t,e){var n=Pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rg(t,e,n){return hr&21?($t(n,e)||(n=am(),Ce.lanes|=n,pr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=n)}function Q0(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=xa.transition;xa.transition={};try{t(!1),e()}finally{le=n,xa.transition=r}}function ig(){return Pt().memoizedState}function K0(t,e,n){var r=On(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},og(t))sg(e,n);else if(n=Um(t,e,n,r),n!==null){var i=rt();Bt(n,t,r,i),lg(n,e,r)}}function Y0(t,e,n){var r=On(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(og(t))sg(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,$t(l,s)){var a=e.interleaved;a===null?(i.next=i,Oc(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Um(t,e,i,r),n!==null&&(i=rt(),Bt(n,t,r,i),lg(n,e,r))}}function og(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function sg(t,e){eo=el=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wc(t,n)}}var tl={readContext:Nt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},q0={readContext:Nt,useCallback:function(t,e){return Qt().memoizedState=[t,e===void 0?null:e],t},useContext:Nt,useEffect:Wf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ps(4194308,4,Zm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ps(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ps(4,2,t,e)},useMemo:function(t,e){var n=Qt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=K0.bind(null,Ce,t),[r.memoizedState,t]},useRef:function(t){var e=Qt();return t={current:t},e.memoizedState=t},useState:Bf,useDebugValue:$c,useDeferredValue:function(t){return Qt().memoizedState=t},useTransition:function(){var t=Bf(!1),e=t[0];return t=Q0.bind(null,t[1]),Qt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ce,i=Qt();if(Ee){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),We===null)throw Error(R(349));hr&30||Hm(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Wf(Qm.bind(null,r,o,t),[t]),r.flags|=2048,xo(9,Gm.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Qt(),e=We.identifierPrefix;if(Ee){var n=rn,r=nn;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Co++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=G0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},X0={readContext:Nt,useCallback:tg,useContext:Nt,useEffect:Wc,useImperativeHandle:eg,useInsertionEffect:Xm,useLayoutEffect:Jm,useMemo:ng,useReducer:Ta,useRef:qm,useState:function(){return Ta(ko)},useDebugValue:$c,useDeferredValue:function(t){var e=Pt();return rg(e,Ae.memoizedState,t)},useTransition:function(){var t=Ta(ko)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:$m,useSyncExternalStore:Vm,useId:ig,unstable_isNewReconciler:!1},J0={readContext:Nt,useCallback:tg,useContext:Nt,useEffect:Wc,useImperativeHandle:eg,useInsertionEffect:Xm,useLayoutEffect:Jm,useMemo:ng,useReducer:Ia,useRef:qm,useState:function(){return Ia(ko)},useDebugValue:$c,useDeferredValue:function(t){var e=Pt();return Ae===null?e.memoizedState=t:rg(e,Ae.memoizedState,t)},useTransition:function(){var t=Ia(ko)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:$m,useSyncExternalStore:Vm,useId:ig,unstable_isNewReconciler:!1};function Mt(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fl={isMounted:function(t){return(t=t._reactInternals)?Sr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rt(),i=On(t),o=sn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ln(t,o,i),e!==null&&(Bt(e,t,i,r),Rs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rt(),i=On(t),o=sn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ln(t,o,i),e!==null&&(Bt(e,t,i,r),Rs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),r=On(t),i=sn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ln(t,i,r),e!==null&&(Bt(e,t,r,n),Rs(e,t,r))}};function $f(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!_o(n,r)||!_o(i,o):!0}function ag(t,e,n){var r=!1,i=Un,o=e.contextType;return typeof o=="object"&&o!==null?o=Nt(o):(i=ft(e)?dr:Ze.current,r=e.contextTypes,o=(r=r!=null)?oi(t,i):Un),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Vf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fl.enqueueReplaceState(e,e.state,null)}function ku(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ac(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Nt(o):(o=ft(e)?dr:Ze.current,i.context=oi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Cu(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fl.enqueueReplaceState(i,i.state,null),Js(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ui(t,e){try{var n="",r=e;do n+=Ty(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ra(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z0=typeof WeakMap=="function"?WeakMap:Map;function ug(t,e,n){n=sn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rl||(rl=!0,Au=r),xu(t,e)},n}function cg(t,e,n){n=sn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xu(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){xu(t,e),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Hf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Z0;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=hw.bind(null,t,e,n),e.then(t,t))}function Gf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=sn(-1,1),e.tag=2,Ln(n,e,1))),n.lanes|=1),t)}var ew=mn.ReactCurrentOwner,at=!1;function nt(t,e,n,r){e.child=t===null?jm(e,null,n,r):li(e,t.child,n,r)}function Kf(t,e,n,r,i){n=n.render;var o=e.ref;return Jr(e,i),r=Uc(t,e,n,r,o,i),n=Bc(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fn(t,e,i)):(Ee&&n&&Rc(e),e.flags|=1,nt(t,e,r,i),e.child)}function Yf(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Xc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,dg(t,e,o,r,i)):(t=Os(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:_o,n(s,r)&&t.ref===e.ref)return fn(t,e,i)}return e.flags|=1,t=An(o,r),t.ref=e.ref,t.return=e,e.child=t}function dg(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(_o(o,r)&&t.ref===e.ref)if(at=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(at=!0);else return e.lanes=t.lanes,fn(t,e,i)}return Tu(t,e,n,r,i)}function fg(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Hr,gt),gt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(Hr,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pe(Hr,gt),gt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,pe(Hr,gt),gt|=r;return nt(t,e,i,n),e.child}function hg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tu(t,e,n,r,i){var o=ft(n)?dr:Ze.current;return o=oi(e,o),Jr(e,i),n=Uc(t,e,n,r,o,i),r=Bc(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fn(t,e,i)):(Ee&&r&&Rc(e),e.flags|=1,nt(t,e,n,i),e.child)}function qf(t,e,n,r,i){if(ft(n)){var o=!0;Qs(e)}else o=!1;if(Jr(e,i),e.stateNode===null)Ds(t,e),ag(e,n,r),ku(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=ft(n)?dr:Ze.current,u=oi(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Vf(e,s,r,u),Sn=!1;var f=e.memoizedState;s.state=f,Js(e,r,s,i),a=e.memoizedState,l!==r||f!==a||dt.current||Sn?(typeof d=="function"&&(Cu(e,n,d,r),a=e.memoizedState),(l=Sn||$f(e,n,l,r,f,a,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Bm(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Mt(e.type,l),s.props=u,c=e.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Nt(a):(a=ft(n)?dr:Ze.current,a=oi(e,a));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==c||f!==a)&&Vf(e,s,r,a),Sn=!1,f=e.memoizedState,s.state=f,Js(e,r,s,i);var v=e.memoizedState;l!==c||f!==v||dt.current||Sn?(typeof m=="function"&&(Cu(e,n,m,r),v=e.memoizedState),(u=Sn||$f(e,n,u,r,f,v,a)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Iu(t,e,n,r,o,i)}function Iu(t,e,n,r,i,o){hg(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Af(e,n,!1),fn(t,e,o);r=e.stateNode,ew.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=li(e,t.child,null,o),e.child=li(e,null,l,o)):nt(t,e,l,o),e.memoizedState=r.state,i&&Af(e,n,!0),e.child}function pg(t){var e=t.stateNode;e.pendingContext?Of(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Of(t,e.context,!1),Fc(t,e.containerInfo)}function Xf(t,e,n,r,i){return si(),Pc(i),e.flags|=256,nt(t,e,n,r),e.child}var Ru={dehydrated:null,treeContext:null,retryLane:0};function Nu(t){return{baseLanes:t,cachePool:null,transitions:null}}function mg(t,e,n){var r=e.pendingProps,i=Se.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(Se,i&1),t===null)return Eu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=jl(s,r,0,null),t=cr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Nu(n),e.memoizedState=Ru,t):Vc(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return tw(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=An(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=An(l,o):(o=cr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Nu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ru,r}return o=t.child,t=o.sibling,r=An(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vc(t,e){return e=jl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gs(t,e,n,r){return r!==null&&Pc(r),li(e,t.child,null,n),t=Vc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tw(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ra(Error(R(422))),gs(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=jl({mode:"visible",children:r.children},i,0,null),o=cr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&li(e,t.child,null,s),e.child.memoizedState=Nu(s),e.memoizedState=Ru,o);if(!(e.mode&1))return gs(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(R(419)),r=Ra(o,r,void 0),gs(t,e,s,r)}if(l=(s&t.childLanes)!==0,at||l){if(r=We,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,dn(t,i),Bt(r,t,i,-1))}return qc(),r=Ra(Error(R(421))),gs(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pw.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,vt=Dn(i.nextSibling),yt=e,Ee=!0,Ft=null,t!==null&&(xt[Tt++]=nn,xt[Tt++]=rn,xt[Tt++]=fr,nn=t.id,rn=t.overflow,fr=e),e=Vc(e,r.children),e.flags|=4096,e)}function Jf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Su(t.return,e,n)}function Na(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function gg(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(nt(t,e,r.children,n),r=Se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jf(t,n,e);else if(t.tag===19)Jf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(Se,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zs(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Na(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zs(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Na(e,!0,n,null,o);break;case"together":Na(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ds(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=An(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=An(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nw(t,e,n){switch(e.tag){case 3:pg(e),si();break;case 5:Wm(e);break;case 1:ft(e.type)&&Qs(e);break;case 4:Fc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pe(qs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(Se,Se.current&1),e.flags|=128,null):n&e.child.childLanes?mg(t,e,n):(pe(Se,Se.current&1),t=fn(t,e,n),t!==null?t.sibling:null);pe(Se,Se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gg(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(Se,Se.current),r)break;return null;case 22:case 23:return e.lanes=0,fg(t,e,n)}return fn(t,e,n)}var _g,Pu,vg,yg;_g=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pu=function(){};vg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,sr(qt.current);var o=null;switch(n){case"input":i=Ja(t,i),r=Ja(t,r),o=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),o=[];break;case"textarea":i=tu(t,i),r=tu(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hs)}ru(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(uo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(uo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ge("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};yg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mi(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rw(t,e,n){var r=e.pendingProps;switch(Nc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return ft(e.type)&&Gs(),Ke(e),null;case 3:return r=e.stateNode,ai(),ve(dt),ve(Ze),zc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ps(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ft!==null&&(zu(Ft),Ft=null))),Pu(t,e),Ke(e),null;case 5:bc(e);var i=sr(So.current);if(n=e.type,t!==null&&e.stateNode!=null)vg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Ke(e),null}if(t=sr(qt.current),ps(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Kt]=e,r[wo]=o,t=(e.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(i=0;i<Qi.length;i++)ge(Qi[i],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":lf(r,o),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ge("invalid",r);break;case"textarea":uf(r,o),ge("invalid",r)}ru(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&hs(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&hs(r.textContent,l,t),i=["children",""+l]):uo.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ge("scroll",r)}switch(n){case"input":os(r),af(r,o,!0);break;case"textarea":os(r),cf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Kt]=e,t[wo]=r,_g(t,e,!1,!1),e.stateNode=t;e:{switch(s=iu(n,r),n){case"dialog":ge("cancel",t),ge("close",t),i=r;break;case"iframe":case"object":case"embed":ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qi.length;i++)ge(Qi[i],t);i=r;break;case"source":ge("error",t),i=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),i=r;break;case"details":ge("toggle",t),i=r;break;case"input":lf(t,r),i=Ja(t,r),ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),ge("invalid",t);break;case"textarea":uf(t,r),i=tu(t,r),ge("invalid",t);break;default:i=r}ru(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?qp(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Kp(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&co(t,a):typeof a=="number"&&co(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(uo.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ge("scroll",t):a!=null&&pc(t,o,a,s))}switch(n){case"input":os(t),af(t,r,!1);break;case"textarea":os(t),cf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Kr(t,!!r.multiple,o,!1):r.defaultValue!=null&&Kr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ke(e),null;case 6:if(t&&e.stateNode!=null)yg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=sr(So.current),sr(qt.current),ps(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kt]=e,(o=r.nodeValue!==n)&&(t=yt,t!==null))switch(t.tag){case 3:hs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hs(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=e,e.stateNode=r}return Ke(e),null;case 13:if(ve(Se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&vt!==null&&e.mode&1&&!(e.flags&128))bm(),si(),e.flags|=98560,o=!1;else if(o=ps(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(R(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[Kt]=e}else si(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ke(e),o=!1}else Ft!==null&&(zu(Ft),Ft=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Se.current&1?be===0&&(be=3):qc())),e.updateQueue!==null&&(e.flags|=4),Ke(e),null);case 4:return ai(),Pu(t,e),t===null&&vo(e.stateNode.containerInfo),Ke(e),null;case 10:return Mc(e.type._context),Ke(e),null;case 17:return ft(e.type)&&Gs(),Ke(e),null;case 19:if(ve(Se),o=e.memoizedState,o===null)return Ke(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Mi(o,!1);else{if(be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Zs(t),s!==null){for(e.flags|=128,Mi(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(Se,Se.current&1|2),e.child}t=t.sibling}o.tail!==null&&De()>ci&&(e.flags|=128,r=!0,Mi(o,!1),e.lanes=4194304)}else{if(!r)if(t=Zs(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ee)return Ke(e),null}else 2*De()-o.renderingStartTime>ci&&n!==1073741824&&(e.flags|=128,r=!0,Mi(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=De(),e.sibling=null,n=Se.current,pe(Se,r?n&1|2:n&1),e):(Ke(e),null);case 22:case 23:return Yc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gt&1073741824&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function iw(t,e){switch(Nc(e),e.tag){case 1:return ft(e.type)&&Gs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ai(),ve(dt),ve(Ze),zc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bc(e),null;case 13:if(ve(Se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));si()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(Se),null;case 4:return ai(),null;case 10:return Mc(e.type._context),null;case 22:case 23:return Yc(),null;case 24:return null;default:return null}}var _s=!1,qe=!1,ow=typeof WeakSet=="function"?WeakSet:Set,O=null;function Vr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(t,e,r)}else n.current=null}function Du(t,e,n){try{n()}catch(r){Re(t,e,r)}}var Zf=!1;function sw(t,e){if(pu=Ws,t=km(),Ic(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,d=0,c=t,f=null;t:for(;;){for(var m;c!==n||i!==0&&c.nodeType!==3||(l=s+i),c!==o||r!==0&&c.nodeType!==3||(a=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(m=c.firstChild)!==null;)f=c,c=m;for(;;){if(c===t)break t;if(f===n&&++u===i&&(l=s),f===o&&++d===r&&(a=s),(m=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(mu={focusedElem:t,selectionRange:n},Ws=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:Mt(e.type,w),x);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(C){Re(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return v=Zf,Zf=!1,v}function to(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Du(e,n,o)}i=i.next}while(i!==r)}}function bl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wg(t){var e=t.alternate;e!==null&&(t.alternate=null,wg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kt],delete e[wo],delete e[vu],delete e[W0],delete e[$0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Eg(t){return t.tag===5||t.tag===3||t.tag===4}function eh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Eg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hs));else if(r!==4&&(t=t.child,t!==null))for(Mu(t,e,n),t=t.sibling;t!==null;)Mu(t,e,n),t=t.sibling}function Ou(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ou(t,e,n),t=t.sibling;t!==null;)Ou(t,e,n),t=t.sibling}var Ve=null,Ot=!1;function yn(t,e,n){for(n=n.child;n!==null;)Sg(t,e,n),n=n.sibling}function Sg(t,e,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Nl,n)}catch{}switch(n.tag){case 5:qe||Vr(n,e);case 6:var r=Ve,i=Ot;Ve=null,yn(t,e,n),Ve=r,Ot=i,Ve!==null&&(Ot?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Ot?(t=Ve,n=n.stateNode,t.nodeType===8?Sa(t.parentNode,n):t.nodeType===1&&Sa(t,n),mo(t)):Sa(Ve,n.stateNode));break;case 4:r=Ve,i=Ot,Ve=n.stateNode.containerInfo,Ot=!0,yn(t,e,n),Ve=r,Ot=i;break;case 0:case 11:case 14:case 15:if(!qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Du(n,e,s),i=i.next}while(i!==r)}yn(t,e,n);break;case 1:if(!qe&&(Vr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Re(n,e,l)}yn(t,e,n);break;case 21:yn(t,e,n);break;case 22:n.mode&1?(qe=(r=qe)||n.memoizedState!==null,yn(t,e,n),qe=r):yn(t,e,n);break;default:yn(t,e,n)}}function th(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ow),e.forEach(function(r){var i=mw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Lt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ve=l.stateNode,Ot=!1;break e;case 3:Ve=l.stateNode.containerInfo,Ot=!0;break e;case 4:Ve=l.stateNode.containerInfo,Ot=!0;break e}l=l.return}if(Ve===null)throw Error(R(160));Sg(o,s,i),Ve=null,Ot=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Re(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Cg(e,t),e=e.sibling}function Cg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Lt(e,t),Gt(t),r&4){try{to(3,t,t.return),bl(3,t)}catch(w){Re(t,t.return,w)}try{to(5,t,t.return)}catch(w){Re(t,t.return,w)}}break;case 1:Lt(e,t),Gt(t),r&512&&n!==null&&Vr(n,n.return);break;case 5:if(Lt(e,t),Gt(t),r&512&&n!==null&&Vr(n,n.return),t.flags&32){var i=t.stateNode;try{co(i,"")}catch(w){Re(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Hp(i,o),iu(l,s);var u=iu(l,o);for(s=0;s<a.length;s+=2){var d=a[s],c=a[s+1];d==="style"?qp(i,c):d==="dangerouslySetInnerHTML"?Kp(i,c):d==="children"?co(i,c):pc(i,d,c,u)}switch(l){case"input":Za(i,o);break;case"textarea":Gp(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Kr(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?Kr(i,!!o.multiple,o.defaultValue,!0):Kr(i,!!o.multiple,o.multiple?[]:"",!1))}i[wo]=o}catch(w){Re(t,t.return,w)}}break;case 6:if(Lt(e,t),Gt(t),r&4){if(t.stateNode===null)throw Error(R(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){Re(t,t.return,w)}}break;case 3:if(Lt(e,t),Gt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mo(e.containerInfo)}catch(w){Re(t,t.return,w)}break;case 4:Lt(e,t),Gt(t);break;case 13:Lt(e,t),Gt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Qc=De())),r&4&&th(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(qe=(u=qe)||d,Lt(e,t),qe=u):Lt(e,t),Gt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(c=O=d;O!==null;){switch(f=O,m=f.child,f.tag){case 0:case 11:case 14:case 15:to(4,f,f.return);break;case 1:Vr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Re(r,n,w)}}break;case 5:Vr(f,f.return);break;case 22:if(f.memoizedState!==null){rh(c);continue}}m!==null?(m.return=f,O=m):rh(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=c.stateNode,a=c.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Yp("display",s))}catch(w){Re(t,t.return,w)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(w){Re(t,t.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Lt(e,t),Gt(t),r&4&&th(t);break;case 21:break;default:Lt(e,t),Gt(t)}}function Gt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Eg(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(co(i,""),r.flags&=-33);var o=eh(t);Ou(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=eh(t);Mu(t,l,s);break;default:throw Error(R(161))}}catch(a){Re(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lw(t,e,n){O=t,kg(t)}function kg(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||_s;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||qe;l=_s;var u=qe;if(_s=s,(qe=a)&&!u)for(O=i;O!==null;)s=O,a=s.child,s.tag===22&&s.memoizedState!==null?ih(i):a!==null?(a.return=s,O=a):ih(i);for(;o!==null;)O=o,kg(o),o=o.sibling;O=i,_s=l,qe=u}nh(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,O=o):nh(t)}}function nh(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qe||bl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Uf(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Uf(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&mo(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}qe||e.flags&512&&Lu(e)}catch(f){Re(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function rh(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function ih(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bl(4,e)}catch(a){Re(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Re(e,i,a)}}var o=e.return;try{Lu(e)}catch(a){Re(e,o,a)}break;case 5:var s=e.return;try{Lu(e)}catch(a){Re(e,s,a)}}}catch(a){Re(e,e.return,a)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var aw=Math.ceil,nl=mn.ReactCurrentDispatcher,Hc=mn.ReactCurrentOwner,Rt=mn.ReactCurrentBatchConfig,te=0,We=null,Oe=null,He=0,gt=0,Hr=Vn(0),be=0,To=null,pr=0,zl=0,Gc=0,no=null,lt=null,Qc=0,ci=1/0,en=null,rl=!1,Au=null,Mn=null,vs=!1,Tn=null,il=0,ro=0,Fu=null,Ls=-1,Ms=0;function rt(){return te&6?De():Ls!==-1?Ls:Ls=De()}function On(t){return t.mode&1?te&2&&He!==0?He&-He:H0.transition!==null?(Ms===0&&(Ms=am()),Ms):(t=le,t!==0||(t=window.event,t=t===void 0?16:mm(t.type)),t):1}function Bt(t,e,n,r){if(50<ro)throw ro=0,Fu=null,Error(R(185));jo(t,n,r),(!(te&2)||t!==We)&&(t===We&&(!(te&2)&&(zl|=n),be===4&&kn(t,He)),ht(t,r),n===1&&te===0&&!(e.mode&1)&&(ci=De()+500,Ol&&Hn()))}function ht(t,e){var n=t.callbackNode;Hy(t,e);var r=Bs(t,t===We?He:0);if(r===0)n!==null&&hf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hf(n),e===1)t.tag===0?V0(oh.bind(null,t)):Om(oh.bind(null,t)),U0(function(){!(te&6)&&Hn()}),n=null;else{switch(um(r)){case 1:n=yc;break;case 4:n=sm;break;case 16:n=Us;break;case 536870912:n=lm;break;default:n=Us}n=Lg(n,xg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xg(t,e){if(Ls=-1,Ms=0,te&6)throw Error(R(327));var n=t.callbackNode;if(Zr()&&t.callbackNode!==n)return null;var r=Bs(t,t===We?He:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ol(t,r);else{e=r;var i=te;te|=2;var o=Ig();(We!==t||He!==e)&&(en=null,ci=De()+500,ur(t,e));do try{dw();break}catch(l){Tg(t,l)}while(!0);Lc(),nl.current=o,te=i,Oe!==null?e=0:(We=null,He=0,e=be)}if(e!==0){if(e===2&&(i=uu(t),i!==0&&(r=i,e=bu(t,i))),e===1)throw n=To,ur(t,0),kn(t,r),ht(t,De()),n;if(e===6)kn(t,r);else{if(i=t.current.alternate,!(r&30)&&!uw(i)&&(e=ol(t,r),e===2&&(o=uu(t),o!==0&&(r=o,e=bu(t,o))),e===1))throw n=To,ur(t,0),kn(t,r),ht(t,De()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:Zn(t,lt,en);break;case 3:if(kn(t,r),(r&130023424)===r&&(e=Qc+500-De(),10<e)){if(Bs(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_u(Zn.bind(null,t,lt,en),e);break}Zn(t,lt,en);break;case 4:if(kn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ut(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aw(r/1960))-r,10<r){t.timeoutHandle=_u(Zn.bind(null,t,lt,en),r);break}Zn(t,lt,en);break;case 5:Zn(t,lt,en);break;default:throw Error(R(329))}}}return ht(t,De()),t.callbackNode===n?xg.bind(null,t):null}function bu(t,e){var n=no;return t.current.memoizedState.isDehydrated&&(ur(t,e).flags|=256),t=ol(t,e),t!==2&&(e=lt,lt=n,e!==null&&zu(e)),t}function zu(t){lt===null?lt=t:lt.push.apply(lt,t)}function uw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$t(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kn(t,e){for(e&=~Gc,e&=~zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ut(e),r=1<<n;t[n]=-1,e&=~r}}function oh(t){if(te&6)throw Error(R(327));Zr();var e=Bs(t,0);if(!(e&1))return ht(t,De()),null;var n=ol(t,e);if(t.tag!==0&&n===2){var r=uu(t);r!==0&&(e=r,n=bu(t,r))}if(n===1)throw n=To,ur(t,0),kn(t,e),ht(t,De()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zn(t,lt,en),ht(t,De()),null}function Kc(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(ci=De()+500,Ol&&Hn())}}function mr(t){Tn!==null&&Tn.tag===0&&!(te&6)&&Zr();var e=te;te|=1;var n=Rt.transition,r=le;try{if(Rt.transition=null,le=1,t)return t()}finally{le=r,Rt.transition=n,te=e,!(te&6)&&Hn()}}function Yc(){gt=Hr.current,ve(Hr)}function ur(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,j0(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(Nc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gs();break;case 3:ai(),ve(dt),ve(Ze),zc();break;case 5:bc(r);break;case 4:ai();break;case 13:ve(Se);break;case 19:ve(Se);break;case 10:Mc(r.type._context);break;case 22:case 23:Yc()}n=n.return}if(We=t,Oe=t=An(t.current,null),He=gt=e,be=0,To=null,Gc=zl=pr=0,lt=no=null,or!==null){for(e=0;e<or.length;e++)if(n=or[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}or=null}return t}function Tg(t,e){do{var n=Oe;try{if(Lc(),Ns.current=tl,el){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}el=!1}if(hr=0,je=Ae=Ce=null,eo=!1,Co=0,Hc.current=null,n===null||n.return===null){be=1,To=e,Oe=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=He,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Gf(s);if(m!==null){m.flags&=-257,Qf(m,s,l,o,e),m.mode&1&&Hf(o,u,e),e=m,a=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(a),e.updateQueue=w}else v.add(a);break e}else{if(!(e&1)){Hf(o,u,e),qc();break e}a=Error(R(426))}}else if(Ee&&l.mode&1){var x=Gf(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Qf(x,s,l,o,e),Pc(ui(a,l));break e}}o=a=ui(a,l),be!==4&&(be=2),no===null?no=[o]:no.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=ug(o,a,e);jf(o,p);break e;case 1:l=a;var h=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Mn===null||!Mn.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=cg(o,l,e);jf(o,C);break e}}o=o.return}while(o!==null)}Ng(n)}catch(N){e=N,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function Ig(){var t=nl.current;return nl.current=tl,t===null?tl:t}function qc(){(be===0||be===3||be===2)&&(be=4),We===null||!(pr&268435455)&&!(zl&268435455)||kn(We,He)}function ol(t,e){var n=te;te|=2;var r=Ig();(We!==t||He!==e)&&(en=null,ur(t,e));do try{cw();break}catch(i){Tg(t,i)}while(!0);if(Lc(),te=n,nl.current=r,Oe!==null)throw Error(R(261));return We=null,He=0,be}function cw(){for(;Oe!==null;)Rg(Oe)}function dw(){for(;Oe!==null&&!Fy();)Rg(Oe)}function Rg(t){var e=Dg(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?Ng(t):Oe=e,Hc.current=null}function Ng(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iw(n,e),n!==null){n.flags&=32767,Oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{be=6,Oe=null;return}}else if(n=rw(n,e,gt),n!==null){Oe=n;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);be===0&&(be=5)}function Zn(t,e,n){var r=le,i=Rt.transition;try{Rt.transition=null,le=1,fw(t,e,n,r)}finally{Rt.transition=i,le=r}return null}function fw(t,e,n,r){do Zr();while(Tn!==null);if(te&6)throw Error(R(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Gy(t,o),t===We&&(Oe=We=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vs||(vs=!0,Lg(Us,function(){return Zr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Rt.transition,Rt.transition=null;var s=le;le=1;var l=te;te|=4,Hc.current=null,sw(t,n),Cg(n,t),L0(mu),Ws=!!pu,mu=pu=null,t.current=n,lw(n),by(),te=l,le=s,Rt.transition=o}else t.current=n;if(vs&&(vs=!1,Tn=t,il=i),o=t.pendingLanes,o===0&&(Mn=null),Uy(n.stateNode),ht(t,De()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rl)throw rl=!1,t=Au,Au=null,t;return il&1&&t.tag!==0&&Zr(),o=t.pendingLanes,o&1?t===Fu?ro++:(ro=0,Fu=t):ro=0,Hn(),null}function Zr(){if(Tn!==null){var t=um(il),e=Rt.transition,n=le;try{if(Rt.transition=null,le=16>t?16:t,Tn===null)var r=!1;else{if(t=Tn,Tn=null,il=0,te&6)throw Error(R(331));var i=te;for(te|=4,O=t.current;O!==null;){var o=O,s=o.child;if(O.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:to(8,d,o)}var c=d.child;if(c!==null)c.return=d,O=c;else for(;O!==null;){d=O;var f=d.sibling,m=d.return;if(wg(d),d===u){O=null;break}if(f!==null){f.return=m,O=f;break}O=m}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}O=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,O=s;else e:for(;O!==null;){if(o=O,o.flags&2048)switch(o.tag){case 0:case 11:case 15:to(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,O=p;break e}O=o.return}}var h=t.current;for(O=h;O!==null;){s=O;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,O=_;else e:for(s=h;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bl(9,l)}}catch(N){Re(l,l.return,N)}if(l===s){O=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,O=C;break e}O=l.return}}if(te=i,Hn(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Nl,t)}catch{}r=!0}return r}finally{le=n,Rt.transition=e}}return!1}function sh(t,e,n){e=ui(n,e),e=ug(t,e,1),t=Ln(t,e,1),e=rt(),t!==null&&(jo(t,1,e),ht(t,e))}function Re(t,e,n){if(t.tag===3)sh(t,t,n);else for(;e!==null;){if(e.tag===3){sh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){t=ui(n,t),t=cg(e,t,1),e=Ln(e,t,1),t=rt(),e!==null&&(jo(e,1,t),ht(e,t));break}}e=e.return}}function hw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&n,We===t&&(He&n)===n&&(be===4||be===3&&(He&130023424)===He&&500>De()-Qc?ur(t,0):Gc|=n),ht(t,e)}function Pg(t,e){e===0&&(t.mode&1?(e=as,as<<=1,!(as&130023424)&&(as=4194304)):e=1);var n=rt();t=dn(t,e),t!==null&&(jo(t,e,n),ht(t,n))}function pw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Pg(t,n)}function mw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),Pg(t,n)}var Dg;Dg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dt.current)at=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return at=!1,nw(t,e,n);at=!!(t.flags&131072)}else at=!1,Ee&&e.flags&1048576&&Am(e,Ys,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ds(t,e),t=e.pendingProps;var i=oi(e,Ze.current);Jr(e,n),i=Uc(null,e,r,t,i,n);var o=Bc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ft(r)?(o=!0,Qs(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ac(e),i.updater=Fl,e.stateNode=i,i._reactInternals=e,ku(e,r,t,n),e=Iu(null,e,r,!0,o,n)):(e.tag=0,Ee&&o&&Rc(e),nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ds(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_w(r),t=Mt(r,t),i){case 0:e=Tu(null,e,r,t,n);break e;case 1:e=qf(null,e,r,t,n);break e;case 11:e=Kf(null,e,r,t,n);break e;case 14:e=Yf(null,e,r,Mt(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Tu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),qf(t,e,r,i,n);case 3:e:{if(pg(e),t===null)throw Error(R(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Bm(t,e),Js(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ui(Error(R(423)),e),e=Xf(t,e,r,n,i);break e}else if(r!==i){i=ui(Error(R(424)),e),e=Xf(t,e,r,n,i);break e}else for(vt=Dn(e.stateNode.containerInfo.firstChild),yt=e,Ee=!0,Ft=null,n=jm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(si(),r===i){e=fn(t,e,n);break e}nt(t,e,r,n)}e=e.child}return e;case 5:return Wm(e),t===null&&Eu(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,gu(r,i)?s=null:o!==null&&gu(r,o)&&(e.flags|=32),hg(t,e),nt(t,e,s,n),e.child;case 6:return t===null&&Eu(e),null;case 13:return mg(t,e,n);case 4:return Fc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=li(e,null,r,n):nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Kf(t,e,r,i,n);case 7:return nt(t,e,e.pendingProps,n),e.child;case 8:return nt(t,e,e.pendingProps.children,n),e.child;case 12:return nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,pe(qs,r._currentValue),r._currentValue=s,o!==null)if($t(o.value,s)){if(o.children===i.children&&!dt.current){e=fn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=sn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Su(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(R(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Su(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Jr(e,n),i=Nt(i),r=r(i),e.flags|=1,nt(t,e,r,n),e.child;case 14:return r=e.type,i=Mt(r,e.pendingProps),i=Mt(r.type,i),Yf(t,e,r,i,n);case 15:return dg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Ds(t,e),e.tag=1,ft(r)?(t=!0,Qs(e)):t=!1,Jr(e,n),ag(e,r,i),ku(e,r,i,n),Iu(null,e,r,!0,t,n);case 19:return gg(t,e,n);case 22:return fg(t,e,n)}throw Error(R(156,e.tag))};function Lg(t,e){return om(t,e)}function gw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,e,n,r){return new gw(t,e,n,r)}function Xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _w(t){if(typeof t=="function")return Xc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gc)return 11;if(t===_c)return 14}return 2}function An(t,e){var n=t.alternate;return n===null?(n=It(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Os(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Xc(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ar:return cr(n.children,i,o,e);case mc:s=8,i|=8;break;case Ka:return t=It(12,n,e,i|2),t.elementType=Ka,t.lanes=o,t;case Ya:return t=It(13,n,e,i),t.elementType=Ya,t.lanes=o,t;case qa:return t=It(19,n,e,i),t.elementType=qa,t.lanes=o,t;case Wp:return jl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Up:s=10;break e;case Bp:s=9;break e;case gc:s=11;break e;case _c:s=14;break e;case En:s=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=It(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function cr(t,e,n,r){return t=It(7,t,r,e),t.lanes=n,t}function jl(t,e,n,r){return t=It(22,t,r,e),t.elementType=Wp,t.lanes=n,t.stateNode={isHidden:!1},t}function Pa(t,e,n){return t=It(6,t,null,e),t.lanes=n,t}function Da(t,e,n){return e=It(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vw(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=da(0),this.expirationTimes=da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jc(t,e,n,r,i,o,s,l,a){return t=new vw(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=It(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(o),t}function yw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Or,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Mg(t){if(!t)return Un;t=t._reactInternals;e:{if(Sr(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(ft(n))return Mm(t,n,e)}return e}function Og(t,e,n,r,i,o,s,l,a){return t=Jc(n,r,!0,t,i,o,s,l,a),t.context=Mg(null),n=t.current,r=rt(),i=On(n),o=sn(r,i),o.callback=e??null,Ln(n,o,i),t.current.lanes=i,jo(t,i,r),ht(t,r),t}function Ul(t,e,n,r){var i=e.current,o=rt(),s=On(i);return n=Mg(n),e.context===null?e.context=n:e.pendingContext=n,e=sn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ln(i,e,s),t!==null&&(Bt(t,i,s,o),Rs(t,i,s)),s}function sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zc(t,e){lh(t,e),(t=t.alternate)&&lh(t,e)}function ww(){return null}var Ag=typeof reportError=="function"?reportError:function(t){console.error(t)};function ed(t){this._internalRoot=t}Bl.prototype.render=ed.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Ul(t,e,null,null)};Bl.prototype.unmount=ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mr(function(){Ul(null,t,null,null)}),e[cn]=null}};function Bl(t){this._internalRoot=t}Bl.prototype.unstable_scheduleHydration=function(t){if(t){var e=fm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cn.length&&e!==0&&e<Cn[n].priority;n++);Cn.splice(n,0,t),n===0&&pm(t)}};function td(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ah(){}function Ew(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=sl(s);o.call(u)}}var s=Og(e,r,t,0,null,!1,!1,"",ah);return t._reactRootContainer=s,t[cn]=s.current,vo(t.nodeType===8?t.parentNode:t),mr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=sl(a);l.call(u)}}var a=Jc(t,0,!1,null,null,!1,!1,"",ah);return t._reactRootContainer=a,t[cn]=a.current,vo(t.nodeType===8?t.parentNode:t),mr(function(){Ul(e,a,n,r)}),a}function $l(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=sl(s);l.call(a)}}Ul(e,s,t,i)}else s=Ew(n,e,t,i,r);return sl(s)}cm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gi(e.pendingLanes);n!==0&&(wc(e,n|1),ht(e,De()),!(te&6)&&(ci=De()+500,Hn()))}break;case 13:mr(function(){var r=dn(t,1);if(r!==null){var i=rt();Bt(r,t,1,i)}}),Zc(t,1)}};Ec=function(t){if(t.tag===13){var e=dn(t,134217728);if(e!==null){var n=rt();Bt(e,t,134217728,n)}Zc(t,134217728)}};dm=function(t){if(t.tag===13){var e=On(t),n=dn(t,e);if(n!==null){var r=rt();Bt(n,t,e,r)}Zc(t,e)}};fm=function(){return le};hm=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};su=function(t,e,n){switch(e){case"input":if(Za(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ml(r);if(!i)throw Error(R(90));Vp(r),Za(r,i)}}}break;case"textarea":Gp(t,n);break;case"select":e=n.value,e!=null&&Kr(t,!!n.multiple,e,!1)}};Zp=Kc;em=mr;var Sw={usingClientEntryPoint:!1,Events:[Bo,jr,Ml,Xp,Jp,Kc]},Oi={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cw={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rm(t),t===null?null:t.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||ww,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{Nl=ys.inject(Cw),Yt=ys}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sw;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!td(e))throw Error(R(200));return yw(t,e,null,n)};St.createRoot=function(t,e){if(!td(t))throw Error(R(299));var n=!1,r="",i=Ag;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jc(t,1,!1,null,null,n,!1,r,i),t[cn]=e.current,vo(t.nodeType===8?t.parentNode:t),new ed(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=rm(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return mr(t)};St.hydrate=function(t,e,n){if(!Wl(e))throw Error(R(200));return $l(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!td(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Ag;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Og(e,null,t,1,n??null,i,!1,o,s),t[cn]=e.current,vo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bl(e)};St.render=function(t,e,n){if(!Wl(e))throw Error(R(200));return $l(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!Wl(t))throw Error(R(40));return t._reactRootContainer?(mr(function(){$l(null,null,t,!1,function(){t._reactRootContainer=null,t[cn]=null})}),!0):!1};St.unstable_batchedUpdates=Kc;St.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wl(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return $l(t,e,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function Fg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fg)}catch(t){console.error(t)}}Fg(),Fp.exports=St;var nd=Fp.exports;const kw=kp(nd),xw=Cp({__proto__:null,default:kw},[nd]);var bg,uh=nd;bg=uh.createRoot,uh.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function we(){return we=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},we.apply(this,arguments)}var Me;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Me||(Me={}));const ch="popstate";function Tw(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Io("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gr(i)}return Rw(e,n,null,t)}function J(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function di(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Iw(){return Math.random().toString(36).substr(2,8)}function dh(t,e){return{usr:t.state,key:t.key,idx:e}}function Io(t,e,n,r){return n===void 0&&(n=null),we({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gn(e):e,{state:n,key:e&&e.key||r||Iw()})}function gr(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Rw(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Me.Pop,a=null,u=d();u==null&&(u=0,s.replaceState(we({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function c(){l=Me.Pop;let x=d(),p=x==null?null:x-u;u=x,a&&a({action:l,location:w.location,delta:p})}function f(x,p){l=Me.Push;let h=Io(w.location,x,p);u=d()+1;let _=dh(h,u),C=w.createHref(h);try{s.pushState(_,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(C)}o&&a&&a({action:l,location:w.location,delta:1})}function m(x,p){l=Me.Replace;let h=Io(w.location,x,p);u=d();let _=dh(h,u),C=w.createHref(h);s.replaceState(_,"",C),o&&a&&a({action:l,location:w.location,delta:0})}function v(x){let p=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof x=="string"?x:gr(x);return h=h.replace(/ $/,"%20"),J(p,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,p)}let w={get action(){return l},get location(){return t(i,s)},listen(x){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(ch,c),a=x,()=>{i.removeEventListener(ch,c),a=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let p=v(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(x){return s.go(x)}};return w}var ue;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ue||(ue={}));const Nw=new Set(["lazy","caseSensitive","path","id","index","children"]);function Pw(t){return t.index===!0}function ll(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],l=typeof i.id=="string"?i.id:s.join("-");if(J(i.index!==!0||!i.children,"Cannot specify children on an index route"),J(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Pw(i)){let a=we({},i,e(i),{id:l});return r[l]=a,a}else{let a=we({},i,e(i),{id:l,children:void 0});return r[l]=a,i.children&&(a.children=ll(i.children,e,s,r)),a}})}function nr(t,e,n){return n===void 0&&(n="/"),As(t,e,n,!1)}function As(t,e,n,r){let i=typeof e=="string"?Gn(e):e,o=yi(i.pathname||"/",n);if(o==null)return null;let s=zg(t);Lw(s);let l=null;for(let a=0;l==null&&a<s.length;++a){let u=$w(o);l=Bw(s[a],u,r)}return l}function Dw(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function zg(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(J(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=ln([r,a.relativePath]),d=n.concat(a);o.children&&o.children.length>0&&(J(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zg(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:jw(u,o.index),routesMeta:d})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of jg(o.path))i(o,s,a)}),e}function jg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=jg(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function Lw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Uw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Mw=/^:[\w-]+$/,Ow=3,Aw=2,Fw=1,bw=10,zw=-2,fh=t=>t==="*";function jw(t,e){let n=t.split("/"),r=n.length;return n.some(fh)&&(r+=zw),e&&(r+=Aw),n.filter(i=>!fh(i)).reduce((i,o)=>i+(Mw.test(o)?Ow:o===""?Fw:bw),r)}function Uw(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Bw(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",c=hh({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),f=a.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=hh({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:ln([o,c.pathname]),pathnameBase:Gw(ln([o,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(o=ln([o,c.pathnameBase]))}return s}function hh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ww(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,c)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let w=l[c]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[c];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Ww(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),di(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $w(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return di(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Vw(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Gn(t):t;return{pathname:n?n.startsWith("/")?n:Hw(n,e):e,search:Qw(r),hash:Kw(i)}}function Hw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function La(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ug(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rd(t,e){let n=Ug(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function id(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Gn(t):(i=we({},t),J(!i.pathname||!i.pathname.includes("?"),La("?","pathname","search",i)),J(!i.pathname||!i.pathname.includes("#"),La("#","pathname","hash",i)),J(!i.search||!i.search.includes("#"),La("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let c=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}l=c>=0?e[c]:"/"}let a=Vw(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}const ln=t=>t.join("/").replace(/\/\/+/g,"/"),Gw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Qw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Kw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class al{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Vl(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Bg=["post","put","patch","delete"],Yw=new Set(Bg),qw=["get",...Bg],Xw=new Set(qw),Jw=new Set([301,302,303,307,308]),Zw=new Set([307,308]),Ma={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ai={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},od=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tE=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Wg="remix-router-transitions";function nE(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;J(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let g=t.detectErrorBoundary;i=E=>({hasErrorBoundary:g(E)})}else i=tE;let o={},s=ll(t.routes,i,void 0,o),l,a=t.basename||"/",u=t.dataStrategy||sE,d=t.patchRoutesOnNavigation,c=we({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,m=new Set,v=null,w=null,x=null,p=t.hydrationData!=null,h=nr(s,t.history.location,a),_=null;if(h==null&&!d){let g=st(404,{pathname:t.history.location.pathname}),{matches:E,route:S}=kh(s);h=E,_={[S.id]:g}}h&&!t.hydrationData&&Zo(h,s,t.history.location.pathname).active&&(h=null);let C;if(h)if(h.some(g=>g.route.lazy))C=!1;else if(!h.some(g=>g.route.loader))C=!0;else if(c.v7_partialHydration){let g=t.hydrationData?t.hydrationData.loaderData:null,E=t.hydrationData?t.hydrationData.errors:null;if(E){let S=h.findIndex(T=>E[T.route.id]!==void 0);C=h.slice(0,S+1).every(T=>!Uu(T.route,g,E))}else C=h.every(S=>!Uu(S.route,g,E))}else C=t.hydrationData!=null;else if(C=!1,h=[],c.v7_partialHydration){let g=Zo(null,s,t.history.location.pathname);g.active&&g.matches&&(h=g.matches)}let N,y={historyAction:t.history.action,location:t.history.location,matches:h,initialized:C,navigation:Ma,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||_,fetchers:new Map,blockers:new Map},D=Me.Pop,I=!1,U,b=!1,oe=new Map,me=null,se=!1,xe=!1,Dt=[],Vt=new Set,ye=new Map,L=0,$=-1,V=new Map,Z=new Set,ae=new Map,kt=new Map,Pe=new Set,mt=new Map,et=new Map,Xt;function Ov(){if(f=t.history.listen(g=>{let{action:E,location:S,delta:T}=g;if(Xt){Xt(),Xt=void 0;return}di(et.size===0||T!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let A=qd({currentLocation:y.location,nextLocation:S,historyAction:E});if(A&&T!=null){let B=new Promise(G=>{Xt=G});t.history.go(T*-1),Jo(A,{state:"blocked",location:S,proceed(){Jo(A,{state:"proceeding",proceed:void 0,reset:void 0,location:S}),B.then(()=>t.history.go(T))},reset(){let G=new Map(y.blockers);G.set(A,Ai),tt({blockers:G})}});return}return Yn(E,S)}),n){wE(e,oe);let g=()=>EE(e,oe);e.addEventListener("pagehide",g),me=()=>e.removeEventListener("pagehide",g)}return y.initialized||Yn(Me.Pop,y.location,{initialHydration:!0}),N}function Av(){f&&f(),me&&me(),m.clear(),U&&U.abort(),y.fetchers.forEach((g,E)=>Xo(E)),y.blockers.forEach((g,E)=>Yd(E))}function Fv(g){return m.add(g),()=>m.delete(g)}function tt(g,E){E===void 0&&(E={}),y=we({},y,g);let S=[],T=[];c.v7_fetcherPersist&&y.fetchers.forEach((A,B)=>{A.state==="idle"&&(Pe.has(B)?T.push(B):S.push(B))}),[...m].forEach(A=>A(y,{deletedFetchers:T,viewTransitionOpts:E.viewTransitionOpts,flushSync:E.flushSync===!0})),c.v7_fetcherPersist&&(S.forEach(A=>y.fetchers.delete(A)),T.forEach(A=>Xo(A)))}function Tr(g,E,S){var T,A;let{flushSync:B}=S===void 0?{}:S,G=y.actionData!=null&&y.navigation.formMethod!=null&&At(y.navigation.formMethod)&&y.navigation.state==="loading"&&((T=g.state)==null?void 0:T._isRedirect)!==!0,z;E.actionData?Object.keys(E.actionData).length>0?z=E.actionData:z=null:G?z=y.actionData:z=null;let j=E.loaderData?Sh(y.loaderData,E.loaderData,E.matches||[],E.errors):y.loaderData,F=y.blockers;F.size>0&&(F=new Map(F),F.forEach((ee,$e)=>F.set($e,Ai)));let W=I===!0||y.navigation.formMethod!=null&&At(y.navigation.formMethod)&&((A=g.state)==null?void 0:A._isRedirect)!==!0;l&&(s=l,l=void 0),se||D===Me.Pop||(D===Me.Push?t.history.push(g,g.state):D===Me.Replace&&t.history.replace(g,g.state));let X;if(D===Me.Pop){let ee=oe.get(y.location.pathname);ee&&ee.has(g.pathname)?X={currentLocation:y.location,nextLocation:g}:oe.has(g.pathname)&&(X={currentLocation:g,nextLocation:y.location})}else if(b){let ee=oe.get(y.location.pathname);ee?ee.add(g.pathname):(ee=new Set([g.pathname]),oe.set(y.location.pathname,ee)),X={currentLocation:y.location,nextLocation:g}}tt(we({},E,{actionData:z,loaderData:j,historyAction:D,location:g,initialized:!0,navigation:Ma,revalidation:"idle",restoreScrollPosition:Jd(g,E.matches||y.matches),preventScrollReset:W,blockers:F}),{viewTransitionOpts:X,flushSync:B===!0}),D=Me.Pop,I=!1,b=!1,se=!1,xe=!1,Dt=[]}async function Wd(g,E){if(typeof g=="number"){t.history.go(g);return}let S=ju(y.location,y.matches,a,c.v7_prependBasename,g,c.v7_relativeSplatPath,E==null?void 0:E.fromRouteId,E==null?void 0:E.relative),{path:T,submission:A,error:B}=ph(c.v7_normalizeFormMethod,!1,S,E),G=y.location,z=Io(y.location,T,E&&E.state);z=we({},z,t.history.encodeLocation(z));let j=E&&E.replace!=null?E.replace:void 0,F=Me.Push;j===!0?F=Me.Replace:j===!1||A!=null&&At(A.formMethod)&&A.formAction===y.location.pathname+y.location.search&&(F=Me.Replace);let W=E&&"preventScrollReset"in E?E.preventScrollReset===!0:void 0,X=(E&&E.flushSync)===!0,ee=qd({currentLocation:G,nextLocation:z,historyAction:F});if(ee){Jo(ee,{state:"blocked",location:z,proceed(){Jo(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),Wd(g,E)},reset(){let $e=new Map(y.blockers);$e.set(ee,Ai),tt({blockers:$e})}});return}return await Yn(F,z,{submission:A,pendingError:B,preventScrollReset:W,replace:E&&E.replace,enableViewTransition:E&&E.viewTransition,flushSync:X})}function bv(){if(na(),tt({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){Yn(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}Yn(D||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation,enableViewTransition:b===!0})}}async function Yn(g,E,S){U&&U.abort(),U=null,D=g,se=(S&&S.startUninterruptedRevalidation)===!0,Qv(y.location,y.matches),I=(S&&S.preventScrollReset)===!0,b=(S&&S.enableViewTransition)===!0;let T=l||s,A=S&&S.overrideNavigation,B=nr(T,E,a),G=(S&&S.flushSync)===!0,z=Zo(B,T,E.pathname);if(z.active&&z.matches&&(B=z.matches),!B){let{error:de,notFoundMatches:re,route:Te}=ra(E.pathname);Tr(E,{matches:re,loaderData:{},errors:{[Te.id]:de}},{flushSync:G});return}if(y.initialized&&!xe&&fE(y.location,E)&&!(S&&S.submission&&At(S.submission.formMethod))){Tr(E,{matches:B},{flushSync:G});return}U=new AbortController;let j=Dr(t.history,E,U.signal,S&&S.submission),F;if(S&&S.pendingError)F=[rr(B).route.id,{type:ue.error,error:S.pendingError}];else if(S&&S.submission&&At(S.submission.formMethod)){let de=await zv(j,E,S.submission,B,z.active,{replace:S.replace,flushSync:G});if(de.shortCircuited)return;if(de.pendingActionResult){let[re,Te]=de.pendingActionResult;if(_t(Te)&&Vl(Te.error)&&Te.error.status===404){U=null,Tr(E,{matches:de.matches,loaderData:{},errors:{[re]:Te.error}});return}}B=de.matches||B,F=de.pendingActionResult,A=Oa(E,S.submission),G=!1,z.active=!1,j=Dr(t.history,j.url,j.signal)}let{shortCircuited:W,matches:X,loaderData:ee,errors:$e}=await jv(j,E,B,z.active,A,S&&S.submission,S&&S.fetcherSubmission,S&&S.replace,S&&S.initialHydration===!0,G,F);W||(U=null,Tr(E,we({matches:X||B},Ch(F),{loaderData:ee,errors:$e})))}async function zv(g,E,S,T,A,B){B===void 0&&(B={}),na();let G=vE(E,S);if(tt({navigation:G},{flushSync:B.flushSync===!0}),A){let F=await es(T,E.pathname,g.signal);if(F.type==="aborted")return{shortCircuited:!0};if(F.type==="error"){let W=rr(F.partialMatches).route.id;return{matches:F.partialMatches,pendingActionResult:[W,{type:ue.error,error:F.error}]}}else if(F.matches)T=F.matches;else{let{notFoundMatches:W,error:X,route:ee}=ra(E.pathname);return{matches:W,pendingActionResult:[ee.id,{type:ue.error,error:X}]}}}let z,j=Ki(T,E);if(!j.route.action&&!j.route.lazy)z={type:ue.error,error:st(405,{method:g.method,pathname:E.pathname,routeId:j.route.id})};else if(z=(await Ci("action",y,g,[j],T,null))[j.route.id],g.signal.aborted)return{shortCircuited:!0};if(lr(z)){let F;return B&&B.replace!=null?F=B.replace:F=yh(z.response.headers.get("Location"),new URL(g.url),a)===y.location.pathname+y.location.search,await qn(g,z,!0,{submission:S,replace:F}),{shortCircuited:!0}}if(In(z))throw st(400,{type:"defer-action"});if(_t(z)){let F=rr(T,j.route.id);return(B&&B.replace)!==!0&&(D=Me.Push),{matches:T,pendingActionResult:[F.route.id,z]}}return{matches:T,pendingActionResult:[j.route.id,z]}}async function jv(g,E,S,T,A,B,G,z,j,F,W){let X=A||Oa(E,B),ee=B||G||Th(X),$e=!se&&(!c.v7_partialHydration||!j);if(T){if($e){let Ie=$d(W);tt(we({navigation:X},Ie!==void 0?{actionData:Ie}:{}),{flushSync:F})}let ne=await es(S,E.pathname,g.signal);if(ne.type==="aborted")return{shortCircuited:!0};if(ne.type==="error"){let Ie=rr(ne.partialMatches).route.id;return{matches:ne.partialMatches,loaderData:{},errors:{[Ie]:ne.error}}}else if(ne.matches)S=ne.matches;else{let{error:Ie,notFoundMatches:Rr,route:Ti}=ra(E.pathname);return{matches:Rr,loaderData:{},errors:{[Ti.id]:Ie}}}}let de=l||s,[re,Te]=gh(t.history,y,S,ee,E,c.v7_partialHydration&&j===!0,c.v7_skipActionErrorRevalidation,xe,Dt,Vt,Pe,ae,Z,de,a,W);if(ia(ne=>!(S&&S.some(Ie=>Ie.route.id===ne))||re&&re.some(Ie=>Ie.route.id===ne)),$=++L,re.length===0&&Te.length===0){let ne=Qd();return Tr(E,we({matches:S,loaderData:{},errors:W&&_t(W[1])?{[W[0]]:W[1].error}:null},Ch(W),ne?{fetchers:new Map(y.fetchers)}:{}),{flushSync:F}),{shortCircuited:!0}}if($e){let ne={};if(!T){ne.navigation=X;let Ie=$d(W);Ie!==void 0&&(ne.actionData=Ie)}Te.length>0&&(ne.fetchers=Uv(Te)),tt(ne,{flushSync:F})}Te.forEach(ne=>{vn(ne.key),ne.controller&&ye.set(ne.key,ne.controller)});let Ir=()=>Te.forEach(ne=>vn(ne.key));U&&U.signal.addEventListener("abort",Ir);let{loaderResults:ki,fetcherResults:Zt}=await Vd(y,S,re,Te,g);if(g.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",Ir),Te.forEach(ne=>ye.delete(ne.key));let Ht=ws(ki);if(Ht)return await qn(g,Ht.result,!0,{replace:z}),{shortCircuited:!0};if(Ht=ws(Zt),Ht)return Z.add(Ht.key),await qn(g,Ht.result,!0,{replace:z}),{shortCircuited:!0};let{loaderData:oa,errors:xi}=Eh(y,S,ki,W,Te,Zt,mt);mt.forEach((ne,Ie)=>{ne.subscribe(Rr=>{(Rr||ne.done)&&mt.delete(Ie)})}),c.v7_partialHydration&&j&&y.errors&&(xi=we({},y.errors,xi));let Xn=Qd(),ts=Kd($),ns=Xn||ts||Te.length>0;return we({matches:S,loaderData:oa,errors:xi},ns?{fetchers:new Map(y.fetchers)}:{})}function $d(g){if(g&&!_t(g[1]))return{[g[0]]:g[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function Uv(g){return g.forEach(E=>{let S=y.fetchers.get(E.key),T=Fi(void 0,S?S.data:void 0);y.fetchers.set(E.key,T)}),new Map(y.fetchers)}function Bv(g,E,S,T){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");vn(g);let A=(T&&T.flushSync)===!0,B=l||s,G=ju(y.location,y.matches,a,c.v7_prependBasename,S,c.v7_relativeSplatPath,E,T==null?void 0:T.relative),z=nr(B,G,a),j=Zo(z,B,G);if(j.active&&j.matches&&(z=j.matches),!z){Jt(g,E,st(404,{pathname:G}),{flushSync:A});return}let{path:F,submission:W,error:X}=ph(c.v7_normalizeFormMethod,!0,G,T);if(X){Jt(g,E,X,{flushSync:A});return}let ee=Ki(z,F),$e=(T&&T.preventScrollReset)===!0;if(W&&At(W.formMethod)){Wv(g,E,F,ee,z,j.active,A,$e,W);return}ae.set(g,{routeId:E,path:F}),$v(g,E,F,ee,z,j.active,A,$e,W)}async function Wv(g,E,S,T,A,B,G,z,j){na(),ae.delete(g);function F(Le){if(!Le.route.action&&!Le.route.lazy){let Nr=st(405,{method:j.formMethod,pathname:S,routeId:E});return Jt(g,E,Nr,{flushSync:G}),!0}return!1}if(!B&&F(T))return;let W=y.fetchers.get(g);_n(g,yE(j,W),{flushSync:G});let X=new AbortController,ee=Dr(t.history,S,X.signal,j);if(B){let Le=await es(A,S,ee.signal);if(Le.type==="aborted")return;if(Le.type==="error"){Jt(g,E,Le.error,{flushSync:G});return}else if(Le.matches){if(A=Le.matches,T=Ki(A,S),F(T))return}else{Jt(g,E,st(404,{pathname:S}),{flushSync:G});return}}ye.set(g,X);let $e=L,re=(await Ci("action",y,ee,[T],A,g))[T.route.id];if(ee.signal.aborted){ye.get(g)===X&&ye.delete(g);return}if(c.v7_fetcherPersist&&Pe.has(g)){if(lr(re)||_t(re)){_n(g,wn(void 0));return}}else{if(lr(re))if(ye.delete(g),$>$e){_n(g,wn(void 0));return}else return Z.add(g),_n(g,Fi(j)),qn(ee,re,!1,{fetcherSubmission:j,preventScrollReset:z});if(_t(re)){Jt(g,E,re.error);return}}if(In(re))throw st(400,{type:"defer-action"});let Te=y.navigation.location||y.location,Ir=Dr(t.history,Te,X.signal),ki=l||s,Zt=y.navigation.state!=="idle"?nr(ki,y.navigation.location,a):y.matches;J(Zt,"Didn't find any matches after fetcher action");let Ht=++L;V.set(g,Ht);let oa=Fi(j,re.data);y.fetchers.set(g,oa);let[xi,Xn]=gh(t.history,y,Zt,j,Te,!1,c.v7_skipActionErrorRevalidation,xe,Dt,Vt,Pe,ae,Z,ki,a,[T.route.id,re]);Xn.filter(Le=>Le.key!==g).forEach(Le=>{let Nr=Le.key,Zd=y.fetchers.get(Nr),qv=Fi(void 0,Zd?Zd.data:void 0);y.fetchers.set(Nr,qv),vn(Nr),Le.controller&&ye.set(Nr,Le.controller)}),tt({fetchers:new Map(y.fetchers)});let ts=()=>Xn.forEach(Le=>vn(Le.key));X.signal.addEventListener("abort",ts);let{loaderResults:ns,fetcherResults:ne}=await Vd(y,Zt,xi,Xn,Ir);if(X.signal.aborted)return;X.signal.removeEventListener("abort",ts),V.delete(g),ye.delete(g),Xn.forEach(Le=>ye.delete(Le.key));let Ie=ws(ns);if(Ie)return qn(Ir,Ie.result,!1,{preventScrollReset:z});if(Ie=ws(ne),Ie)return Z.add(Ie.key),qn(Ir,Ie.result,!1,{preventScrollReset:z});let{loaderData:Rr,errors:Ti}=Eh(y,Zt,ns,void 0,Xn,ne,mt);if(y.fetchers.has(g)){let Le=wn(re.data);y.fetchers.set(g,Le)}Kd(Ht),y.navigation.state==="loading"&&Ht>$?(J(D,"Expected pending action"),U&&U.abort(),Tr(y.navigation.location,{matches:Zt,loaderData:Rr,errors:Ti,fetchers:new Map(y.fetchers)})):(tt({errors:Ti,loaderData:Sh(y.loaderData,Rr,Zt,Ti),fetchers:new Map(y.fetchers)}),xe=!1)}async function $v(g,E,S,T,A,B,G,z,j){let F=y.fetchers.get(g);_n(g,Fi(j,F?F.data:void 0),{flushSync:G});let W=new AbortController,X=Dr(t.history,S,W.signal);if(B){let re=await es(A,S,X.signal);if(re.type==="aborted")return;if(re.type==="error"){Jt(g,E,re.error,{flushSync:G});return}else if(re.matches)A=re.matches,T=Ki(A,S);else{Jt(g,E,st(404,{pathname:S}),{flushSync:G});return}}ye.set(g,W);let ee=L,de=(await Ci("loader",y,X,[T],A,g))[T.route.id];if(In(de)&&(de=await sd(de,X.signal,!0)||de),ye.get(g)===W&&ye.delete(g),!X.signal.aborted){if(Pe.has(g)){_n(g,wn(void 0));return}if(lr(de))if($>ee){_n(g,wn(void 0));return}else{Z.add(g),await qn(X,de,!1,{preventScrollReset:z});return}if(_t(de)){Jt(g,E,de.error);return}J(!In(de),"Unhandled fetcher deferred data"),_n(g,wn(de.data))}}async function qn(g,E,S,T){let{submission:A,fetcherSubmission:B,preventScrollReset:G,replace:z}=T===void 0?{}:T;E.response.headers.has("X-Remix-Revalidate")&&(xe=!0);let j=E.response.headers.get("Location");J(j,"Expected a Location header on the redirect Response"),j=yh(j,new URL(g.url),a);let F=Io(y.location,j,{_isRedirect:!0});if(n){let re=!1;if(E.response.headers.has("X-Remix-Reload-Document"))re=!0;else if(od.test(j)){const Te=t.history.createURL(j);re=Te.origin!==e.location.origin||yi(Te.pathname,a)==null}if(re){z?e.location.replace(j):e.location.assign(j);return}}U=null;let W=z===!0||E.response.headers.has("X-Remix-Replace")?Me.Replace:Me.Push,{formMethod:X,formAction:ee,formEncType:$e}=y.navigation;!A&&!B&&X&&ee&&$e&&(A=Th(y.navigation));let de=A||B;if(Zw.has(E.response.status)&&de&&At(de.formMethod))await Yn(W,F,{submission:we({},de,{formAction:j}),preventScrollReset:G||I,enableViewTransition:S?b:void 0});else{let re=Oa(F,A);await Yn(W,F,{overrideNavigation:re,fetcherSubmission:B,preventScrollReset:G||I,enableViewTransition:S?b:void 0})}}async function Ci(g,E,S,T,A,B){let G,z={};try{G=await lE(u,g,E,S,T,A,B,o,i)}catch(j){return T.forEach(F=>{z[F.route.id]={type:ue.error,error:j}}),z}for(let[j,F]of Object.entries(G))if(hE(F)){let W=F.result;z[j]={type:ue.redirect,response:cE(W,S,j,A,a,c.v7_relativeSplatPath)}}else z[j]=await uE(F);return z}async function Vd(g,E,S,T,A){let B=g.matches,G=Ci("loader",g,A,S,E,null),z=Promise.all(T.map(async W=>{if(W.matches&&W.match&&W.controller){let ee=(await Ci("loader",g,Dr(t.history,W.path,W.controller.signal),[W.match],W.matches,W.key))[W.match.route.id];return{[W.key]:ee}}else return Promise.resolve({[W.key]:{type:ue.error,error:st(404,{pathname:W.path})}})})),j=await G,F=(await z).reduce((W,X)=>Object.assign(W,X),{});return await Promise.all([gE(E,j,A.signal,B,g.loaderData),_E(E,F,T)]),{loaderResults:j,fetcherResults:F}}function na(){xe=!0,Dt.push(...ia()),ae.forEach((g,E)=>{ye.has(E)&&Vt.add(E),vn(E)})}function _n(g,E,S){S===void 0&&(S={}),y.fetchers.set(g,E),tt({fetchers:new Map(y.fetchers)},{flushSync:(S&&S.flushSync)===!0})}function Jt(g,E,S,T){T===void 0&&(T={});let A=rr(y.matches,E);Xo(g),tt({errors:{[A.route.id]:S},fetchers:new Map(y.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function Hd(g){return c.v7_fetcherPersist&&(kt.set(g,(kt.get(g)||0)+1),Pe.has(g)&&Pe.delete(g)),y.fetchers.get(g)||eE}function Xo(g){let E=y.fetchers.get(g);ye.has(g)&&!(E&&E.state==="loading"&&V.has(g))&&vn(g),ae.delete(g),V.delete(g),Z.delete(g),Pe.delete(g),Vt.delete(g),y.fetchers.delete(g)}function Vv(g){if(c.v7_fetcherPersist){let E=(kt.get(g)||0)-1;E<=0?(kt.delete(g),Pe.add(g)):kt.set(g,E)}else Xo(g);tt({fetchers:new Map(y.fetchers)})}function vn(g){let E=ye.get(g);E&&(E.abort(),ye.delete(g))}function Gd(g){for(let E of g){let S=Hd(E),T=wn(S.data);y.fetchers.set(E,T)}}function Qd(){let g=[],E=!1;for(let S of Z){let T=y.fetchers.get(S);J(T,"Expected fetcher: "+S),T.state==="loading"&&(Z.delete(S),g.push(S),E=!0)}return Gd(g),E}function Kd(g){let E=[];for(let[S,T]of V)if(T<g){let A=y.fetchers.get(S);J(A,"Expected fetcher: "+S),A.state==="loading"&&(vn(S),V.delete(S),E.push(S))}return Gd(E),E.length>0}function Hv(g,E){let S=y.blockers.get(g)||Ai;return et.get(g)!==E&&et.set(g,E),S}function Yd(g){y.blockers.delete(g),et.delete(g)}function Jo(g,E){let S=y.blockers.get(g)||Ai;J(S.state==="unblocked"&&E.state==="blocked"||S.state==="blocked"&&E.state==="blocked"||S.state==="blocked"&&E.state==="proceeding"||S.state==="blocked"&&E.state==="unblocked"||S.state==="proceeding"&&E.state==="unblocked","Invalid blocker state transition: "+S.state+" -> "+E.state);let T=new Map(y.blockers);T.set(g,E),tt({blockers:T})}function qd(g){let{currentLocation:E,nextLocation:S,historyAction:T}=g;if(et.size===0)return;et.size>1&&di(!1,"A router only supports one blocker at a time");let A=Array.from(et.entries()),[B,G]=A[A.length-1],z=y.blockers.get(B);if(!(z&&z.state==="proceeding")&&G({currentLocation:E,nextLocation:S,historyAction:T}))return B}function ra(g){let E=st(404,{pathname:g}),S=l||s,{matches:T,route:A}=kh(S);return ia(),{notFoundMatches:T,route:A,error:E}}function ia(g){let E=[];return mt.forEach((S,T)=>{(!g||g(T))&&(S.cancel(),E.push(T),mt.delete(T))}),E}function Gv(g,E,S){if(v=g,x=E,w=S||null,!p&&y.navigation===Ma){p=!0;let T=Jd(y.location,y.matches);T!=null&&tt({restoreScrollPosition:T})}return()=>{v=null,x=null,w=null}}function Xd(g,E){return w&&w(g,E.map(T=>Dw(T,y.loaderData)))||g.key}function Qv(g,E){if(v&&x){let S=Xd(g,E);v[S]=x()}}function Jd(g,E){if(v){let S=Xd(g,E),T=v[S];if(typeof T=="number")return T}return null}function Zo(g,E,S){if(d)if(g){if(Object.keys(g[0].params).length>0)return{active:!0,matches:As(E,S,a,!0)}}else return{active:!0,matches:As(E,S,a,!0)||[]};return{active:!1,matches:null}}async function es(g,E,S){if(!d)return{type:"success",matches:g};let T=g;for(;;){let A=l==null,B=l||s,G=o;try{await d({path:E,matches:T,patch:(F,W)=>{S.aborted||vh(F,W,B,G,i)}})}catch(F){return{type:"error",error:F,partialMatches:T}}finally{A&&!S.aborted&&(s=[...s])}if(S.aborted)return{type:"aborted"};let z=nr(B,E,a);if(z)return{type:"success",matches:z};let j=As(B,E,a,!0);if(!j||T.length===j.length&&T.every((F,W)=>F.route.id===j[W].route.id))return{type:"success",matches:null};T=j}}function Kv(g){o={},l=ll(g,i,void 0,o)}function Yv(g,E){let S=l==null;vh(g,E,l||s,o,i),S&&(s=[...s],tt({}))}return N={get basename(){return a},get future(){return c},get state(){return y},get routes(){return s},get window(){return e},initialize:Ov,subscribe:Fv,enableScrollRestoration:Gv,navigate:Wd,fetch:Bv,revalidate:bv,createHref:g=>t.history.createHref(g),encodeLocation:g=>t.history.encodeLocation(g),getFetcher:Hd,deleteFetcher:Vv,dispose:Av,getBlocker:Hv,deleteBlocker:Yd,patchRoutes:Yv,_internalFetchControllers:ye,_internalActiveDeferreds:mt,_internalSetRoutes:Kv},N}function rE(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ju(t,e,n,r,i,o,s,l){let a,u;if(s){a=[];for(let c of e)if(a.push(c),c.route.id===s){u=c;break}}else a=e,u=e[e.length-1];let d=id(i||".",rd(a,o),yi(t.pathname,n)||t.pathname,l==="path");if(i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&u){let c=ld(d.search);if(u.route.index&&!c)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&c){let f=new URLSearchParams(d.search),m=f.getAll("index");f.delete("index"),m.filter(w=>w).forEach(w=>f.append("index",w));let v=f.toString();d.search=v?"?"+v:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:ln([n,d.pathname])),gr(d)}function ph(t,e,n,r){if(!r||!rE(r))return{path:n};if(r.formMethod&&!mE(r.formMethod))return{path:n,error:st(405,{method:r.formMethod})};let i=()=>({path:n,error:st(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),l=Hg(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!At(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,v)=>{let[w,x]=v;return""+m+w+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!At(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}J(typeof FormData=="function","FormData is not available in this environment");let a,u;if(r.formData)a=Bu(r.formData),u=r.formData;else if(r.body instanceof FormData)a=Bu(r.body),u=r.body;else if(r.body instanceof URLSearchParams)a=r.body,u=wh(a);else if(r.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(r.body),u=wh(a)}catch{return i()}let d={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(At(d.formMethod))return{path:n,submission:d};let c=Gn(n);return e&&c.search&&ld(c.search)&&a.append("index",""),c.search="?"+a,{path:gr(c),submission:d}}function mh(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function gh(t,e,n,r,i,o,s,l,a,u,d,c,f,m,v,w){let x=w?_t(w[1])?w[1].error:w[1].data:void 0,p=t.createURL(e.location),h=t.createURL(i),_=n;o&&e.errors?_=mh(n,Object.keys(e.errors)[0],!0):w&&_t(w[1])&&(_=mh(n,w[0]));let C=w?w[1].statusCode:void 0,N=s&&C&&C>=400,y=_.filter((I,U)=>{let{route:b}=I;if(b.lazy)return!0;if(b.loader==null)return!1;if(o)return Uu(b,e.loaderData,e.errors);if(iE(e.loaderData,e.matches[U],I)||a.some(se=>se===I.route.id))return!0;let oe=e.matches[U],me=I;return _h(I,we({currentUrl:p,currentParams:oe.params,nextUrl:h,nextParams:me.params},r,{actionResult:x,actionStatus:C,defaultShouldRevalidate:N?!1:l||p.pathname+p.search===h.pathname+h.search||p.search!==h.search||$g(oe,me)}))}),D=[];return c.forEach((I,U)=>{if(o||!n.some(xe=>xe.route.id===I.routeId)||d.has(U))return;let b=nr(m,I.path,v);if(!b){D.push({key:U,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let oe=e.fetchers.get(U),me=Ki(b,I.path),se=!1;f.has(U)?se=!1:u.has(U)?(u.delete(U),se=!0):oe&&oe.state!=="idle"&&oe.data===void 0?se=l:se=_h(me,we({currentUrl:p,currentParams:e.matches[e.matches.length-1].params,nextUrl:h,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:C,defaultShouldRevalidate:N?!1:l})),se&&D.push({key:U,routeId:I.routeId,path:I.path,matches:b,match:me,controller:new AbortController})}),[y,D]}function Uu(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function iE(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function $g(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function _h(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function vh(t,e,n,r,i){var o;let s;if(t){let u=r[t];J(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),s=u.children}else s=n;let l=e.filter(u=>!s.some(d=>Vg(u,d))),a=ll(l,i,[t||"_","patch",String(((o=s)==null?void 0:o.length)||"0")],r);s.push(...a)}function Vg(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>Vg(n,o))}):!1}async function oE(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];J(i,"No route found in manifest");let o={};for(let s in r){let a=i[s]!==void 0&&s!=="hasErrorBoundary";di(!a,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!a&&!Nw.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,we({},e(i),{lazy:void 0}))}async function sE(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function lE(t,e,n,r,i,o,s,l,a,u){let d=o.map(m=>m.route.lazy?oE(m.route,a,l):void 0),c=o.map((m,v)=>{let w=d[v],x=i.some(h=>h.route.id===m.route.id);return we({},m,{shouldLoad:x,resolve:async h=>(h&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(x=!0),x?aE(e,r,m,w,h,u):Promise.resolve({type:ue.data,result:void 0}))})}),f=await t({matches:c,request:r,params:o[0].params,fetcherKey:s,context:u});try{await Promise.all(d)}catch{}return f}async function aE(t,e,n,r,i,o){let s,l,a=u=>{let d,c=new Promise((v,w)=>d=w);l=()=>d(),e.signal.addEventListener("abort",l);let f=v=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:o},...v!==void 0?[v]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(w=>f(w)):f())}}catch(v){return{type:"error",result:v}}})();return Promise.race([m,c])};try{let u=n.route[t];if(r)if(u){let d,[c]=await Promise.all([a(u).catch(f=>{d=f}),r]);if(d!==void 0)throw d;s=c}else if(await r,u=n.route[t],u)s=await a(u);else if(t==="action"){let d=new URL(e.url),c=d.pathname+d.search;throw st(405,{method:e.method,pathname:c,routeId:n.route.id})}else return{type:ue.data,result:void 0};else if(u)s=await a(u);else{let d=new URL(e.url),c=d.pathname+d.search;throw st(404,{pathname:c})}J(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:ue.error,result:u}}finally{l&&e.signal.removeEventListener("abort",l)}return s}async function uE(t){let{result:e,type:n}=t;if(Gg(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:ue.error,error:d}}return n===ue.error?{type:ue.error,error:new al(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:ue.data,data:u,statusCode:e.status,headers:e.headers}}if(n===ue.error){if(xh(e)){var r;if(e.data instanceof Error){var i;return{type:ue.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new al(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:ue.error,error:e,statusCode:Vl(e)?e.status:void 0}}if(pE(e)){var o,s;return{type:ue.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}if(xh(e)){var l,a;return{type:ue.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:ue.data,data:e}}function cE(t,e,n,r,i,o){let s=t.headers.get("Location");if(J(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!od.test(s)){let l=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=ju(new URL(e.url),l,i,!0,s,o),t.headers.set("Location",s)}return t}function yh(t,e,n){if(od.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=yi(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Dr(t,e,n,r){let i=t.createURL(Hg(e)).toString(),o={signal:n};if(r&&At(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=Bu(r.formData):o.body=r.formData}return new Request(i,o)}function Bu(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function wh(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function dE(t,e,n,r,i){let o={},s=null,l,a=!1,u={},d=n&&_t(n[1])?n[1].error:void 0;return t.forEach(c=>{if(!(c.route.id in e))return;let f=c.route.id,m=e[f];if(J(!lr(m),"Cannot handle redirect results in processLoaderData"),_t(m)){let v=m.error;d!==void 0&&(v=d,d=void 0),s=s||{};{let w=rr(t,f);s[w.route.id]==null&&(s[w.route.id]=v)}o[f]=void 0,a||(a=!0,l=Vl(m.error)?m.error.status:500),m.headers&&(u[f]=m.headers)}else In(m)?(r.set(f,m.deferredData),o[f]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!a&&(l=m.statusCode),m.headers&&(u[f]=m.headers)):(o[f]=m.data,m.statusCode&&m.statusCode!==200&&!a&&(l=m.statusCode),m.headers&&(u[f]=m.headers))}),d!==void 0&&n&&(s={[n[0]]:d},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:u}}function Eh(t,e,n,r,i,o,s){let{loaderData:l,errors:a}=dE(e,n,r,s);return i.forEach(u=>{let{key:d,match:c,controller:f}=u,m=o[d];if(J(m,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(_t(m)){let v=rr(t.matches,c==null?void 0:c.route.id);a&&a[v.route.id]||(a=we({},a,{[v.route.id]:m.error})),t.fetchers.delete(d)}else if(lr(m))J(!1,"Unhandled fetcher revalidation redirect");else if(In(m))J(!1,"Unhandled fetcher deferred data");else{let v=wn(m.data);t.fetchers.set(d,v)}}),{loaderData:l,errors:a}}function Sh(t,e,n,r){let i=we({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Ch(t){return t?_t(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function rr(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function kh(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function st(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,l="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(l="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",a='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new al(t||500,l,new Error(a),!0)}function ws(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(lr(i))return{key:r,result:i}}}function Hg(t){let e=typeof t=="string"?Gn(t):t;return gr(we({},e,{hash:""}))}function fE(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function hE(t){return Gg(t.result)&&Jw.has(t.result.status)}function In(t){return t.type===ue.deferred}function _t(t){return t.type===ue.error}function lr(t){return(t&&t.type)===ue.redirect}function xh(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function pE(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Gg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function mE(t){return Xw.has(t.toLowerCase())}function At(t){return Yw.has(t.toLowerCase())}async function gE(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[l,a]=o[s],u=t.find(f=>(f==null?void 0:f.route.id)===l);if(!u)continue;let d=r.find(f=>f.route.id===u.route.id),c=d!=null&&!$g(d,u)&&(i&&i[u.route.id])!==void 0;In(a)&&c&&await sd(a,n,!1).then(f=>{f&&(e[l]=f)})}}async function _E(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],l=e[i];t.find(u=>(u==null?void 0:u.route.id)===o)&&In(l)&&(J(s,"Expected an AbortController for revalidating fetcher deferred result"),await sd(l,s.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function sd(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:ue.data,data:t.deferredData.unwrappedData}}catch(i){return{type:ue.error,error:i}}return{type:ue.data,data:t.deferredData.data}}}function ld(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ki(t,e){let n=typeof e=="string"?Gn(e).search:e.search;if(t[t.length-1].route.index&&ld(n||""))return t[t.length-1];let r=Ug(t);return r[r.length-1]}function Th(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Oa(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vE(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fi(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function yE(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function wn(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function wE(t,e){try{let n=t.sessionStorage.getItem(Wg);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function EE(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Wg,JSON.stringify(n))}catch(r){di(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}const Hl=k.createContext(null),Qg=k.createContext(null),Cr=k.createContext(null),ad=k.createContext(null),Qn=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Kg=k.createContext(null);function SE(t,e){let{relative:n}=e===void 0?{}:e;$o()||J(!1);let{basename:r,navigator:i}=k.useContext(Cr),{hash:o,pathname:s,search:l}=qg(t,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:ln([r,s])),i.createHref({pathname:a,search:l,hash:o})}function $o(){return k.useContext(ad)!=null}function Gl(){return $o()||J(!1),k.useContext(ad).location}function Yg(t){k.useContext(Cr).static||k.useLayoutEffect(t)}function CE(){let{isDataRoute:t}=k.useContext(Qn);return t?FE():kE()}function kE(){$o()||J(!1);let t=k.useContext(Hl),{basename:e,future:n,navigator:r}=k.useContext(Cr),{matches:i}=k.useContext(Qn),{pathname:o}=Gl(),s=JSON.stringify(rd(i,n.v7_relativeSplatPath)),l=k.useRef(!1);return Yg(()=>{l.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let c=id(u,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ln([e,c.pathname])),(d.replace?r.replace:r.push)(c,d.state,d)},[e,r,s,o,t])}function xE(){let{matches:t}=k.useContext(Qn),e=t[t.length-1];return e?e.params:{}}function qg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(Cr),{matches:i}=k.useContext(Qn),{pathname:o}=Gl(),s=JSON.stringify(rd(i,r.v7_relativeSplatPath));return k.useMemo(()=>id(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function TE(t,e,n,r){$o()||J(!1);let{navigator:i}=k.useContext(Cr),{matches:o}=k.useContext(Qn),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Gl(),d;d=u;let c=d.pathname||"/",f=c;if(a!=="/"){let w=a.replace(/^\//,"").split("/");f="/"+c.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=nr(t,{pathname:f});return DE(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ln([a,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:ln([a,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r)}function IE(){let t=AE(),e=Vl(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const RE=k.createElement(IE,null);class NE extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Qn.Provider,{value:this.props.routeContext},k.createElement(Kg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PE(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(Hl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Qn.Provider,{value:e},r)}function DE(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=s.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id])!==void 0);d>=0||J(!1),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let c=s[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:f,errors:m}=n,v=c.route.loader&&f[c.route.id]===void 0&&(!m||m[c.route.id]===void 0);if(c.route.lazy||v){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,c,f)=>{let m,v=!1,w=null,x=null;n&&(m=l&&c.route.id?l[c.route.id]:void 0,w=c.route.errorElement||RE,a&&(u<0&&f===0?(v=!0,x=null):u===f&&(v=!0,x=c.route.hydrateFallbackElement||null)));let p=e.concat(s.slice(0,f+1)),h=()=>{let _;return m?_=w:v?_=x:c.route.Component?_=k.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=d,k.createElement(PE,{match:c,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?k.createElement(NE,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):h()},null)}var Xg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Xg||{}),cl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cl||{});function LE(t){let e=k.useContext(Hl);return e||J(!1),e}function ME(t){let e=k.useContext(Qg);return e||J(!1),e}function OE(t){let e=k.useContext(Qn);return e||J(!1),e}function Jg(t){let e=OE(),n=e.matches[e.matches.length-1];return n.route.id||J(!1),n.route.id}function AE(){var t;let e=k.useContext(Kg),n=ME(cl.UseRouteError),r=Jg(cl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function FE(){let{router:t}=LE(Xg.UseNavigateStable),e=Jg(cl.UseNavigateStable),n=k.useRef(!1);return Yg(()=>{n.current=!0}),k.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ul({fromRouteId:e},o)))},[t,e])}function bE(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Me.Pop,navigator:o,static:s=!1,future:l}=t;$o()&&J(!1);let a=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:a,navigator:o,static:s,future:ul({v7_relativeSplatPath:!1},l)}),[a,l,o,s]);typeof r=="string"&&(r=Gn(r));let{pathname:d="/",search:c="",hash:f="",state:m=null,key:v="default"}=r,w=k.useMemo(()=>{let x=yi(d,a);return x==null?null:{location:{pathname:x,search:c,hash:f,state:m,key:v},navigationType:i}},[a,d,c,f,m,v,i]);return w==null?null:k.createElement(Cr.Provider,{value:u},k.createElement(ad.Provider,{children:n,value:w}))}new Promise(()=>{});function zE(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:k.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ro(){return Ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ro.apply(this,arguments)}function jE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function UE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BE(t,e){return t.button===0&&(!e||e==="_self")&&!UE(t)}const WE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$E="6";try{window.__reactRouterVersion=$E}catch{}function VE(t,e){return nE({basename:void 0,future:Ro({},void 0,{v7_prependBasename:!0}),history:Tw({window:void 0}),hydrationData:HE(),routes:t,mapRouteProperties:zE,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function HE(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ro({},e,{errors:GE(e.errors)})),e}function GE(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new al(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const QE=k.createContext({isTransitioning:!1}),KE=k.createContext(new Map),YE="startTransition",Ih=hy[YE],qE="flushSync",Rh=xw[qE];function XE(t){Ih?Ih(t):t()}function bi(t){Rh?Rh(t):t()}let JE=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function ZE(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=k.useState(n.state),[s,l]=k.useState(),[a,u]=k.useState({isTransitioning:!1}),[d,c]=k.useState(),[f,m]=k.useState(),[v,w]=k.useState(),x=k.useRef(new Map),{v7_startTransition:p}=r||{},h=k.useCallback(I=>{p?XE(I):I()},[p]),_=k.useCallback((I,U)=>{let{deletedFetchers:b,flushSync:oe,viewTransitionOpts:me}=U;b.forEach(xe=>x.current.delete(xe)),I.fetchers.forEach((xe,Dt)=>{xe.data!==void 0&&x.current.set(Dt,xe.data)});let se=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!me||se){oe?bi(()=>o(I)):h(()=>o(I));return}if(oe){bi(()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:me.currentLocation,nextLocation:me.nextLocation})});let xe=n.window.document.startViewTransition(()=>{bi(()=>o(I))});xe.finished.finally(()=>{bi(()=>{c(void 0),m(void 0),l(void 0),u({isTransitioning:!1})})}),bi(()=>m(xe));return}f?(d&&d.resolve(),f.skipTransition(),w({state:I,currentLocation:me.currentLocation,nextLocation:me.nextLocation})):(l(I),u({isTransitioning:!0,flushSync:!1,currentLocation:me.currentLocation,nextLocation:me.nextLocation}))},[n.window,f,d,x,h]);k.useLayoutEffect(()=>n.subscribe(_),[n,_]),k.useEffect(()=>{a.isTransitioning&&!a.flushSync&&c(new JE)},[a]),k.useEffect(()=>{if(d&&s&&n.window){let I=s,U=d.promise,b=n.window.document.startViewTransition(async()=>{h(()=>o(I)),await U});b.finished.finally(()=>{c(void 0),m(void 0),l(void 0),u({isTransitioning:!1})}),m(b)}},[h,s,d,n.window]),k.useEffect(()=>{d&&s&&i.location.key===s.location.key&&d.resolve()},[d,f,i.location,s]),k.useEffect(()=>{!a.isTransitioning&&v&&(l(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),w(void 0))},[a.isTransitioning,v]),k.useEffect(()=>{},[]);let C=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:I=>n.navigate(I),push:(I,U,b)=>n.navigate(I,{state:U,preventScrollReset:b==null?void 0:b.preventScrollReset}),replace:(I,U,b)=>n.navigate(I,{replace:!0,state:U,preventScrollReset:b==null?void 0:b.preventScrollReset})}),[n]),N=n.basename||"/",y=k.useMemo(()=>({router:n,navigator:C,static:!1,basename:N}),[n,C,N]),D=k.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return k.createElement(k.Fragment,null,k.createElement(Hl.Provider,{value:y},k.createElement(Qg.Provider,{value:i},k.createElement(KE.Provider,{value:x.current},k.createElement(QE.Provider,{value:a},k.createElement(bE,{basename:N,location:i.location,navigationType:i.historyAction,navigator:C,future:D},i.initialized||n.future.v7_partialHydration?k.createElement(eS,{routes:n.routes,future:n.future,state:i}):e))))),null)}const eS=k.memo(tS);function tS(t){let{routes:e,future:n,state:r}=t;return TE(e,void 0,r,n)}const nS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ud=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:a,to:u,preventScrollReset:d,viewTransition:c}=e,f=jE(e,WE),{basename:m}=k.useContext(Cr),v,w=!1;if(typeof u=="string"&&rS.test(u)&&(v=u,nS))try{let _=new URL(window.location.href),C=u.startsWith("//")?new URL(_.protocol+u):new URL(u),N=yi(C.pathname,m);C.origin===_.origin&&N!=null?u=N+C.search+C.hash:w=!0}catch{}let x=SE(u,{relative:i}),p=iS(u,{replace:s,state:l,target:a,preventScrollReset:d,relative:i,viewTransition:c});function h(_){r&&r(_),_.defaultPrevented||p(_)}return k.createElement("a",Ro({},f,{href:v||x,onClick:w||o?r:h,ref:n,target:a}))});var Nh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Nh||(Nh={}));var Ph;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ph||(Ph={}));function iS(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:l}=e===void 0?{}:e,a=CE(),u=Gl(),d=qg(t,{relative:s});return k.useCallback(c=>{if(BE(c,n)){c.preventDefault();let f=r!==void 0?r:gr(u)===gr(d);a(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:l})}},[u,a,d,r,i,n,t,o,s,l])}const oS="_sectionCard__content_knxsh_3",sS="_oops_knxsh_15",Aa={sectionCard__content:oS,oops:sS},lS="_container_nwyzm_1",aS={container:lS},Zg=({children:t})=>M.jsx("div",{className:aS.container,children:t}),uS="_card_ufy6s_1",cS="_card__info_ufy6s_8",dS="_card__descr_ufy6s_28",fS="_card__name_ufy6s_36",hS="_card__img_ufy6s_40",zi={card:uS,card__info:cS,card__descr:dS,card__name:fS,card__img:hS},pS=({kinopoiskId:t,posterUrlPreview:e,index:n,nameRu:r,originalName:i,nominatedYear:o,filmLength:s,description:l})=>M.jsx(M.Fragment,{children:M.jsxs("article",{className:zi.card,children:[M.jsx("img",{className:zi.card__img,src:e,alt:i}),M.jsx(ud,{to:`/oscarShortAnimation/film/${t}`,children:M.jsxs("div",{className:zi.card__info,children:[M.jsxs("p",{className:zi.card__name,children:[r," (",o,")"]}),M.jsx("p",{className:zi.card__descr,children:l}),M.jsxs("p",{children:["Длительность - ",s]})]})})]},n)}),mS="_wrapper_5xie7_1",gS="_buttons_5xie7_7",_S="_form_5xie7_13",vS="_input_5xie7_18",yS="_button_5xie7_7",wS="_logo_5xie7_39",Lr={wrapper:mS,buttons:gS,form:_S,input:vS,button:yS,logo:wS},ES="/oscarShortAnimation/oscars.svg",SS=({value:t,onChange:e,onSubmit:n,randomID:r,winners:i,all:o})=>M.jsxs("div",{className:Lr.wrapper,children:[M.jsx("img",{src:ES,alt:"logo",className:Lr.logo}),M.jsx("div",{className:Lr.buttons,children:M.jsx(ud,{to:`/oscarShortAnimation/film/${r}`,children:M.jsx("button",{className:Lr.button,children:"Случайная"})})}),M.jsx("form",{className:Lr.form,action:"",onSubmit:n,children:M.jsx("input",{className:Lr.input,type:"text",onChange:e,value:t,placeholder:"Поиск по названию / году"})})]}),CS="_timer_17yz5_1",kS={timer:CS},xS=({onEnd:t})=>{const[e,n]=k.useState(""),r=()=>{const i=new Date,o=(2-i.getDay()+13)%7,l=new Date(i.getFullYear(),i.getMonth(),i.getDate()+o,18,59,59)-i;if(l<=0)return null;const a=Math.floor(l/(1e3*60*60*24)),u=Math.floor(l/(1e3*60*60)%24),d=Math.floor(l/(1e3*60)%60),c=Math.floor(l/1e3%60);return{days:a,hours:u,minutes:d,seconds:c}};return k.useEffect(()=>{const i=setInterval(()=>{const o=r();o?n(o):(clearInterval(i),t())},1e3);return()=>clearInterval(i)},[t]),M.jsx("div",{className:kS.timer,children:e?M.jsxs("p",{children:["До публикации новой порции короткометражек: ",e.days,"д ",e.hours,"ч ",e.minutes,"м ",e.seconds,"с"]}):M.jsx("p",{children:"Загрузка..."})})};var Dh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P=function(t,e){if(!t)throw wi(e)},wi=function(t){return new Error("Firebase Database ("+e_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],a=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},cd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,d=o>>2,c=(o&3)<<4|l>>4;let f=(l&15)<<2|u>>6,m=u&63;a||(m=64,s||(f=64)),r.push(n[d],n[c],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||u==null||c==null)throw new IS;const f=o<<2|l>>4;if(r.push(f),u!==64){const m=l<<4&240|u>>2;if(r.push(m),c!==64){const v=u<<6&192|c;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n_=function(t){const e=t_(t);return cd.encodeByteArray(e,!0)},dl=function(t){return n_(t).replace(/\./g,"")},Wu=function(t){try{return cd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t){return r_(void 0,t)}function r_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!NS(n)||(t[n]=r_(t[n],e[n]));return t}function NS(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=()=>PS().__FIREBASE_DEFAULTS__,LS=()=>{if(typeof process>"u"||typeof Dh>"u")return;const t=Dh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wu(t[1]);return e&&JSON.parse(e)},i_=()=>{try{return DS()||LS()||MS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OS=t=>{var e,n;return(n=(e=i_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AS=t=>{const e=OS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o_=()=>{var t;return(t=i_())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dl(JSON.stringify(n)),dl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bS())}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l_(){return e_.NODE_ADMIN===!0}function jS(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="FirebaseError";class Vo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BS,Object.setPrototypeOf(this,Vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,a_.prototype.create)}}class a_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?WS(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Vo(i,l,r)}}function WS(t,e){return t.replace($S,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $S=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){return JSON.parse(t)}function Be(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=No(Wu(o[0])||""),n=No(Wu(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},VS=function(t){const e=u_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},HS=function(t){const e=u_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Lh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function $u(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Mh(o)&&Mh(s)){if(!$u(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=l^o&(s^l),d=1518500249):(u=o^s^l,d=1859775393):c<60?(u=o&s|l&(o|s),d=2400959708):(u=o^s^l,d=3395469782);const f=(i<<5|i>>>27)+u+a+d+r[c]&4294967295;a=l,l=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function c_(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,P(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ql=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){return t&&t._delegate?t._delegate:t}class Po{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XS(e))try{this.getOrInitializeService({instanceIdentifier:er})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=er){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=er){return this.instances.has(e)}getOptions(e=er){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=er){return this.component?this.component.multipleInstances?e:er:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qS(t){return t===er?void 0:t}function XS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const ZS={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},e1=fe.INFO,t1={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},n1=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=t1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d_{constructor(e){this.name=e,this._logLevel=e1,this._logHandler=n1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const r1=(t,e)=>e.some(n=>t instanceof n);let Oh,Ah;function i1(){return Oh||(Oh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o1(){return Ah||(Ah=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f_=new WeakMap,Vu=new WeakMap,h_=new WeakMap,Fa=new WeakMap,fd=new WeakMap;function s1(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Fn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&f_.set(n,t)}).catch(()=>{}),fd.set(e,t),e}function l1(t){if(Vu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Vu.set(t,e)}let Hu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function a1(t){Hu=t(Hu)}function u1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ba(this),e,...n);return h_.set(r,e.sort?e.sort():[e]),Fn(r)}:o1().includes(t)?function(...e){return t.apply(ba(this),e),Fn(f_.get(this))}:function(...e){return Fn(t.apply(ba(this),e))}}function c1(t){return typeof t=="function"?u1(t):(t instanceof IDBTransaction&&l1(t),r1(t,i1())?new Proxy(t,Hu):t)}function Fn(t){if(t instanceof IDBRequest)return s1(t);if(Fa.has(t))return Fa.get(t);const e=c1(t);return e!==t&&(Fa.set(t,e),fd.set(e,t)),e}const ba=t=>fd.get(t);function d1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Fn(s);return r&&s.addEventListener("upgradeneeded",a=>{r(Fn(s.result),a.oldVersion,a.newVersion,Fn(s.transaction),a)}),n&&s.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{o&&a.addEventListener("close",()=>o()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const f1=["get","getKey","getAll","getAllKeys","count"],h1=["put","add","delete","clear"],za=new Map;function Fh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(za.get(e))return za.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=h1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||f1.includes(n)))return;const o=async function(s,...l){const a=this.transaction(s,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return za.set(e,o),o}a1(t=>({...t,get:(e,n,r)=>Fh(e,n)||t.get(e,n,r),has:(e,n)=>!!Fh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function m1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gu="@firebase/app",bh="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new d_("@firebase/app"),g1="@firebase/app-compat",_1="@firebase/analytics-compat",v1="@firebase/analytics",y1="@firebase/app-check-compat",w1="@firebase/app-check",E1="@firebase/auth",S1="@firebase/auth-compat",C1="@firebase/database",k1="@firebase/data-connect",x1="@firebase/database-compat",T1="@firebase/functions",I1="@firebase/functions-compat",R1="@firebase/installations",N1="@firebase/installations-compat",P1="@firebase/messaging",D1="@firebase/messaging-compat",L1="@firebase/performance",M1="@firebase/performance-compat",O1="@firebase/remote-config",A1="@firebase/remote-config-compat",F1="@firebase/storage",b1="@firebase/storage-compat",z1="@firebase/firestore",j1="@firebase/vertexai",U1="@firebase/firestore-compat",B1="firebase",W1="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu="[DEFAULT]",$1={[Gu]:"fire-core",[g1]:"fire-core-compat",[v1]:"fire-analytics",[_1]:"fire-analytics-compat",[w1]:"fire-app-check",[y1]:"fire-app-check-compat",[E1]:"fire-auth",[S1]:"fire-auth-compat",[C1]:"fire-rtdb",[k1]:"fire-data-connect",[x1]:"fire-rtdb-compat",[T1]:"fire-fn",[I1]:"fire-fn-compat",[R1]:"fire-iid",[N1]:"fire-iid-compat",[P1]:"fire-fcm",[D1]:"fire-fcm-compat",[L1]:"fire-perf",[M1]:"fire-perf-compat",[O1]:"fire-rc",[A1]:"fire-rc-compat",[F1]:"fire-gcs",[b1]:"fire-gcs-compat",[z1]:"fire-fst",[U1]:"fire-fst-compat",[j1]:"fire-vertex","fire-js":"fire-js",[B1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new Map,V1=new Map,Ku=new Map;function zh(t,e){try{t.container.addComponent(e)}catch(n){hn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pl(t){const e=t.name;if(Ku.has(e))return hn.debug(`There were multiple attempts to register component ${e}.`),!1;Ku.set(e,t);for(const n of hl.values())zh(n,t);for(const n of V1.values())zh(n,t);return!0}function H1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bn=new a_("app","Firebase",G1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=W1;function p_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qu,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw bn.create("bad-app-name",{appName:String(i)});if(n||(n=o_()),!n)throw bn.create("no-options");const o=hl.get(i);if(o){if($u(n,o.options)&&$u(r,o.config))return o;throw bn.create("duplicate-app",{appName:i})}const s=new JS(i);for(const a of Ku.values())s.addComponent(a);const l=new Q1(n,r,s);return hl.set(i,l),l}function Y1(t=Qu){const e=hl.get(t);if(!e&&t===Qu&&o_())return p_();if(!e)throw bn.create("no-app",{appName:t});return e}function ei(t,e,n){var r;let i=(r=$1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hn.warn(l.join(" "));return}pl(new Po(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firebase-heartbeat-database",X1=1,Do="firebase-heartbeat-store";let ja=null;function m_(){return ja||(ja=d1(q1,X1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Do)}catch(n){console.warn(n)}}}}).catch(t=>{throw bn.create("idb-open",{originalErrorMessage:t.message})})),ja}async function J1(t){try{const n=(await m_()).transaction(Do),r=await n.objectStore(Do).get(g_(t));return await n.done,r}catch(e){if(e instanceof Vo)hn.warn(e.message);else{const n=bn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hn.warn(n.message)}}}async function jh(t,e){try{const r=(await m_()).transaction(Do,"readwrite");await r.objectStore(Do).put(e,g_(t)),await r.done}catch(n){if(n instanceof Vo)hn.warn(n.message);else{const r=bn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hn.warn(r.message)}}}function g_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1024,eC=30*24*60*60*1e3;class tC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Uh();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=eC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){hn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Uh(),{heartbeatsToSend:r,unsentEntries:i}=nC(this._heartbeatsCache.heartbeats),o=dl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return hn.warn(n),""}}}function Uh(){return new Date().toISOString().substring(0,10)}function nC(t,e=Z1){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Bh(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jS()?US().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await J1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Bh(t){return dl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t){pl(new Po("platform-logger",e=>new p1(e),"PRIVATE")),pl(new Po("heartbeat",e=>new tC(e),"PRIVATE")),ei(Gu,bh,t),ei(Gu,bh,"esm2017"),ei("fire-js","")}iC("");var Wh={};const $h="@firebase/database",Vh="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __="";function oC(t){__=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Be(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:No(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return gn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new sC(e)}}catch{}return new lC},ar=v_("localStorage"),aC=v_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new d_("@firebase/database"),uC=function(){let t=1;return function(){return t++}}(),y_=function(t){const e=KS(t),n=new QS;n.update(e);const r=n.digest();return cd.encodeByteArray(r)},Ho=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ho.apply(null,r):typeof r=="object"?e+=Be(r):e+=r,e+=" "}return e};let io=null,Hh=!0;const cC=function(t,e){P(!e,"Can't turn on custom loggers persistently."),ti.logLevel=fe.VERBOSE,io=ti.log.bind(ti)},Xe=function(...t){if(Hh===!0&&(Hh=!1,io===null&&aC.get("logging_enabled")===!0&&cC()),io){const e=Ho.apply(null,t);io(e)}},Go=function(t){return function(...e){Xe(t,...e)}},Yu=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ho(...t);ti.error(e)},pn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ho(...t)}`;throw ti.error(e),new Error(e)},wt=function(...t){const e="FIREBASE WARNING: "+Ho(...t);ti.warn(e)},dC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},w_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},fC=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},hi="[MIN_NAME]",_r="[MAX_NAME]",Ei=function(t,e){if(t===e)return 0;if(t===hi||e===_r)return-1;if(e===hi||t===_r)return 1;{const n=Gh(t),r=Gh(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},hC=function(t,e){return t===e?0:t<e?-1:1},ji=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Be(e))},hd=function(t){if(typeof t!="object"||t===null)return Be(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Be(e[r]),n+=":",n+=hd(t[e[r]]);return n+="}",n},E_=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function pt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const S_=function(t){P(!w_(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,l,a;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=l+r,s=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(a=e;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const d=u.join("");let c="";for(a=0;a<64;a+=8){let f=parseInt(d.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},pC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},mC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gC(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const _C=new RegExp("^-?(0*)\\d{1,10}$"),vC=-2147483648,yC=2147483647,Gh=function(t){if(_C.test(t)){const e=Number(t);if(e>=vC&&e<=yC)return e}return null},Qo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},wC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},oo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Xe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(e)}}class Fs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="5",C_="v",k_="s",x_="r",T_="f",I_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,R_="ls",N_="p",qu="ac",P_="websocket",D_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n,r,i,o=!1,s="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ar.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ar.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function CC(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function M_(t,e,n){P(typeof e=="string","typeof type must == string"),P(typeof n=="object","typeof params must == object");let r;if(e===P_)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===D_)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);CC(t)&&(n.ns=t.namespace);const i=[];return pt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.counters_={}}incrementCounter(e,n=1){gn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return RS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua={},Ba={};function md(t){const e=t.toString();return Ua[e]||(Ua[e]=new kC),Ua[e]}function xC(t,e){const n=t.toString();return Ba[n]||(Ba[n]=e()),Ba[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Qo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="start",IC="close",RC="pLPCommand",NC="pRTLPCB",O_="id",A_="pw",F_="ser",PC="cb",DC="seg",LC="ts",MC="d",OC="dframe",b_=1870,z_=30,AC=b_-z_,FC=25e3,bC=3e4;class Gr{constructor(e,n,r,i,o,s,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Go(e),this.stats_=md(n),this.urlFn=a=>(this.appCheckToken&&(a[qu]=this.appCheckToken),M_(n,D_,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new TC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(bC)),fC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gd((...o)=>{const[s,l,a,u,d]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Qh)this.id=l,this.password=a;else if(s===IC)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Qh]="t",r[F_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[PC]=this.scriptTagHolder.uniqueCallbackIdentifier),r[C_]=pd,this.transportSessionId&&(r[k_]=this.transportSessionId),this.lastSessionId&&(r[R_]=this.lastSessionId),this.applicationId&&(r[N_]=this.applicationId),this.appCheckToken&&(r[qu]=this.appCheckToken),typeof location<"u"&&location.hostname&&I_.test(location.hostname)&&(r[x_]=T_);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Gr.forceAllow_=!0}static forceDisallow(){Gr.forceDisallow_=!0}static isAvailable(){return Gr.forceAllow_?!0:!Gr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pC()&&!mC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=n_(n),i=E_(r,AC);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[OC]="t",r[O_]=e,r[A_]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Be(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gd{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uC(),window[RC+this.uniqueCallbackIdentifier]=e,window[NC+this.uniqueCallbackIdentifier]=n,this.myIFrame=gd.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){Xe("frame writing exception"),l.stack&&Xe(l.stack),Xe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Xe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[O_]=this.myID,e[A_]=this.myPW,e[F_]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+z_+r.length<=b_;){const s=this.pendingSegs.shift();r=r+"&"+DC+i+"="+s.seg+"&"+LC+i+"="+s.ts+"&"+MC+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(FC)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Xe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=16384,jC=45e3;let ml=null;typeof MozWebSocket<"u"?ml=MozWebSocket:typeof WebSocket<"u"&&(ml=WebSocket);class bt{constructor(e,n,r,i,o,s,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Go(this.connId),this.stats_=md(n),this.connURL=bt.connectionURL_(n,s,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[C_]=pd,typeof location<"u"&&location.hostname&&I_.test(location.hostname)&&(s[x_]=T_),n&&(s[k_]=n),r&&(s[R_]=r),i&&(s[qu]=i),o&&(s[N_]=o),M_(e,P_,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ar.set("previous_websocket_failure",!0);try{let r;l_(),this.mySock=new ml(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){bt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&ml!==null&&!bt.forceDisallow_}static previouslyFailed(){return ar.isInMemoryStorage||ar.get("previous_websocket_failure")===!0}markConnectionHealthy(){ar.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=No(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(P(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=E_(n,zC);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jC))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bt.responsesRequiredToBeHealthy=2;bt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static get ALL_TRANSPORTS(){return[Gr,bt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=bt&&bt.isAvailable();let r=n&&!bt.previouslyFailed();if(e.webSocketOnly&&(n||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[bt];else{const i=this.transports_=[];for(const o of Lo.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Lo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Lo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=6e4,BC=5e3,WC=10*1024,$C=100*1024,Wa="t",Kh="d",VC="s",Yh="r",HC="e",qh="o",Xh="a",Jh="n",Zh="p",GC="h";class QC{constructor(e,n,r,i,o,s,l,a,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Go("c:"+this.id+":"),this.transportManager_=new Lo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=oo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$C?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>WC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Wa in e){const n=e[Wa];n===Xh?this.upgradeIfSecondaryHealthy_():n===Yh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===qh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ji("t",e),r=ji("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Xh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Jh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ji("t",e),r=ji("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ji(Wa,e);if(Kh in e){const r=e[Kh];if(n===GC){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Jh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===VC?this.onConnectionShutdown_(r):n===Yh?this.onReset_(r):n===HC?Yu("Server Error: "+r):n===qh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pd!==r&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),oo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UC))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):oo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(BC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ar.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){P(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends U_{static getInstance(){return new gl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!s_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return P(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=32,tp=768;class ce{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ie(){return new ce("")}function K(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Bn(t){return t.pieces_.length-t.pieceNum_}function he(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ce(t.pieces_,e)}function B_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function KC(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function W_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function $_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ce(e,0)}function Fe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ce)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ce(n,0)}function Y(t){return t.pieceNum_>=t.pieces_.length}function ut(t,e){const n=K(t),r=K(e);if(n===null)return e;if(n===r)return ut(he(t),he(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _d(t,e){if(Bn(t)!==Bn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function zt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Bn(t)>Bn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class YC{constructor(e,n){this.errorPrefix_=n,this.parts_=W_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ql(this.parts_[r]);V_(this)}}function qC(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ql(e),V_(t)}function XC(t){const e=t.parts_.pop();t.byteLength_-=Ql(e),t.parts_.length>0&&(t.byteLength_-=1)}function V_(t){if(t.byteLength_>tp)throw new Error(t.errorPrefix_+"has a key path longer than "+tp+" bytes ("+t.byteLength_+").");if(t.parts_.length>ep)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ep+") or object contains a cycle "+tr(t))}function tr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends U_{static getInstance(){return new vd}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return P(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=1e3,JC=60*5*1e3,np=30*1e3,ZC=1.3,ek=3e4,tk="server_kill",rp=3;class an extends j_{constructor(e,n,r,i,o,s,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=an.nextPersistentConnectionId_++,this.log_=Go("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ui,this.maxReconnectDelay_=JC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!l_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Be(o)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new dd,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const l=s.d;s.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,l=>{const a=l.d,u=l.s;an.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&gn(e,"w")){const r=fi(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||HS(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=np)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=VS(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Be(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Yu("Unrecognized action received from server: "+Be(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ui,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ui,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ek&&(this.reconnectDelay_=Ui),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ZC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+an.nextConnectionId_++,o=this.lastSessionId;let s=!1,l=null;const a=function(){l?l.close():(s=!0,r())},u=function(c){P(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);s?Xe("getToken() completed but was canceled"):(Xe("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,l=new QC(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{wt(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(tk)},o))}catch(c){this.log_("Failed to get token: "+c),s||(this.repoInfo_.nodeAdmin&&wt(c),a())}}}interrupt(e){Xe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lh(this.interruptReasons_)&&(this.reconnectDelay_=Ui,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>hd(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ce(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Xe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=rp&&(this.reconnectDelay_=np,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Xe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=rp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+__.replace(/\./g,"-")]=1,s_()?e["framework.cordova"]=1:zS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gl.getInstance().currentlyOnline();return Lh(this.interruptReasons_)&&e}}an.nextPersistentConnectionId_=0;an.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Q(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Q(hi,e),i=new Q(hi,n);return this.compare(r,i)!==0}minPost(){return Q.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Es;class H_ extends Yl{static get __EMPTY_NODE(){return Es}static set __EMPTY_NODE(e){Es=e}compare(e,n){return Ei(e.name,n.name)}isDefinedOn(e){throw wi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Q.MIN}maxPost(){return new Q(_r,Es)}makePost(e,n){return P(typeof e=="string","KeyIndex indexValue must always be a string."),new Q(e,Es)}toString(){return".key"}}const ni=new H_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ue{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ue.RED,this.left=i??ct.EMPTY_NODE,this.right=o??ct.EMPTY_NODE}copy(e,n,r,i,o){return new Ue(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ct.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ue.RED=!0;Ue.BLACK=!1;class nk{copy(e,n,r,i,o){return this}insert(e,n,r){return new Ue(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ct{constructor(e,n=ct.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ct(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ue.BLACK,null,null))}remove(e){return new ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ue.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ss(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ss(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ss(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ss(this.root_,null,this.comparator_,!0,e)}}ct.EMPTY_NODE=new nk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t,e){return Ei(t.name,e.name)}function yd(t,e){return Ei(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu;function ik(t){Xu=t}const G_=function(t){return typeof t=="number"?"number:"+S_(t):"string:"+t},Q_=function(t){if(t.isLeafNode()){const e=t.val();P(typeof e=="string"||typeof e=="number"||typeof e=="object"&&gn(e,".sv"),"Priority must be a string or number.")}else P(t===Xu||t.isEmpty(),"priority of unexpected type.");P(t===Xu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip;class ze{static set __childrenNodeConstructor(e){ip=e}static get __childrenNodeConstructor(){return ip}constructor(e,n=ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,P(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Q_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ze(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Y(e)?this:K(e)===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=K(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(P(r!==".priority"||Bn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+G_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=S_(this.value_):e+=this.value_,this.lazyHash_=y_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ze.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ze.__childrenNodeConstructor?-1:(P(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ze.VALUE_TYPE_ORDER.indexOf(n),o=ze.VALUE_TYPE_ORDER.indexOf(r);return P(i>=0,"Unknown leaf type: "+n),P(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K_,Y_;function ok(t){K_=t}function sk(t){Y_=t}class lk extends Yl{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ei(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Q.MIN}maxPost(){return new Q(_r,new ze("[PRIORITY-POST]",Y_))}makePost(e,n){const r=K_(e);return new Q(n,new ze("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ne=new lk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=Math.log(2);class uk{constructor(e){const n=o=>parseInt(Math.log(o)/ak,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _l=function(t,e,n,r){t.sort(e);const i=function(a,u){const d=u-a;let c,f;if(d===0)return null;if(d===1)return c=t[a],f=n?n(c):c,new Ue(f,c.node,Ue.BLACK,null,null);{const m=parseInt(d/2,10)+a,v=i(a,m),w=i(m+1,u);return c=t[m],f=n?n(c):c,new Ue(f,c.node,Ue.BLACK,v,w)}},o=function(a){let u=null,d=null,c=t.length;const f=function(v,w){const x=c-v,p=c;c-=v;const h=i(x+1,p),_=t[x],C=n?n(_):_;m(new Ue(C,_.node,w,null,h))},m=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<a.count;++v){const w=a.nextBitIsOne(),x=Math.pow(2,a.count-(v+1));w?f(x,Ue.BLACK):(f(x,Ue.BLACK),f(x,Ue.RED))}return d},s=new uk(t.length),l=o(s);return new ct(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a;const Mr={};class on{static get Default(){return P(Mr&&Ne,"ChildrenNode.ts has not been loaded"),$a=$a||new on({".priority":Mr},{".priority":Ne}),$a}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=fi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ct?n:null}hasIndex(e){return gn(this.indexSet_,e.toString())}addIndex(e,n){P(e!==ni,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Q.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let l;i?l=_l(r,e.getCompare()):l=Mr;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const d=Object.assign({},this.indexes_);return d[a]=l,new on(d,u)}addToIndexes(e,n){const r=fl(this.indexes_,(i,o)=>{const s=fi(this.indexSet_,o);if(P(s,"Missing index implementation for "+o),i===Mr)if(s.isDefinedOn(e.node)){const l=[],a=n.getIterator(Q.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),_l(l,s.getCompare())}else return Mr;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new Q(e.name,l))),a.insert(e,e.node)}});return new on(r,this.indexSet_)}removeFromIndexes(e,n){const r=fl(this.indexes_,i=>{if(i===Mr)return i;{const o=n.get(e.name);return o?i.remove(new Q(e.name,o)):i}});return new on(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bi;class H{static get EMPTY_NODE(){return Bi||(Bi=new H(new ct(yd),null,on.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Q_(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bi}updatePriority(e){return this.children_.isEmpty()?this:new H(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Bi:n}}getChild(e){const n=K(e);return n===null?this:this.getImmediateChild(n).getChild(he(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(P(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Q(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Bi:this.priorityNode_;return new H(i,s,o)}}updateChild(e,n){const r=K(e);if(r===null)return n;{P(K(e)!==".priority"||Bn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(he(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Ne,(s,l)=>{n[s]=l.val(e),r++,o&&H.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const l in n)s[l]=n[l];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+G_(this.getPriority().val())+":"),this.forEachChild(Ne,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":y_(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Q(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Q(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Q(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Q.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Q.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ko?-1:0}withIndex(e){if(e===ni||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new H(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ni||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ne),i=n.getIterator(Ne);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===ni?null:this.indexMap_.get(e.toString())}}H.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ck extends H{constructor(){super(new ct(yd),H.EMPTY_NODE,on.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return H.EMPTY_NODE}isEmpty(){return!1}}const Ko=new ck;Object.defineProperties(Q,{MIN:{value:new Q(hi,H.EMPTY_NODE)},MAX:{value:new Q(_r,Ko)}});H_.__EMPTY_NODE=H.EMPTY_NODE;ze.__childrenNodeConstructor=H;ik(Ko);sk(Ko);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=!0;function Je(t,e=null){if(t===null)return H.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),P(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ze(n,Je(e))}if(!(t instanceof Array)&&dk){const n=[];let r=!1;if(pt(t,(s,l)=>{if(s.substring(0,1)!=="."){const a=Je(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new Q(s,a)))}}),n.length===0)return H.EMPTY_NODE;const o=_l(n,rk,s=>s.name,yd);if(r){const s=_l(n,Ne.getCompare());return new H(o,Je(e),new on({".priority":s},{".priority":Ne}))}else return new H(o,Je(e),on.Default)}else{let n=H.EMPTY_NODE;return pt(t,(r,i)=>{if(gn(t,r)&&r.substring(0,1)!=="."){const o=Je(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Je(e))}}ok(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk extends Yl{constructor(e){super(),this.indexPath_=e,P(!Y(e)&&K(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ei(e.name,n.name):o}makePost(e,n){const r=Je(e),i=H.EMPTY_NODE.updateChild(this.indexPath_,r);return new Q(n,i)}maxPost(){const e=H.EMPTY_NODE.updateChild(this.indexPath_,Ko);return new Q(_r,e)}toString(){return W_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk extends Yl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ei(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Q.MIN}maxPost(){return Q.MAX}makePost(e,n){const r=Je(e);return new Q(n,r)}toString(){return".value"}}const pk=new hk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){return{type:"value",snapshotNode:t}}function pi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Mo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Oo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function mk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){P(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Mo(n,l)):P(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?s.trackChildChange(pi(n,r)):s.trackChildChange(Oo(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ne,(i,o)=>{n.hasChild(i)||r.trackChildChange(Mo(i,o))}),n.isLeafNode()||n.forEachChild(Ne,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Oo(i,o,s))}else r.trackChildChange(pi(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?H.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.indexedFilter_=new wd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ao.getStartPost_(e),this.endPost_=Ao.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Q(n,r))||(r=H.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=H.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(H.EMPTY_NODE);const o=this;return n.forEachChild(Ne,(s,l)=>{o.matches(new Q(s,l))||(i=i.updateImmediateChild(s,H.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ao(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Q(n,r))||(r=H.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=H.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=H.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const l=o.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(H.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const l=o.getNext();s<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?s++:i=i.updateImmediateChild(l.name,H.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const c=this.index_.getCompare();s=(f,m)=>c(m,f)}else s=this.index_.getCompare();const l=e;P(l.numChildren()===this.limit_,"");const a=new Q(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const m=f==null?1:s(f,a);if(d&&!r.isEmpty()&&m>=0)return o!=null&&o.trackChildChange(Oo(n,r,c)),l.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Mo(n,c));const w=l.updateImmediateChild(n,H.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o!=null&&o.trackChildChange(pi(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:d&&s(u,a)>=0?(o!=null&&(o.trackChildChange(Mo(u.name,u.node)),o.trackChildChange(pi(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,H.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ne}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hi}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_r}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ne}copy(){const e=new Ed;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _k(t){return t.loadsAllData()?new wd(t.getIndex()):t.hasLimit()?new gk(t):new Ao(t)}function op(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ne?n="$priority":t.index_===pk?n="$value":t.index_===ni?n="$key":(P(t.index_ instanceof fk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Be(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Be(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Be(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Be(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Be(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function sp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ne&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends j_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Go("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=vl.getListenId_(e,r),l={};this.listens_[s]=l;const a=op(e._queryParams);this.restRequest_(o+".json",a,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(o,c,!1,r),fi(this.listens_,s)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=vl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=op(e._queryParams),r=e._path.toString(),i=new dd;return this.restRequest_(r+".json",n,(o,s)=>{let l=s;o===404&&(l=null,o=null),o===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+GS(n);this.log_("Sending REST request for "+s);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=No(l.responseText)}catch{wt("Failed to parse JSON response for "+s+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&wt("Got unsuccessful REST response for "+s+" Status: "+l.status),r(l.status);r=null}},l.open("GET",s,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.rootNode_=H.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(){return{value:null,children:new Map}}function X_(t,e,n){if(Y(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=K(e);t.children.has(r)||t.children.set(r,yl());const i=t.children.get(r);e=he(e),X_(i,e,n)}}function Ju(t,e,n){t.value!==null?n(e,t.value):yk(t,(r,i)=>{const o=new ce(e.toString()+"/"+r);Ju(i,o,n)})}function yk(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&pt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=10*1e3,Ek=30*1e3,Sk=5*60*1e3;class Ck{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new wk(e);const r=lp+(Ek-lp)*Math.random();oo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;pt(e,(i,o)=>{o>0&&gn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),oo(this.reportStats_.bind(this),Math.floor(Math.random()*2*Sk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(jt||(jt={}));function J_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Sd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Cd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=jt.ACK_USER_WRITE,this.source=J_()}operationForChild(e){if(Y(this.path)){if(this.affectedTree.value!=null)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ce(e));return new wl(ie(),n,this.revert)}}else return P(K(this.path)===e,"operationForChild called for unrelated child."),new wl(he(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.source=e,this.path=n,this.type=jt.LISTEN_COMPLETE}operationForChild(e){return Y(this.path)?new Fo(this.source,ie()):new Fo(this.source,he(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=jt.OVERWRITE}operationForChild(e){return Y(this.path)?new vr(this.source,ie(),this.snap.getImmediateChild(e)):new vr(this.source,he(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=jt.MERGE}operationForChild(e){if(Y(this.path)){const n=this.children.subtree(new ce(e));return n.isEmpty()?null:n.value?new vr(this.source,ie(),n.value):new bo(this.source,ie(),n)}else return P(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bo(this.source,he(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Y(e))return this.isFullyInitialized()&&!this.filtered_;const n=K(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function xk(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(mk(s.childName,s.snapshotNode))}),Wi(t,i,"child_removed",e,r,n),Wi(t,i,"child_added",e,r,n),Wi(t,i,"child_moved",o,r,n),Wi(t,i,"child_changed",e,r,n),Wi(t,i,"value",e,r,n),i}function Wi(t,e,n,r,i,o){const s=r.filter(l=>l.type===n);s.sort((l,a)=>Ik(t,l,a)),s.forEach(l=>{const a=Tk(t,l,o);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function Tk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Ik(t,e,n){if(e.childName==null||n.childName==null)throw wi("Should only compare child_ events.");const r=new Q(e.childName,e.snapshotNode),i=new Q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t,e){return{eventCache:t,serverCache:e}}function so(t,e,n,r){return ql(new yr(e,n,r),t.serverCache)}function Z_(t,e,n,r){return ql(t.eventCache,new yr(e,n,r))}function Zu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function wr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va;const Rk=()=>(Va||(Va=new ct(hC)),Va);class _e{static fromObject(e){let n=new _e(null);return pt(e,(r,i)=>{n=n.set(new ce(r),i)}),n}constructor(e,n=Rk()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ie(),value:this.value};if(Y(e))return null;{const r=K(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(he(e),n);return o!=null?{path:Fe(new ce(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Y(e))return this;{const n=K(e),r=this.children.get(n);return r!==null?r.subtree(he(e)):new _e(null)}}set(e,n){if(Y(e))return new _e(n,this.children);{const r=K(e),o=(this.children.get(r)||new _e(null)).set(he(e),n),s=this.children.insert(r,o);return new _e(this.value,s)}}remove(e){if(Y(e))return this.children.isEmpty()?new _e(null):new _e(null,this.children);{const n=K(e),r=this.children.get(n);if(r){const i=r.remove(he(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new _e(null):new _e(this.value,o)}else return this}}get(e){if(Y(e))return this.value;{const n=K(e),r=this.children.get(n);return r?r.get(he(e)):null}}setTree(e,n){if(Y(e))return n;{const r=K(e),o=(this.children.get(r)||new _e(null)).setTree(he(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new _e(this.value,s)}}fold(e){return this.fold_(ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Fe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ie(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Y(e))return null;{const o=K(e),s=this.children.get(o);return s?s.findOnPath_(he(e),Fe(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ie(),n)}foreachOnPath_(e,n,r){if(Y(e))return this;{this.value&&r(n,this.value);const i=K(e),o=this.children.get(i);return o?o.foreachOnPath_(he(e),Fe(n,i),r):new _e(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.writeTree_=e}static empty(){return new Wt(new _e(null))}}function lo(t,e,n){if(Y(e))return new Wt(new _e(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=ut(i,e);return o=o.updateChild(s,n),new Wt(t.writeTree_.set(i,o))}else{const i=new _e(n),o=t.writeTree_.setTree(e,i);return new Wt(o)}}}function ap(t,e,n){let r=t;return pt(n,(i,o)=>{r=lo(r,Fe(e,i),o)}),r}function up(t,e){if(Y(e))return Wt.empty();{const n=t.writeTree_.setTree(e,new _e(null));return new Wt(n)}}function ec(t,e){return kr(t,e)!=null}function kr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ut(n.path,e)):null}function cp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ne,(r,i)=>{e.push(new Q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Q(r,i.value))}),e}function zn(t,e){if(Y(e))return t;{const n=kr(t,e);return n!=null?new Wt(new _e(n)):new Wt(t.writeTree_.subtree(e))}}function tc(t){return t.writeTree_.isEmpty()}function mi(t,e){return ev(ie(),t.writeTree_,e)}function ev(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(P(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=ev(Fe(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Fe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t,e){return iv(e,t)}function Nk(t,e,n,r,i){P(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=lo(t.visibleWrites,e,n)),t.lastWriteId=r}function Pk(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Dk(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);P(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const l=t.allWrites[s];l.visible&&(s>=n&&Lk(l,r.path)?i=!1:zt(r.path,l.path)&&(o=!0)),s--}if(i){if(o)return Mk(t),!0;if(r.snap)t.visibleWrites=up(t.visibleWrites,r.path);else{const l=r.children;pt(l,a=>{t.visibleWrites=up(t.visibleWrites,Fe(r.path,a))})}return!0}else return!1}function Lk(t,e){if(t.snap)return zt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&zt(Fe(t.path,n),e))return!0;return!1}function Mk(t){t.visibleWrites=tv(t.allWrites,Ok,ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Ok(t){return t.visible}function tv(t,e,n){let r=Wt.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let l;if(o.snap)zt(n,s)?(l=ut(n,s),r=lo(r,l,o.snap)):zt(s,n)&&(l=ut(s,n),r=lo(r,ie(),o.snap.getChild(l)));else if(o.children){if(zt(n,s))l=ut(n,s),r=ap(r,l,o.children);else if(zt(s,n))if(l=ut(s,n),Y(l))r=ap(r,ie(),o.children);else{const a=fi(o.children,K(l));if(a){const u=a.getChild(he(l));r=lo(r,ie(),u)}}}else throw wi("WriteRecord should have .snap or .children")}}return r}function nv(t,e,n,r,i){if(!r&&!i){const o=kr(t.visibleWrites,e);if(o!=null)return o;{const s=zn(t.visibleWrites,e);if(tc(s))return n;if(n==null&&!ec(s,ie()))return null;{const l=n||H.EMPTY_NODE;return mi(s,l)}}}else{const o=zn(t.visibleWrites,e);if(!i&&tc(o))return n;if(!i&&n==null&&!ec(o,ie()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(zt(u.path,e)||zt(e,u.path))},l=tv(t.allWrites,s,e),a=n||H.EMPTY_NODE;return mi(l,a)}}}function Ak(t,e,n){let r=H.EMPTY_NODE;const i=kr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ne,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=zn(t.visibleWrites,e);return n.forEachChild(Ne,(s,l)=>{const a=mi(zn(o,new ce(s)),l);r=r.updateImmediateChild(s,a)}),cp(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=zn(t.visibleWrites,e);return cp(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Fk(t,e,n,r,i){P(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Fe(e,n);if(ec(t.visibleWrites,o))return null;{const s=zn(t.visibleWrites,o);return tc(s)?i.getChild(n):mi(s,i.getChild(n))}}function bk(t,e,n,r){const i=Fe(e,n),o=kr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=zn(t.visibleWrites,i);return mi(s,r.getNode().getImmediateChild(n))}else return null}function zk(t,e){return kr(t.visibleWrites,e)}function jk(t,e,n,r,i,o,s){let l;const a=zn(t.visibleWrites,e),u=kr(a,ie());if(u!=null)l=u;else if(n!=null)l=mi(a,n);else return[];if(l=l.withIndex(s),!l.isEmpty()&&!l.isLeafNode()){const d=[],c=s.getCompare(),f=o?l.getReverseIteratorFrom(r,s):l.getIteratorFrom(r,s);let m=f.getNext();for(;m&&d.length<i;)c(m,r)!==0&&d.push(m),m=f.getNext();return d}else return[]}function Uk(){return{visibleWrites:Wt.empty(),allWrites:[],lastWriteId:-1}}function El(t,e,n,r){return nv(t.writeTree,t.treePath,e,n,r)}function xd(t,e){return Ak(t.writeTree,t.treePath,e)}function dp(t,e,n,r){return Fk(t.writeTree,t.treePath,e,n,r)}function Sl(t,e){return zk(t.writeTree,Fe(t.treePath,e))}function Bk(t,e,n,r,i,o){return jk(t.writeTree,t.treePath,e,n,r,i,o)}function Td(t,e,n){return bk(t.writeTree,t.treePath,e,n)}function rv(t,e){return iv(Fe(t.treePath,e),t.writeTree)}function iv(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;P(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),P(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Oo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Mo(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,pi(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Oo(r,e.snapshotNode,i.oldSnap));else throw wi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const ov=new $k;class Id{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new yr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Td(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wr(this.viewCache_),o=Bk(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){return{filter:t}}function Hk(t,e){P(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Gk(t,e,n,r,i){const o=new Wk;let s,l;if(n.type===jt.OVERWRITE){const u=n;u.source.fromUser?s=nc(t,e,u.path,u.snap,r,i,o):(P(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!Y(u.path),s=Cl(t,e,u.path,u.snap,r,i,l,o))}else if(n.type===jt.MERGE){const u=n;u.source.fromUser?s=Kk(t,e,u.path,u.children,r,i,o):(P(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),s=rc(t,e,u.path,u.children,r,i,l,o))}else if(n.type===jt.ACK_USER_WRITE){const u=n;u.revert?s=Xk(t,e,u.path,r,i,o):s=Yk(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===jt.LISTEN_COMPLETE)s=qk(t,e,n.path,r,o);else throw wi("Unknown operation type: "+n.type);const a=o.getChanges();return Qk(e,s,a),{viewCache:s,changes:a}}function Qk(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Zu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(q_(Zu(e)))}}function sv(t,e,n,r,i,o){const s=e.eventCache;if(Sl(r,n)!=null)return e;{let l,a;if(Y(n))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=wr(e),d=u instanceof H?u:H.EMPTY_NODE,c=xd(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const u=El(r,wr(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=K(n);if(u===".priority"){P(Bn(n)===1,"Can't have a priority with additional path components");const d=s.getNode();a=e.serverCache.getNode();const c=dp(r,n,d,a);c!=null?l=t.filter.updatePriority(d,c):l=s.getNode()}else{const d=he(n);let c;if(s.isCompleteForChild(u)){a=e.serverCache.getNode();const f=dp(r,n,s.getNode(),a);f!=null?c=s.getNode().getImmediateChild(u).updateChild(d,f):c=s.getNode().getImmediateChild(u)}else c=Td(r,u,e.serverCache);c!=null?l=t.filter.updateChild(s.getNode(),u,c,d,i,o):l=s.getNode()}}return so(e,l,s.isFullyInitialized()||Y(n),t.filter.filtersNodes())}}function Cl(t,e,n,r,i,o,s,l){const a=e.serverCache;let u;const d=s?t.filter:t.filter.getIndexedFilter();if(Y(n))u=d.updateFullNode(a.getNode(),r,null);else if(d.filtersNodes()&&!a.isFiltered()){const m=a.getNode().updateChild(n,r);u=d.updateFullNode(a.getNode(),m,null)}else{const m=K(n);if(!a.isCompleteForPath(n)&&Bn(n)>1)return e;const v=he(n),x=a.getNode().getImmediateChild(m).updateChild(v,r);m===".priority"?u=d.updatePriority(a.getNode(),x):u=d.updateChild(a.getNode(),m,x,v,ov,null)}const c=Z_(e,u,a.isFullyInitialized()||Y(n),d.filtersNodes()),f=new Id(i,c,o);return sv(t,c,n,i,f,l)}function nc(t,e,n,r,i,o,s){const l=e.eventCache;let a,u;const d=new Id(i,e,o);if(Y(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=so(e,u,!0,t.filter.filtersNodes());else{const c=K(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=so(e,u,l.isFullyInitialized(),l.isFiltered());else{const f=he(n),m=l.getNode().getImmediateChild(c);let v;if(Y(f))v=r;else{const w=d.getCompleteChild(c);w!=null?B_(f)===".priority"&&w.getChild($_(f)).isEmpty()?v=w:v=w.updateChild(f,r):v=H.EMPTY_NODE}if(m.equals(v))a=e;else{const w=t.filter.updateChild(l.getNode(),c,v,f,d,s);a=so(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function fp(t,e){return t.eventCache.isCompleteForChild(e)}function Kk(t,e,n,r,i,o,s){let l=e;return r.foreach((a,u)=>{const d=Fe(n,a);fp(e,K(d))&&(l=nc(t,l,d,u,i,o,s))}),r.foreach((a,u)=>{const d=Fe(n,a);fp(e,K(d))||(l=nc(t,l,d,u,i,o,s))}),l}function hp(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function rc(t,e,n,r,i,o,s,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;Y(n)?u=r:u=new _e(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const m=e.serverCache.getNode().getImmediateChild(c),v=hp(t,m,f);a=Cl(t,a,new ce(c),v,i,o,s,l)}}),u.children.inorderTraversal((c,f)=>{const m=!e.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!m){const v=e.serverCache.getNode().getImmediateChild(c),w=hp(t,v,f);a=Cl(t,a,new ce(c),w,i,o,s,l)}}),a}function Yk(t,e,n,r,i,o,s){if(Sl(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(Y(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Cl(t,e,n,a.getNode().getChild(n),i,o,l,s);if(Y(n)){let u=new _e(null);return a.getNode().forEachChild(ni,(d,c)=>{u=u.set(new ce(d),c)}),rc(t,e,n,u,i,o,l,s)}else return e}else{let u=new _e(null);return r.foreach((d,c)=>{const f=Fe(n,d);a.isCompleteForPath(f)&&(u=u.set(d,a.getNode().getChild(f)))}),rc(t,e,n,u,i,o,l,s)}}function qk(t,e,n,r,i){const o=e.serverCache,s=Z_(e,o.getNode(),o.isFullyInitialized()||Y(n),o.isFiltered());return sv(t,s,n,r,ov,i)}function Xk(t,e,n,r,i,o){let s;if(Sl(r,n)!=null)return e;{const l=new Id(r,e,i),a=e.eventCache.getNode();let u;if(Y(n)||K(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=El(r,wr(e));else{const c=e.serverCache.getNode();P(c instanceof H,"serverChildren would be complete if leaf node"),d=xd(r,c)}d=d,u=t.filter.updateFullNode(a,d,o)}else{const d=K(n);let c=Td(r,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=a.getImmediateChild(d)),c!=null?u=t.filter.updateChild(a,d,c,he(n),l,o):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(a,d,H.EMPTY_NODE,he(n),l,o):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=El(r,wr(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||Sl(r,ie())!=null,so(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new wd(r.getIndex()),o=_k(r);this.processor_=Vk(o);const s=n.serverCache,l=n.eventCache,a=i.updateFullNode(H.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(H.EMPTY_NODE,l.getNode(),null),d=new yr(a,s.isFullyInitialized(),i.filtersNodes()),c=new yr(u,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=ql(c,d),this.eventGenerator_=new kk(this.query_)}get query(){return this.query_}}function Zk(t){return t.viewCache_.serverCache.getNode()}function ex(t,e){const n=wr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Y(e)&&!n.getImmediateChild(K(e)).isEmpty())?n.getChild(e):null}function pp(t){return t.eventRegistrations_.length===0}function tx(t,e){t.eventRegistrations_.push(e)}function mp(t,e,n){const r=[];if(n){P(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function gp(t,e,n,r){e.type===jt.MERGE&&e.source.queryId!==null&&(P(wr(t.viewCache_),"We should always have a full cache before handling merges"),P(Zu(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=Gk(t.processor_,i,e,n,r);return Hk(t.processor_,o.viewCache),P(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,lv(t,o.changes,o.viewCache.eventCache.getNode(),null)}function nx(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ne,(o,s)=>{r.push(pi(o,s))}),n.isFullyInitialized()&&r.push(q_(n.getNode())),lv(t,r,n.getNode(),e)}function lv(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return xk(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl;class rx{constructor(){this.views=new Map}}function ix(t){P(!kl,"__referenceConstructor has already been defined"),kl=t}function ox(){return P(kl,"Reference.ts has not been loaded"),kl}function sx(t){return t.views.size===0}function Rd(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return P(o!=null,"SyncTree gave us an op for an invalid query."),gp(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(gp(s,e,n,r));return o}}function lx(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let l=El(n,i?r:null),a=!1;l?a=!0:r instanceof H?(l=xd(n,r),a=!1):(l=H.EMPTY_NODE,a=!1);const u=ql(new yr(l,a,!1),new yr(r,i,!1));return new Jk(e,u)}return s}function ax(t,e,n,r,i,o){const s=lx(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),tx(s,n),nx(s,n)}function ux(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const l=Wn(t);if(i==="default")for(const[a,u]of t.views.entries())s=s.concat(mp(u,n,r)),pp(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||o.push(u.query));else{const a=t.views.get(i);a&&(s=s.concat(mp(a,n,r)),pp(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||o.push(a.query)))}return l&&!Wn(t)&&o.push(new(ox())(e._repo,e._path)),{removed:o,events:s}}function av(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ri(t,e){let n=null;for(const r of t.views.values())n=n||ex(r,e);return n}function uv(t,e){if(e._queryParams.loadsAllData())return Xl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function cv(t,e){return uv(t,e)!=null}function Wn(t){return Xl(t)!=null}function Xl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl;function cx(t){P(!xl,"__referenceConstructor has already been defined"),xl=t}function dx(){return P(xl,"Reference.ts has not been loaded"),xl}let fx=1;class _p{constructor(e){this.listenProvider_=e,this.syncPointTree_=new _e(null),this.pendingWriteTree_=Uk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hx(t,e,n,r,i){return Nk(t.pendingWriteTree_,e,n,r,i),i?Yo(t,new vr(J_(),e,n)):[]}function Qr(t,e,n=!1){const r=Pk(t.pendingWriteTree_,e);if(Dk(t.pendingWriteTree_,e)){let o=new _e(null);return r.snap!=null?o=o.set(ie(),!0):pt(r.children,s=>{o=o.set(new ce(s),!0)}),Yo(t,new wl(r.path,o,n))}else return[]}function Jl(t,e,n){return Yo(t,new vr(Sd(),e,n))}function px(t,e,n){const r=_e.fromObject(n);return Yo(t,new bo(Sd(),e,r))}function mx(t,e){return Yo(t,new Fo(Sd(),e))}function gx(t,e,n){const r=Nd(t,n);if(r){const i=Pd(r),o=i.path,s=i.queryId,l=ut(o,e),a=new Fo(Cd(s),l);return Dd(t,o,a)}else return[]}function ic(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let l=[];if(s&&(e._queryIdentifier==="default"||cv(s,e))){const a=ux(s,e,n,r);sx(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=a.removed;if(l=a.events,!i){const d=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(o,(f,m)=>Wn(m));if(d&&!c){const f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){const m=yx(f);for(let v=0;v<m.length;++v){const w=m[v],x=w.query,p=pv(t,w);t.listenProvider_.startListening(ao(x),Tl(t,x),p.hashFn,p.onComplete)}}}!c&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(ao(e),null):u.forEach(f=>{const m=t.queryToTagMap.get(Zl(f));t.listenProvider_.stopListening(ao(f),m)}))}wx(t,u)}return l}function _x(t,e,n,r){const i=Nd(t,r);if(i!=null){const o=Pd(i),s=o.path,l=o.queryId,a=ut(s,e),u=new vr(Cd(l),a,n);return Dd(t,s,u)}else return[]}function vx(t,e,n,r){const i=Nd(t,r);if(i){const o=Pd(i),s=o.path,l=o.queryId,a=ut(s,e),u=_e.fromObject(n),d=new bo(Cd(l),a,u);return Dd(t,s,d)}else return[]}function vp(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,m)=>{const v=ut(f,i);o=o||ri(m,v),s=s||Wn(m)});let l=t.syncPointTree_.get(i);l?(s=s||Wn(l),o=o||ri(l,ie())):(l=new rx,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;o!=null?a=!0:(a=!1,o=H.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((m,v)=>{const w=ri(v,ie());w&&(o=o.updateImmediateChild(m,w))}));const u=cv(l,e);if(!u&&!e._queryParams.loadsAllData()){const f=Zl(e);P(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=Ex();t.queryToTagMap.set(f,m),t.tagToQueryMap.set(m,f)}const d=kd(t.pendingWriteTree_,i);let c=ax(l,e,n,d,o,a);if(!u&&!s&&!r){const f=uv(l,e);c=c.concat(Sx(t,e,f))}return c}function dv(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,l)=>{const a=ut(s,e),u=ri(l,a);if(u)return u});return nv(i,e,o,n,!0)}function Yo(t,e){return fv(e,t.syncPointTree_,null,kd(t.pendingWriteTree_,ie()))}function fv(t,e,n,r){if(Y(t.path))return hv(t,e,n,r);{const i=e.get(ie());n==null&&i!=null&&(n=ri(i,ie()));let o=[];const s=K(t.path),l=t.operationForChild(s),a=e.children.get(s);if(a&&l){const u=n?n.getImmediateChild(s):null,d=rv(r,s);o=o.concat(fv(l,a,u,d))}return i&&(o=o.concat(Rd(i,t,r,n))),o}}function hv(t,e,n,r){const i=e.get(ie());n==null&&i!=null&&(n=ri(i,ie()));let o=[];return e.children.inorderTraversal((s,l)=>{const a=n?n.getImmediateChild(s):null,u=rv(r,s),d=t.operationForChild(s);d&&(o=o.concat(hv(d,l,a,u)))}),i&&(o=o.concat(Rd(i,t,r,n))),o}function pv(t,e){const n=e.query,r=Tl(t,n);return{hashFn:()=>(Zk(e)||H.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?gx(t,n._path,r):mx(t,n._path);{const o=gC(i,n);return ic(t,n,null,o)}}}}function Tl(t,e){const n=Zl(e);return t.queryToTagMap.get(n)}function Zl(t){return t._path.toString()+"$"+t._queryIdentifier}function Nd(t,e){return t.tagToQueryMap.get(e)}function Pd(t){const e=t.indexOf("$");return P(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ce(t.substr(0,e))}}function Dd(t,e,n){const r=t.syncPointTree_.get(e);P(r,"Missing sync point for query tag that we're tracking");const i=kd(t.pendingWriteTree_,e);return Rd(r,n,i,null)}function yx(t){return t.fold((e,n,r)=>{if(n&&Wn(n))return[Xl(n)];{let i=[];return n&&(i=av(n)),pt(r,(o,s)=>{i=i.concat(s)}),i}})}function ao(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(dx())(t._repo,t._path):t}function wx(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Zl(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Ex(){return fx++}function Sx(t,e,n){const r=e._path,i=Tl(t,e),o=pv(t,n),s=t.listenProvider_.startListening(ao(e),i,o.hashFn,o.onComplete),l=t.syncPointTree_.subtree(r);if(i)P(!Wn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,d,c)=>{if(!Y(u)&&d&&Wn(d))return[Xl(d).query];{let f=[];return d&&(f=f.concat(av(d).map(m=>m.query))),pt(c,(m,v)=>{f=f.concat(v)}),f}});for(let u=0;u<a.length;++u){const d=a[u];t.listenProvider_.stopListening(ao(d),Tl(t,d))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ld(n)}node(){return this.node_}}class Md{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Fe(this.path_,e);return new Md(this.syncTree_,n)}node(){return dv(this.syncTree_,this.path_)}}const Cx=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},yp=function(t,e,n){if(!t||typeof t!="object")return t;if(P(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return kx(t[".sv"],e,n);if(typeof t[".sv"]=="object")return xx(t[".sv"],e);P(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},kx=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:P(!1,"Unexpected server value: "+t)}},xx=function(t,e,n){t.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&P(!1,"Unexpected increment value: "+r);const i=e.node();if(P(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},Tx=function(t,e,n,r){return Od(e,new Md(n,t),r)},Ix=function(t,e,n){return Od(t,new Ld(e),n)};function Od(t,e,n){const r=t.getPriority().val(),i=yp(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,l=yp(s.getValue(),e,n);return l!==s.getValue()||i!==s.getPriority().val()?new ze(l,Je(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new ze(i))),s.forEachChild(Ne,(l,a)=>{const u=Od(a,e.getImmediateChild(l),n);u!==a&&(o=o.updateImmediateChild(l,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Fd(t,e){let n=e instanceof ce?e:new ce(e),r=t,i=K(n);for(;i!==null;){const o=fi(r.node.children,i)||{children:{},childCount:0};r=new Ad(i,r,o),n=he(n),i=K(n)}return r}function Si(t){return t.node.value}function mv(t,e){t.node.value=e,oc(t)}function gv(t){return t.node.childCount>0}function Rx(t){return Si(t)===void 0&&!gv(t)}function ea(t,e){pt(t.node.children,(n,r)=>{e(new Ad(n,t,r))})}function _v(t,e,n,r){n&&!r&&e(t),ea(t,i=>{_v(i,e,!0,r)}),n&&r&&e(t)}function Nx(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function qo(t){return new ce(t.parent===null?t.name:qo(t.parent)+"/"+t.name)}function oc(t){t.parent!==null&&Px(t.parent,t.name,t)}function Px(t,e,n){const r=Rx(n),i=gn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,oc(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,oc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=/[\[\].#$\/\u0000-\u001F\u007F]/,Lx=/[\[\].#$\u0000-\u001F\u007F]/,Ha=10*1024*1024,vv=function(t){return typeof t=="string"&&t.length!==0&&!Dx.test(t)},yv=function(t){return typeof t=="string"&&t.length!==0&&!Lx.test(t)},Mx=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),yv(t)},wv=function(t,e,n){const r=n instanceof ce?new YC(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+tr(r));if(typeof e=="function")throw new Error(t+"contains a function "+tr(r)+" with contents = "+e.toString());if(w_(e))throw new Error(t+"contains "+e.toString()+" "+tr(r));if(typeof e=="string"&&e.length>Ha/3&&Ql(e)>Ha)throw new Error(t+"contains a string greater than "+Ha+" utf8 bytes "+tr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(pt(e,(s,l)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!vv(s)))throw new Error(t+" contains an invalid key ("+s+") "+tr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qC(r,s),wv(t,l,r),XC(r)}),i&&o)throw new Error(t+' contains ".value" child '+tr(r)+" in addition to actual children.")}},Ev=function(t,e,n,r){if(!yv(n))throw new Error(c_(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Ox=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ev(t,e,n)},Ax=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Mx(n))throw new Error(c_(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sv(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!_d(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Cv(t,e,n){Sv(t,n),kv(t,r=>_d(r,e))}function xr(t,e,n){Sv(t,n),kv(t,r=>zt(r,e)||zt(e,r))}function kv(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(bx(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function bx(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();io&&Xe("event: "+n.toString()),Qo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="repo_interrupt",jx=25;class Ux{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fx,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yl(),this.transactionQueueTree_=new Ad,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Bx(t,e,n){if(t.stats_=md(t.repoInfo_),t.forceRestClient_||wC())t.server_=new vl(t.repoInfo_,(r,i,o,s)=>{wp(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Ep(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new an(t.repoInfo_,e,(r,i,o,s)=>{wp(t,r,i,o,s)},r=>{Ep(t,r)},r=>{$x(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=xC(t.repoInfo_,()=>new Ck(t.stats_,t.server_)),t.infoData_=new vk,t.infoSyncTree_=new _p({startListening:(r,i,o,s)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Jl(t.infoSyncTree_,r._path,a),setTimeout(()=>{s("ok")},0)),l},stopListening:()=>{}}),bd(t,"connected",!1),t.serverSyncTree_=new _p({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(l,a)=>{const u=s(l,a);xr(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Wx(t){const n=t.infoData_.getNode(new ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xv(t){return Cx({timestamp:Wx(t)})}function wp(t,e,n,r,i){t.dataUpdateCount++;const o=new ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const a=fl(n,u=>Je(u));s=vx(t.serverSyncTree_,o,a,i)}else{const a=Je(n);s=_x(t.serverSyncTree_,o,a,i)}else if(r){const a=fl(n,u=>Je(u));s=px(t.serverSyncTree_,o,a)}else{const a=Je(n);s=Jl(t.serverSyncTree_,o,a)}let l=o;s.length>0&&(l=jd(t,o)),xr(t.eventQueue_,l,s)}function Ep(t,e){bd(t,"connected",e),e===!1&&Hx(t)}function $x(t,e){pt(e,(n,r)=>{bd(t,n,r)})}function bd(t,e,n){const r=new ce("/.info/"+e),i=Je(n);t.infoData_.updateSnapshot(r,i);const o=Jl(t.infoSyncTree_,r,i);xr(t.eventQueue_,r,o)}function Vx(t){return t.nextWriteId_++}function Hx(t){Tv(t,"onDisconnectEvents");const e=xv(t),n=yl();Ju(t.onDisconnect_,ie(),(i,o)=>{const s=Tx(i,o,t.serverSyncTree_,e);X_(n,i,s)});let r=[];Ju(n,ie(),(i,o)=>{r=r.concat(Jl(t.serverSyncTree_,i,o));const s=Xx(t,i);jd(t,s)}),t.onDisconnect_=yl(),xr(t.eventQueue_,ie(),r)}function Gx(t,e,n){let r;K(e._path)===".info"?r=vp(t.infoSyncTree_,e,n):r=vp(t.serverSyncTree_,e,n),Cv(t.eventQueue_,e._path,r)}function Qx(t,e,n){let r;K(e._path)===".info"?r=ic(t.infoSyncTree_,e,n):r=ic(t.serverSyncTree_,e,n),Cv(t.eventQueue_,e._path,r)}function Kx(t){t.persistentConnection_&&t.persistentConnection_.interrupt(zx)}function Tv(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Xe(n,...e)}function Iv(t,e,n){return dv(t.serverSyncTree_,e,n)||H.EMPTY_NODE}function zd(t,e=t.transactionQueueTree_){if(e||ta(t,e),Si(e)){const n=Nv(t,e);P(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Yx(t,qo(e),n)}else gv(e)&&ea(e,n=>{zd(t,n)})}function Yx(t,e,n){const r=n.map(u=>u.currentWriteId),i=Iv(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const d=n[u];P(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=ut(e,d.path);o=o.updateChild(c,d.currentOutputSnapshotRaw)}const l=o.val(!0),a=e;t.server_.put(a.toString(),l,u=>{Tv(t,"transaction put response",{path:a.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Qr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ta(t,Fd(t.transactionQueueTree_,e)),zd(t,t.transactionQueueTree_),xr(t.eventQueue_,e,d);for(let f=0;f<c.length;f++)Qo(c[f])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{wt("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}jd(t,e)}},s)}function jd(t,e){const n=Rv(t,e),r=qo(n),i=Nv(t,n);return qx(t,i,r),r}function qx(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=ut(n,a.path);let d=!1,c;if(P(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,c=a.abortReason,i=i.concat(Qr(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=jx)d=!0,c="maxretry",i=i.concat(Qr(t.serverSyncTree_,a.currentWriteId,!0));else{const f=Iv(t,a.path,s);a.currentInputSnapshot=f;const m=e[l].update(f.val());if(m!==void 0){wv("transaction failed: Data returned ",m,a.path);let v=Je(m);typeof m=="object"&&m!=null&&gn(m,".priority")||(v=v.updatePriority(f.getPriority()));const x=a.currentWriteId,p=xv(t),h=Ix(v,f,p);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=h,a.currentWriteId=Vx(t),s.splice(s.indexOf(x),1),i=i.concat(hx(t.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(Qr(t.serverSyncTree_,x,!0))}else d=!0,c="nodata",i=i.concat(Qr(t.serverSyncTree_,a.currentWriteId,!0))}xr(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(c),!1,null))))}ta(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Qo(r[l]);zd(t,t.transactionQueueTree_)}function Rv(t,e){let n,r=t.transactionQueueTree_;for(n=K(e);n!==null&&Si(r)===void 0;)r=Fd(r,n),e=he(e),n=K(e);return r}function Nv(t,e){const n=[];return Pv(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Pv(t,e,n){const r=Si(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ea(e,i=>{Pv(t,i,n)})}function ta(t,e){const n=Si(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,mv(e,n.length>0?n:void 0)}ea(e,r=>{ta(t,r)})}function Xx(t,e){const n=qo(Rv(t,e)),r=Fd(t.transactionQueueTree_,e);return Nx(r,i=>{Ga(t,i)}),Ga(t,r),_v(r,i=>{Ga(t,i)}),n}function Ga(t,e){const n=Si(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(P(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(P(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Qr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?mv(e,void 0):n.length=o+1,xr(t.eventQueue_,qo(e),i);for(let s=0;s<r.length;s++)Qo(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Zx(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Sp=function(t,e){const n=eT(t),r=n.namespace;n.domain==="firebase.com"&&pn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dC();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new L_(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ce(n.pathString)}},eT=function(t){let e="",n="",r="",i="",o="",s=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(i=Jx(t.substring(d,c)));const f=Zx(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(s=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const m=e.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:s,scheme:l,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class nT{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return P(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Y(this._path)?null:B_(this._path)}get ref(){return new Kn(this._repo,this._path)}get _queryIdentifier(){const e=sp(this._queryParams),n=hd(e);return n==="{}"?"default":n}get _queryObject(){return sp(this._queryParams)}isEqual(e){if(e=Kl(e),!(e instanceof Ud))return!1;const n=this._repo===e._repo,r=_d(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+KC(this._path)}}class Kn extends Ud{constructor(e,n){super(e,n,new Ed,!1)}get parent(){const e=$_(this._path);return e===null?null:new Kn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Il{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ce(e),r=sc(this.ref,e);return new Il(this._node.getChild(n),r,Ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Il(i,sc(this.ref,r),Ne)))}hasChild(e){const n=new ce(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Dv(t,e){return t=Kl(t),t._checkNotDeleted("ref"),sc(t._root,e)}function sc(t,e){return t=Kl(t),K(t._path)===null?Ox("child","path",e):Ev("child","path",e),new Kn(t._repo,Fe(t._path,e))}class Bd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new tT("value",this,new Il(e.snapshotNode,new Kn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new nT(this,e,n):null}matches(e){return e instanceof Bd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function iT(t,e,n,r,i){const o=new rT(n,void 0),s=new Bd(o);return Gx(t._repo,t,s),()=>Qx(t._repo,t,s)}function Lv(t,e,n,r){return iT(t,"value",e)}ix(Kn);cx(Kn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="FIREBASE_DATABASE_EMULATOR_HOST",lc={};let sT=!1;function lT(t,e,n,r){t.repoInfo_=new L_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function aT(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xe("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Sp(o,i),l=s.repoInfo,a;typeof process<"u"&&Wh&&(a=Wh[oT]),a?(o=`http://${a}?ns=${l.namespace}`,s=Sp(o,i),l=s.repoInfo):s.repoInfo.secure;const u=new SC(t.name,t.options,e);Ax("Invalid Firebase Database URL",s),Y(s.path)||pn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=cT(l,t,u,new EC(t.name,n));return new dT(d,t)}function uT(t,e){const n=lc[e];(!n||n[t.key]!==t)&&pn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Kx(t),delete n[t.key]}function cT(t,e,n,r){let i=lc[e.name];i||(i={},lc[e.name]=i);let o=i[t.toURLString()];return o&&pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Ux(t,sT,n,r),i[t.toURLString()]=o,o}class dT{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Bx(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kn(this._repo,ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(uT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pn("Cannot call "+e+" on a deleted database.")}}function fT(t=Y1(),e){const n=H1(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=AS("database");r&&hT(n,...r)}return n}function hT(t,e,n,r={}){t=Kl(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&pn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Fs(Fs.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:FS(r.mockUserToken,t.app.options.projectId);o=new Fs(s)}lT(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){oC(K1),pl(new Po("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return aT(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),ei($h,Vh,t),ei($h,Vh,"esm2017")}an.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};an.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};pT();var mT="firebase",gT="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(mT,gT,"app");const _T={apiKey:"AIzaSyDxZ9CacKXjkLnlF4nlIkII0Dj8JvvwwpM",authDomain:"oscarshortanimation.firebaseapp.com",databaseURL:"https://oscarshortanimation-default-rtdb.firebaseio.com",projectId:"oscarshortanimation",storageBucket:"oscarshortanimation.firebasestorage.app",messagingSenderId:"826075727321",appId:"1:826075727321:web:472ce7d03fc9f7d95845c8"},vT=p_(_T),Mv=fT(vT),yT=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(""),[i,o]=k.useState([]),[s,l]=k.useState(!1);function a(p){return p.flatMap(h=>h.films)}function u(p){return p.flatMap(h=>h.films).slice(338)}function d(p){return p.flatMap(h=>h.films).slice(343)}const c=()=>{const p=a(t);o(p),l(!0)},f=()=>{const p=u(t);o(p),l(!0)},m=p=>{p.preventDefault();const h=y=>y.toLowerCase().includes(n.toLowerCase()),_=y=>y.filter(D=>h(D.nameRu)||h(D.nameOriginal)||h(D.nominatedYear.toString())),C=s?u(t):d(t),N=_(C);o(N)},v=()=>{const h=a(t).filter(_=>_.nomination.some(C=>C.isWinShortAnimatedFilm));o(h)},w=i.map(p=>p.kinopoiskId),x=w[Math.floor(Math.random()*w.length)];return k.useEffect(()=>{const p=Dv(Mv,"oscars/");Lv(p,h=>{const _=h.val(),C=_?Object.values(_):[];e(C),o(d(C))})},[]),M.jsx("section",{className:Aa.sectionCard,children:M.jsxs(Zg,{children:[M.jsx(SS,{value:n,onChange:p=>r(p.target.value),onSubmit:m,randomID:x,winners:v,all:c}),!s&&M.jsx(xS,{onEnd:f}),i.length>0?M.jsx("div",{className:Aa.sectionCard__content,children:i.map(p=>M.jsx(pS,{...p},p.kinopoiskId))}):M.jsx("div",{className:Aa.oops,children:M.jsx("p",{children:"Упс! Пока такого фильма нет("})})]})})},wT=()=>M.jsx("main",{children:M.jsx(yT,{})}),ET="_FilmPage_j7vrz_1",ST="_filmPage__content_j7vrz_3",CT="_filmPage__img_j7vrz_13",kT="_filmPage__info_j7vrz_22",xT="_filmPage__content_table_j7vrz_32",TT="_filmPage__content_row_j7vrz_37",IT="_filmPage__content_left_j7vrz_41",RT="_filmPage__kinopoisk_j7vrz_48",NT="_filmPage__descr_j7vrz_59",PT="_backLink_j7vrz_63",DT="_film__price_j7vrz_77",LT="_film__oscar_j7vrz_84",MT="_film__nuar_j7vrz_91",OT="_film__blur_j7vrz_95",AT="_commercial_j7vrz_104",Ye={FilmPage:ET,filmPage__content:ST,filmPage__img:CT,filmPage__info:kT,filmPage__content_table:xT,filmPage__content_row:TT,filmPage__content_left:IT,filmPage__kinopoisk:RT,filmPage__descr:NT,backLink:PT,film__price:DT,film__oscar:LT,film__nuar:MT,film__blur:OT,commercial:AT},FT="_VkVideo_1q287_1",bT={VkVideo:FT},zT=({video:t})=>{const n=(r=>{const i=r.match(/video(-?\d+)_(\d+)/);if(i){const o=i[1],s=i[2];return`https://vk.com/video_ext.php?oid=${o}&id=${s}&hd=1`}return null})(t);return n?M.jsx("iframe",{className:bT.VkVideo,src:n,width:"640",height:"360",allow:"autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;",frameBorder:"0",allowFullScreen:!0}):M.jsx("p",{children:"Invalid video URL"})},jT="_MegaVideo_2i8sr_1",UT={MegaVideo:jT},BT=({video:t})=>{function e(n){return n.replace("/file/","/embed/")}return M.jsx("iframe",{className:UT.MegaVideo,width:"640",height:"360",frameBorder:"0",src:e(t),allowFullScreen:!0})},WT="_YoutubeVideo_km073_1",$T={YoutubeVideo:WT},VT=({video:t})=>M.jsx("iframe",{className:$T.YoutubeVideo,src:t,width:"640",height:"360",allow:"autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;",frameBorder:"0",allowFullScreen:!0}),HT="/oscarShortAnimation/oscar.webp",GT="_container_16xdx_20",QT="_player_16xdx_37",KT="_content_16xdx_53",YT="_logo_16xdx_80",qT="_title_16xdx_98",XT="_version_16xdx_110",JT="_header_16xdx_114",ZT="_sources_16xdx_115",eI="_footer_16xdx_116",tI="_source_16xdx_115",nI="_Reveal_16xdx_1",rI="_selected_16xdx_171",iI="_message_16xdx_189",oI="_warning_16xdx_212",sI="_error_16xdx_218",lI="_background_16xdx_226",aI="_visible_16xdx_243",$i={container:GT,player:QT,content:KT,logo:YT,title:qT,version:XT,header:JT,sources:ZT,footer:eI,source:tI,Reveal:nI,selected:rI,message:iI,warning:oI,error:sI,background:lI,visible:aI},uI="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cstyle%3e%20.spinner%20{%20fill:%20white;%20animation:%20CircleJump%201.05s%20infinite;%20}%20.delay1%20{%20animation-delay:%20.1s%20}%20.delay2%20{%20animation-delay:%20.2s%20}%20@keyframes%20CircleJump%20{%200%25,%2057.14%25%20{%20animation-timing-function:%20cubic-bezier(0.33,%20.66,%20.66,%201);%20transform:%20translate(0)%20}%2028.57%25%20{%20animation-timing-function:%20cubic-bezier(0.33,%200,%20.66,%20.33);%20transform:%20translateY(-6px)%20}%20100%25%20{%20transform:%20translate(0)%20}%20}%20%3c/style%3e%3ccircle%20class='spinner'%20cx='4'%20cy='12'%20r='3'%20/%3e%3ccircle%20class='spinner%20delay1'%20cx='12'%20cy='12'%20r='3'%20/%3e%3ccircle%20class='spinner%20delay2'%20cx='20'%20cy='12'%20r='3'%20/%3e%3c/svg%3e",cI=["alloha","ashdi","cdnmovies","collaps","hdvb","kodik","vibix","videocdn","voidboost"],dI=({video:t})=>{const[e,n]=k.useState(""),[r,i]=k.useState([]),[o,s]=k.useState(""),[l,a]=k.useState("");k.useEffect(()=>{var c;const d=(c=t.match(/\/film\/(\d+)\//))==null?void 0:c[1];d&&(async()=>{try{const v=await(await fetch(`https://kinobox.tv/api/players?kinopoisk=${d}&sources=${cI.join(",")}`)).json();if(Array.isArray(v)){const w=v.filter(x=>x.iframeUrl!==null);i(w),w.length>0&&w[0].translations.length>0&&(n(w[0].translations[0].iframeUrl),s(w[0].source),a(w[0].translations[0].id))}else console.error("Полученные данные не являются массивом",v)}catch(m){console.error("Ошибка при получении данных",m)}})()},[t]);const u=d=>{s(d);const c=r.find(f=>f.source===d);c&&c.translations.length>0?(n(c.translations[0].iframeUrl),a(c.translations[0].id)):c&&n(c.iframeUrl)};return k.useEffect(()=>{const d=document.getElementById("movie-player");if(d){const c=new MutationObserver(f=>{f.forEach(m=>{var v;m.type==="childList"&&Array.from(((v=d.contentDocument)==null?void 0:v.scripts)||[]).filter(x=>x.src.includes("imasdk.googleapis.com")).forEach(x=>x.remove())})});return d.addEventListener("load",()=>{const f=d.contentDocument||d.contentWindow.document;c.observe(f,{childList:!0,subtree:!0})}),()=>c.disconnect()}},[e]),M.jsxs("div",{className:$i.player,children:[M.jsx("div",{className:$i.content,children:e?M.jsx("iframe",{id:"movie-player",src:e,width:"600",height:"400",allowFullScreen:!0}):M.jsx("img",{src:uI,alt:"Loading..."})}),M.jsx("div",{className:$i.sources,children:r.map(d=>M.jsx("button",{value:d.source,className:`${$i.source} ${o===d.source?$i.selected:""}`,onClick:()=>u(d.source),children:d.source},d.source))})]})},fI=()=>{var ye;const{id:t}=xE(),[e,n]=k.useState([]),[r,i]=k.useState(null),[o,s]=k.useState(!0),l=()=>s(!1);if(k.useEffect(()=>{const L=Dv(Mv,"oscars/");Lv(L,$=>{const V=$.val(),Z=V?Object.values(V):[];n(Z);const ae=Z.find(Pe=>Pe.films.some(mt=>mt.kinopoiskId===Number(t))),kt=ae?ae.films.find(Pe=>Pe.kinopoiskId===Number(t)):null;i(kt)})},[t]),!r)return M.jsx("div",{children:"Error: Film not found"});const{nameRu:a,nameOriginal:u,nominatedYear:d,year:c,platform:f,countries:m=[],genre:v,slogan:w,director:x=[],scenario:p=[],producer:h=[],operator:_=[],composer:C=[],artist:N=[],installation:y=[],worldPremiere:D,ageLimitLine:I,ratingMpaa:U,filmLength:b,description:oe,posterUrl:me,video:se,webUrl:xe,nomination:Dt=[]}=r,Vt=Dt.length>0&&((ye=Dt[0])==null?void 0:ye.isWinShortAnimatedFilm);return M.jsx("main",{children:M.jsxs(Zg,{children:[M.jsx(ud,{to:"/oscarShortAnimation",className:Ye.backLink,children:"← На главную"}),M.jsxs("div",{className:Ye.filmPage__content,children:[M.jsx("div",{className:Ye.filmPage__img,children:M.jsx("img",{className:Ye.card__img,src:me,alt:u||a})}),M.jsxs("div",{className:Ye.filmPage__info,children:[M.jsx("h1",{children:a}),M.jsx("p",{children:u}),M.jsx("a",{className:Ye.filmPage__kinopoisk,target:"_blank",href:xe,rel:"noopener noreferrer",children:"Страница Кинопоиска"}),M.jsx("h2",{children:"О фильме"}),M.jsx("div",{className:Ye.filmPage__content_table,children:[{label:"Год номинации",value:d},{label:"Год производства",value:c},{label:"Платформа",value:f},{label:"Страна",value:m.map(L=>L.country).join(", ")},{label:"Жанр",value:v},{label:"Слоган",value:w},{label:"Режиссер",value:x.join(", ")},{label:"Сценарий",value:p.join(", ")},{label:"Продюсер",value:h.join(", ")},{label:"Оператор",value:_.join(", ")},{label:"Композитор",value:C.join(", ")},{label:"Художник",value:N.join(", ")},{label:"Монтажер",value:y.join(", ")},{label:"Премьера в мире",value:D},{label:"Возраст",value:I},{label:"Рейтинг MPAA",value:U.toLocaleUpperCase()},{label:"Время",value:b}].filter(L=>L.value).map((L,$)=>M.jsxs("div",{className:Ye.filmPage__content_row,children:[M.jsx("div",{className:Ye.filmPage__content_left,children:M.jsxs("p",{children:[L.label,":"]})}),M.jsx("div",{className:Ye.filmPage__content_right,children:M.jsx("p",{children:L.value})})]},$))})]}),M.jsx("div",{className:Ye.film__price,children:M.jsx("img",{src:HT,alt:"оскар",className:`${Ye.film__oscar} ${o?Ye.film__blur:""} ${Vt?"":Ye.film__nuar}`,onClick:l})})]}),M.jsx("p",{className:Ye.filmPage__descr,children:oe}),se.startsWith("https://mega.nz/")?M.jsx(BT,{video:se}):se.startsWith("https://vk.com/")||se.startsWith("https://vkvideo.ru/")?M.jsx(zT,{video:se}):se.startsWith("https://www.youtube.com/")?M.jsx(VT,{video:se}):se.startsWith("https://www.kinopoisk.ru")?M.jsx(dI,{video:se}):M.jsx("div",{children:"Неподдерживаемый формат видео"}),M.jsxs("p",{className:Ye.commercial,children:["Надоела реклама в плеере?"," ",M.jsx("a",{href:"https://adblockplus.org/ru/download",target:"_blank",rel:"noopener noreferrer",children:"Установите это расширение"})]})]})})},hI=VE([{path:"/oscarShortAnimation",element:M.jsx(wT,{})},{path:"/oscarShortAnimation/film/:id",element:M.jsx(fI,{})},{path:"*",element:M.jsx("div",{children:"Error: Page is not found"})}]);function pI(){return M.jsx(M.Fragment,{children:M.jsx(ZE,{router:hI})})}bg(document.getElementById("root")).render(M.jsx(k.StrictMode,{children:M.jsx(pI,{})}));
