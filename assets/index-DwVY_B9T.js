function kp(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function xp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tp={exports:{}},Rl={},Ip={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=Symbol.for("react.element"),Zv=Symbol.for("react.portal"),ey=Symbol.for("react.fragment"),ty=Symbol.for("react.strict_mode"),ny=Symbol.for("react.profiler"),ry=Symbol.for("react.provider"),iy=Symbol.for("react.context"),oy=Symbol.for("react.forward_ref"),sy=Symbol.for("react.suspense"),ly=Symbol.for("react.memo"),ay=Symbol.for("react.lazy"),tf=Symbol.iterator;function uy(t){return t===null||typeof t!="object"?null:(t=tf&&t[tf]||t["@@iterator"],typeof t=="function"?t:null)}var Np={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rp=Object.assign,Pp={};function _i(t,e,n){this.props=t,this.context=e,this.refs=Pp,this.updater=n||Np}_i.prototype.isReactComponent={};_i.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dp(){}Dp.prototype=_i.prototype;function uc(t,e,n){this.props=t,this.context=e,this.refs=Pp,this.updater=n||Np}var cc=uc.prototype=new Dp;cc.constructor=uc;Rp(cc,_i.prototype);cc.isPureReactComponent=!0;var nf=Array.isArray,Lp=Object.prototype.hasOwnProperty,dc={current:null},Mp={key:!0,ref:!0,__self:!0,__source:!0};function Op(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Lp.call(e,r)&&!Mp.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:zo,type:t,key:o,ref:s,props:i,_owner:dc.current}}function cy(t,e){return{$$typeof:zo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fc(t){return typeof t=="object"&&t!==null&&t.$$typeof===zo}function dy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rf=/\/+/g;function la(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dy(""+t.key):e.toString(36)}function ks(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case zo:case Zv:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+la(s,0):r,nf(i)?(n="",t!=null&&(n=t.replace(rf,"$&/")+"/"),ks(i,e,n,"",function(u){return u})):i!=null&&(fc(i)&&(i=cy(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(rf,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",nf(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+la(o,l);s+=ks(o,e,n,a,i)}else if(a=uy(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+la(o,l++),s+=ks(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function is(t,e,n){if(t==null)return t;var r=[],i=0;return ks(t,r,"","",function(o){return e.call(n,o,i++)}),r}function fy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},xs={transition:null},hy={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:xs,ReactCurrentOwner:dc};function Ap(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:is,forEach:function(t,e,n){is(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return is(t,function(){e++}),e},toArray:function(t){return is(t,function(e){return e})||[]},only:function(t){if(!fc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};q.Component=_i;q.Fragment=ey;q.Profiler=ny;q.PureComponent=uc;q.StrictMode=ty;q.Suspense=sy;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hy;q.act=Ap;q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Rp({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=dc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Lp.call(e,a)&&!Mp.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:zo,type:t.type,key:i,ref:o,props:r,_owner:s}};q.createContext=function(t){return t={$$typeof:iy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ry,_context:t},t.Consumer=t};q.createElement=Op;q.createFactory=function(t){var e=Op.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:oy,render:t}};q.isValidElement=fc;q.lazy=function(t){return{$$typeof:ay,_payload:{_status:-1,_result:t},_init:fy}};q.memo=function(t,e){return{$$typeof:ly,type:t,compare:e===void 0?null:e}};q.startTransition=function(t){var e=xs.transition;xs.transition={};try{t()}finally{xs.transition=e}};q.unstable_act=Ap;q.useCallback=function(t,e){return ot.current.useCallback(t,e)};q.useContext=function(t){return ot.current.useContext(t)};q.useDebugValue=function(){};q.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};q.useEffect=function(t,e){return ot.current.useEffect(t,e)};q.useId=function(){return ot.current.useId()};q.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};q.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};q.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};q.useMemo=function(t,e){return ot.current.useMemo(t,e)};q.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};q.useRef=function(t){return ot.current.useRef(t)};q.useState=function(t){return ot.current.useState(t)};q.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};q.useTransition=function(){return ot.current.useTransition()};q.version="18.3.1";Ip.exports=q;var k=Ip.exports;const py=xp(k),my=kp({__proto__:null,default:py},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=k,_y=Symbol.for("react.element"),vy=Symbol.for("react.fragment"),yy=Object.prototype.hasOwnProperty,wy=gy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ey={key:!0,ref:!0,__self:!0,__source:!0};function Fp(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)yy.call(e,r)&&!Ey.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_y,type:t,key:o,ref:s,props:i,_owner:wy.current}}Rl.Fragment=vy;Rl.jsx=Fp;Rl.jsxs=Fp;Tp.exports=Rl;var P=Tp.exports,bp={exports:{}},kt={},jp={exports:{}},zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,V){var B=M.length;M.push(V);e:for(;0<B;){var Z=B-1>>>1,le=M[Z];if(0<i(le,V))M[Z]=V,M[B]=le,B=Z;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var V=M[0],B=M.pop();if(B!==V){M[0]=B;e:for(var Z=0,le=M.length,gt=le>>>1;Z<gt;){var De=2*(Z+1)-1,_t=M[De],Ae=De+1,Lt=M[Ae];if(0>i(_t,B))Ae<le&&0>i(Lt,_t)?(M[Z]=Lt,M[Ae]=B,Z=Ae):(M[Z]=_t,M[De]=B,Z=De);else if(Ae<le&&0>i(Lt,B))M[Z]=Lt,M[Ae]=B,Z=Ae;else break e}}return V}function i(M,V){var B=M.sortIndex-V.sortIndex;return B!==0?B:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],d=1,c=null,f=3,p=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(M){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=M)r(u),V.sortIndex=V.expirationTime,e(a,V);else break;V=n(u)}}function C(M){if(w=!1,m(M),!v)if(n(a)!==null)v=!0,Ht(R);else{var V=n(u);V!==null&&ve(C,V.startTime-M)}}function R(M,V){v=!1,w&&(w=!1,g(I),I=-1),p=!0;var B=f;try{for(m(V),c=n(a);c!==null&&(!(c.expirationTime>V)||M&&!oe());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,f=c.priorityLevel;var le=Z(c.expirationTime<=V);V=t.unstable_now(),typeof le=="function"?c.callback=le:c===n(a)&&r(a),m(V)}else r(a);c=n(a)}if(c!==null)var gt=!0;else{var De=n(u);De!==null&&ve(C,De.startTime-V),gt=!1}return gt}finally{c=null,f=B,p=!1}}var y=!1,L=null,I=-1,b=5,j=-1;function oe(){return!(t.unstable_now()-j<b)}function pe(){if(L!==null){var M=t.unstable_now();j=M;var V=!0;try{V=L(!0,M)}finally{V?ke():(y=!1,L=null)}}else y=!1}var ke;if(typeof h=="function")ke=function(){h(pe)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,ze=xe.port2;xe.port1.onmessage=pe,ke=function(){ze.postMessage(null)}}else ke=function(){x(pe,0)};function Ht(M){L=M,y||(y=!0,ke())}function ve(M,V){I=x(function(){M(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,Ht(R))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var B=f;f=V;try{return M()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=f;f=M;try{return V()}finally{f=B}},t.unstable_scheduleCallback=function(M,V,B){var Z=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Z+B:Z):B=Z,M){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=B+le,M={id:d++,callback:V,priorityLevel:M,startTime:B,expirationTime:le,sortIndex:-1},B>Z?(M.sortIndex=B,e(u,M),n(a)===null&&M===n(u)&&(w?(g(I),I=-1):w=!0,ve(C,B-Z))):(M.sortIndex=le,e(a,M),v||p||(v=!0,Ht(R))),M},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(M){var V=f;return function(){var B=f;f=V;try{return M.apply(this,arguments)}finally{f=B}}}})(zp);jp.exports=zp;var Sy=jp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy=k,Ct=Sy;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Up=new Set,co={};function Sr(t,e){oi(t,e),oi(t+"Capture",e)}function oi(t,e){for(co[t]=e,t=0;t<e.length;t++)Up.add(e[t])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ka=Object.prototype.hasOwnProperty,ky=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,of={},sf={};function xy(t){return Ka.call(sf,t)?!0:Ka.call(of,t)?!1:ky.test(t)?sf[t]=!0:(of[t]=!0,!1)}function Ty(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Iy(t,e,n,r){if(e===null||typeof e>"u"||Ty(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function st(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ke[t]=new st(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ke[e]=new st(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ke[t]=new st(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ke[t]=new st(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ke[t]=new st(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ke[t]=new st(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ke[t]=new st(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ke[t]=new st(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ke[t]=new st(t,5,!1,t.toLowerCase(),null,!1,!1)});var hc=/[\-:]([a-z])/g;function pc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hc,pc);Ke[e]=new st(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hc,pc);Ke[e]=new st(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hc,pc);Ke[e]=new st(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ke[t]=new st(t,1,!1,t.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ke[t]=new st(t,1,!1,t.toLowerCase(),null,!0,!0)});function mc(t,e,n,r){var i=Ke.hasOwnProperty(e)?Ke[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Iy(e,n,i,r)&&(n=null),r||i===null?xy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gn=Cy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,os=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Fr=Symbol.for("react.fragment"),gc=Symbol.for("react.strict_mode"),Ya=Symbol.for("react.profiler"),Bp=Symbol.for("react.provider"),Wp=Symbol.for("react.context"),_c=Symbol.for("react.forward_ref"),qa=Symbol.for("react.suspense"),Xa=Symbol.for("react.suspense_list"),vc=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),$p=Symbol.for("react.offscreen"),lf=Symbol.iterator;function Ni(t){return t===null||typeof t!="object"?null:(t=lf&&t[lf]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,aa;function Hi(t){if(aa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);aa=e&&e[1]||""}return`
`+aa+t}var ua=!1;function ca(t,e){if(!t||ua)return"";ua=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{ua=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hi(t):""}function Ny(t){switch(t.tag){case 5:return Hi(t.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 2:case 15:return t=ca(t.type,!1),t;case 11:return t=ca(t.type.render,!1),t;case 1:return t=ca(t.type,!0),t;default:return""}}function Ja(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fr:return"Fragment";case Ar:return"Portal";case Ya:return"Profiler";case gc:return"StrictMode";case qa:return"Suspense";case Xa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wp:return(t.displayName||"Context")+".Consumer";case Bp:return(t._context.displayName||"Context")+".Provider";case _c:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vc:return e=t.displayName||null,e!==null?e:Ja(t.type)||"Memo";case Sn:e=t._payload,t=t._init;try{return Ja(t(e))}catch{}}return null}function Ry(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ja(e);case 8:return e===gc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Un(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Py(t){var e=Vp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ss(t){t._valueTracker||(t._valueTracker=Py(t))}function Hp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Vp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function js(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Za(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function af(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Un(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gp(t,e){e=e.checked,e!=null&&mc(t,"checked",e,!1)}function eu(t,e){Gp(t,e);var n=Un(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tu(t,e.type,n):e.hasOwnProperty("defaultValue")&&tu(t,e.type,Un(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tu(t,e,n){(e!=="number"||js(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gi=Array.isArray;function Yr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Un(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(Gi(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Un(n)}}function Qp(t,e){var n=Un(e.value),r=Un(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function df(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ru(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ls,Yp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ls.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dy=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(t){Dy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qi[e]=qi[t]})});function qp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qi.hasOwnProperty(t)&&qi[t]?(""+e).trim():e+"px"}function Xp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ly=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iu(t,e){if(e){if(Ly[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function ou(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=null;function yc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lu=null,qr=null,Xr=null;function ff(t){if(t=Wo(t)){if(typeof lu!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Ol(e),lu(t.stateNode,t.type,e))}}function Jp(t){qr?Xr?Xr.push(t):Xr=[t]:qr=t}function Zp(){if(qr){var t=qr,e=Xr;if(Xr=qr=null,ff(t),e)for(t=0;t<e.length;t++)ff(e[t])}}function em(t,e){return t(e)}function tm(){}var da=!1;function nm(t,e,n){if(da)return t(e,n);da=!0;try{return em(t,e,n)}finally{da=!1,(qr!==null||Xr!==null)&&(tm(),Zp())}}function ho(t,e){var n=t.stateNode;if(n===null)return null;var r=Ol(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var au=!1;if(cn)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){au=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{au=!1}function My(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Xi=!1,zs=null,Us=!1,uu=null,Oy={onError:function(t){Xi=!0,zs=t}};function Ay(t,e,n,r,i,o,s,l,a){Xi=!1,zs=null,My.apply(Oy,arguments)}function Fy(t,e,n,r,i,o,s,l,a){if(Ay.apply(this,arguments),Xi){if(Xi){var u=zs;Xi=!1,zs=null}else throw Error(N(198));Us||(Us=!0,uu=u)}}function Cr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hf(t){if(Cr(t)!==t)throw Error(N(188))}function by(t){var e=t.alternate;if(!e){if(e=Cr(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return hf(i),t;if(o===r)return hf(i),e;o=o.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function im(t){return t=by(t),t!==null?om(t):null}function om(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=om(t);if(e!==null)return e;t=t.sibling}return null}var sm=Ct.unstable_scheduleCallback,pf=Ct.unstable_cancelCallback,jy=Ct.unstable_shouldYield,zy=Ct.unstable_requestPaint,Pe=Ct.unstable_now,Uy=Ct.unstable_getCurrentPriorityLevel,wc=Ct.unstable_ImmediatePriority,lm=Ct.unstable_UserBlockingPriority,Bs=Ct.unstable_NormalPriority,By=Ct.unstable_LowPriority,am=Ct.unstable_IdlePriority,Pl=null,qt=null;function Wy(t){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Pl,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Hy,$y=Math.log,Vy=Math.LN2;function Hy(t){return t>>>=0,t===0?32:31-($y(t)/Vy|0)|0}var as=64,us=4194304;function Qi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ws(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Qi(l):(o&=s,o!==0&&(r=Qi(o)))}else s=n&~i,s!==0?r=Qi(s):o!==0&&(r=Qi(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bt(e),i=1<<n,r|=t[n],e&=~i;return r}function Gy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qy(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Bt(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=Gy(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function cu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function um(){var t=as;return as<<=1,!(as&4194240)&&(as=64),t}function fa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Uo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bt(e),t[e]=n}function Ky(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ec(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var se=0;function cm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dm,Sc,fm,hm,pm,du=!1,cs=[],Rn=null,Pn=null,Dn=null,po=new Map,mo=new Map,kn=[],Yy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mf(t,e){switch(t){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":po.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(e.pointerId)}}function Pi(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Wo(e),e!==null&&Sc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qy(t,e,n,r,i){switch(e){case"focusin":return Rn=Pi(Rn,t,e,n,r,i),!0;case"dragenter":return Pn=Pi(Pn,t,e,n,r,i),!0;case"mouseover":return Dn=Pi(Dn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return po.set(o,Pi(po.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,mo.set(o,Pi(mo.get(o)||null,t,e,n,r,i)),!0}return!1}function mm(t){var e=or(t.target);if(e!==null){var n=Cr(e);if(n!==null){if(e=n.tag,e===13){if(e=rm(n),e!==null){t.blockedOn=e,pm(t.priority,function(){fm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ts(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);su=r,n.target.dispatchEvent(r),su=null}else return e=Wo(n),e!==null&&Sc(e),t.blockedOn=n,!1;e.shift()}return!0}function gf(t,e,n){Ts(t)&&n.delete(e)}function Xy(){du=!1,Rn!==null&&Ts(Rn)&&(Rn=null),Pn!==null&&Ts(Pn)&&(Pn=null),Dn!==null&&Ts(Dn)&&(Dn=null),po.forEach(gf),mo.forEach(gf)}function Di(t,e){t.blockedOn===e&&(t.blockedOn=null,du||(du=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,Xy)))}function go(t){function e(i){return Di(i,t)}if(0<cs.length){Di(cs[0],t);for(var n=1;n<cs.length;n++){var r=cs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Rn!==null&&Di(Rn,t),Pn!==null&&Di(Pn,t),Dn!==null&&Di(Dn,t),po.forEach(e),mo.forEach(e),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)mm(n),n.blockedOn===null&&kn.shift()}var Jr=gn.ReactCurrentBatchConfig,$s=!0;function Jy(t,e,n,r){var i=se,o=Jr.transition;Jr.transition=null;try{se=1,Cc(t,e,n,r)}finally{se=i,Jr.transition=o}}function Zy(t,e,n,r){var i=se,o=Jr.transition;Jr.transition=null;try{se=4,Cc(t,e,n,r)}finally{se=i,Jr.transition=o}}function Cc(t,e,n,r){if($s){var i=fu(t,e,n,r);if(i===null)Sa(t,e,r,Vs,n),mf(t,r);else if(qy(i,t,e,n,r))r.stopPropagation();else if(mf(t,r),e&4&&-1<Yy.indexOf(t)){for(;i!==null;){var o=Wo(i);if(o!==null&&dm(o),o=fu(t,e,n,r),o===null&&Sa(t,e,r,Vs,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Sa(t,e,r,null,n)}}var Vs=null;function fu(t,e,n,r){if(Vs=null,t=yc(r),t=or(t),t!==null)if(e=Cr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vs=t,null}function gm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uy()){case wc:return 1;case lm:return 4;case Bs:case By:return 16;case am:return 536870912;default:return 16}default:return 16}}var Tn=null,kc=null,Is=null;function _m(){if(Is)return Is;var t,e=kc,n=e.length,r,i="value"in Tn?Tn.value:Tn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Is=i.slice(t,1<r?1-r:void 0)}function Ns(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ds(){return!0}function _f(){return!1}function xt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ds:_f,this.isPropagationStopped=_f,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),e}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xc=xt(vi),Bo=Ce({},vi,{view:0,detail:0}),e0=xt(Bo),ha,pa,Li,Dl=Ce({},Bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(ha=t.screenX-Li.screenX,pa=t.screenY-Li.screenY):pa=ha=0,Li=t),ha)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),vf=xt(Dl),t0=Ce({},Dl,{dataTransfer:0}),n0=xt(t0),r0=Ce({},Bo,{relatedTarget:0}),ma=xt(r0),i0=Ce({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),o0=xt(i0),s0=Ce({},vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l0=xt(s0),a0=Ce({},vi,{data:0}),yf=xt(a0),u0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=d0[t])?!!e[t]:!1}function Tc(){return f0}var h0=Ce({},Bo,{key:function(t){if(t.key){var e=u0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p0=xt(h0),m0=Ce({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wf=xt(m0),g0=Ce({},Bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),_0=xt(g0),v0=Ce({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),y0=xt(v0),w0=Ce({},Dl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),E0=xt(w0),S0=[9,13,27,32],Ic=cn&&"CompositionEvent"in window,Ji=null;cn&&"documentMode"in document&&(Ji=document.documentMode);var C0=cn&&"TextEvent"in window&&!Ji,vm=cn&&(!Ic||Ji&&8<Ji&&11>=Ji),Ef=" ",Sf=!1;function ym(t,e){switch(t){case"keyup":return S0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var br=!1;function k0(t,e){switch(t){case"compositionend":return wm(e);case"keypress":return e.which!==32?null:(Sf=!0,Ef);case"textInput":return t=e.data,t===Ef&&Sf?null:t;default:return null}}function x0(t,e){if(br)return t==="compositionend"||!Ic&&ym(t,e)?(t=_m(),Is=kc=Tn=null,br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vm&&e.locale!=="ko"?null:e.data;default:return null}}var T0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!T0[t.type]:e==="textarea"}function Em(t,e,n,r){Jp(r),e=Hs(e,"onChange"),0<e.length&&(n=new xc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zi=null,_o=null;function I0(t){Lm(t,0)}function Ll(t){var e=Ur(t);if(Hp(e))return t}function N0(t,e){if(t==="change")return e}var Sm=!1;if(cn){var ga;if(cn){var _a="oninput"in document;if(!_a){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),_a=typeof kf.oninput=="function"}ga=_a}else ga=!1;Sm=ga&&(!document.documentMode||9<document.documentMode)}function xf(){Zi&&(Zi.detachEvent("onpropertychange",Cm),_o=Zi=null)}function Cm(t){if(t.propertyName==="value"&&Ll(_o)){var e=[];Em(e,_o,t,yc(t)),nm(I0,e)}}function R0(t,e,n){t==="focusin"?(xf(),Zi=e,_o=n,Zi.attachEvent("onpropertychange",Cm)):t==="focusout"&&xf()}function P0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ll(_o)}function D0(t,e){if(t==="click")return Ll(e)}function L0(t,e){if(t==="input"||t==="change")return Ll(e)}function M0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vt=typeof Object.is=="function"?Object.is:M0;function vo(t,e){if(Vt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ka.call(e,i)||!Vt(t[i],e[i]))return!1}return!0}function Tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function If(t,e){var n=Tf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tf(n)}}function km(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?km(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xm(){for(var t=window,e=js();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=js(t.document)}return e}function Nc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function O0(t){var e=xm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&km(n.ownerDocument.documentElement,n)){if(r!==null&&Nc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=If(n,o);var s=If(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A0=cn&&"documentMode"in document&&11>=document.documentMode,jr=null,hu=null,eo=null,pu=!1;function Nf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pu||jr==null||jr!==js(r)||(r=jr,"selectionStart"in r&&Nc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eo&&vo(eo,r)||(eo=r,r=Hs(hu,"onSelect"),0<r.length&&(e=new xc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jr)))}function fs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zr={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionend:fs("Transition","TransitionEnd")},va={},Tm={};cn&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Ml(t){if(va[t])return va[t];if(!zr[t])return t;var e=zr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tm)return va[t]=e[n];return t}var Im=Ml("animationend"),Nm=Ml("animationiteration"),Rm=Ml("animationstart"),Pm=Ml("transitionend"),Dm=new Map,Rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(t,e){Dm.set(t,e),Sr(e,[t])}for(var ya=0;ya<Rf.length;ya++){var wa=Rf[ya],F0=wa.toLowerCase(),b0=wa[0].toUpperCase()+wa.slice(1);Vn(F0,"on"+b0)}Vn(Im,"onAnimationEnd");Vn(Nm,"onAnimationIteration");Vn(Rm,"onAnimationStart");Vn("dblclick","onDoubleClick");Vn("focusin","onFocus");Vn("focusout","onBlur");Vn(Pm,"onTransitionEnd");oi("onMouseEnter",["mouseout","mouseover"]);oi("onMouseLeave",["mouseout","mouseover"]);oi("onPointerEnter",["pointerout","pointerover"]);oi("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ki));function Pf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Fy(r,e,void 0,t),t.currentTarget=null}function Lm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Pf(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Pf(i,l,u),o=a}}}if(Us)throw t=uu,Us=!1,uu=null,t}function me(t,e){var n=e[yu];n===void 0&&(n=e[yu]=new Set);var r=t+"__bubble";n.has(r)||(Mm(e,t,2,!1),n.add(r))}function Ea(t,e,n){var r=0;e&&(r|=4),Mm(n,t,r,e)}var hs="_reactListening"+Math.random().toString(36).slice(2);function yo(t){if(!t[hs]){t[hs]=!0,Up.forEach(function(n){n!=="selectionchange"&&(j0.has(n)||Ea(n,!1,t),Ea(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hs]||(e[hs]=!0,Ea("selectionchange",!1,e))}}function Mm(t,e,n,r){switch(gm(e)){case 1:var i=Jy;break;case 4:i=Zy;break;default:i=Cc}n=i.bind(null,e,n,t),i=void 0,!au||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sa(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=or(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}nm(function(){var u=o,d=yc(n),c=[];e:{var f=Dm.get(t);if(f!==void 0){var p=xc,v=t;switch(t){case"keypress":if(Ns(n)===0)break e;case"keydown":case"keyup":p=p0;break;case"focusin":v="focus",p=ma;break;case"focusout":v="blur",p=ma;break;case"beforeblur":case"afterblur":p=ma;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=n0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_0;break;case Im:case Nm:case Rm:p=o0;break;case Pm:p=y0;break;case"scroll":p=e0;break;case"wheel":p=E0;break;case"copy":case"cut":case"paste":p=l0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=wf}var w=(e&4)!==0,x=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var h=u,m;h!==null;){m=h;var C=m.stateNode;if(m.tag===5&&C!==null&&(m=C,g!==null&&(C=ho(h,g),C!=null&&w.push(wo(h,C,m)))),x)break;h=h.return}0<w.length&&(f=new p(f,v,null,n,d),c.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==su&&(v=n.relatedTarget||n.fromElement)&&(or(v)||v[dn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?or(v):null,v!==null&&(x=Cr(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=vf,C="onMouseLeave",g="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=wf,C="onPointerLeave",g="onPointerEnter",h="pointer"),x=p==null?f:Ur(p),m=v==null?f:Ur(v),f=new w(C,h+"leave",p,n,d),f.target=x,f.relatedTarget=m,C=null,or(d)===u&&(w=new w(g,h+"enter",v,n,d),w.target=m,w.relatedTarget=x,C=w),x=C,p&&v)t:{for(w=p,g=v,h=0,m=w;m;m=Dr(m))h++;for(m=0,C=g;C;C=Dr(C))m++;for(;0<h-m;)w=Dr(w),h--;for(;0<m-h;)g=Dr(g),m--;for(;h--;){if(w===g||g!==null&&w===g.alternate)break t;w=Dr(w),g=Dr(g)}w=null}else w=null;p!==null&&Df(c,f,p,w,!1),v!==null&&x!==null&&Df(c,x,v,w,!0)}}e:{if(f=u?Ur(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var R=N0;else if(Cf(f))if(Sm)R=L0;else{R=P0;var y=R0}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=D0);if(R&&(R=R(t,u))){Em(c,R,n,d);break e}y&&y(t,f,u),t==="focusout"&&(y=f._wrapperState)&&y.controlled&&f.type==="number"&&tu(f,"number",f.value)}switch(y=u?Ur(u):window,t){case"focusin":(Cf(y)||y.contentEditable==="true")&&(jr=y,hu=u,eo=null);break;case"focusout":eo=hu=jr=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,Nf(c,n,d);break;case"selectionchange":if(A0)break;case"keydown":case"keyup":Nf(c,n,d)}var L;if(Ic)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else br?ym(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(vm&&n.locale!=="ko"&&(br||I!=="onCompositionStart"?I==="onCompositionEnd"&&br&&(L=_m()):(Tn=d,kc="value"in Tn?Tn.value:Tn.textContent,br=!0)),y=Hs(u,I),0<y.length&&(I=new yf(I,t,null,n,d),c.push({event:I,listeners:y}),L?I.data=L:(L=wm(n),L!==null&&(I.data=L)))),(L=C0?k0(t,n):x0(t,n))&&(u=Hs(u,"onBeforeInput"),0<u.length&&(d=new yf("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=L))}Lm(c,e)})}function wo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ho(t,n),o!=null&&r.unshift(wo(t,o,i)),o=ho(t,e),o!=null&&r.push(wo(t,o,i))),t=t.return}return r}function Dr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Df(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=ho(n,o),a!=null&&s.unshift(wo(n,a,l))):i||(a=ho(n,o),a!=null&&s.push(wo(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var z0=/\r\n?/g,U0=/\u0000|\uFFFD/g;function Lf(t){return(typeof t=="string"?t:""+t).replace(z0,`
`).replace(U0,"")}function ps(t,e,n){if(e=Lf(e),Lf(t)!==e&&n)throw Error(N(425))}function Gs(){}var mu=null,gu=null;function _u(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vu=typeof setTimeout=="function"?setTimeout:void 0,B0=typeof clearTimeout=="function"?clearTimeout:void 0,Mf=typeof Promise=="function"?Promise:void 0,W0=typeof queueMicrotask=="function"?queueMicrotask:typeof Mf<"u"?function(t){return Mf.resolve(null).then(t).catch($0)}:vu;function $0(t){setTimeout(function(){throw t})}function Ca(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),go(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);go(e)}function Ln(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Of(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yi=Math.random().toString(36).slice(2),Yt="__reactFiber$"+yi,Eo="__reactProps$"+yi,dn="__reactContainer$"+yi,yu="__reactEvents$"+yi,V0="__reactListeners$"+yi,H0="__reactHandles$"+yi;function or(t){var e=t[Yt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dn]||n[Yt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Of(t);t!==null;){if(n=t[Yt])return n;t=Of(t)}return e}t=n,n=t.parentNode}return null}function Wo(t){return t=t[Yt]||t[dn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Ol(t){return t[Eo]||null}var wu=[],Br=-1;function Hn(t){return{current:t}}function _e(t){0>Br||(t.current=wu[Br],wu[Br]=null,Br--)}function he(t,e){Br++,wu[Br]=t.current,t.current=e}var Bn={},tt=Hn(Bn),ft=Hn(!1),fr=Bn;function si(t,e){var n=t.type.contextTypes;if(!n)return Bn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ht(t){return t=t.childContextTypes,t!=null}function Qs(){_e(ft),_e(tt)}function Af(t,e,n){if(tt.current!==Bn)throw Error(N(168));he(tt,e),he(ft,n)}function Om(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,Ry(t)||"Unknown",i));return Ce({},n,r)}function Ks(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bn,fr=tt.current,he(tt,t),he(ft,ft.current),!0}function Ff(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=Om(t,e,fr),r.__reactInternalMemoizedMergedChildContext=t,_e(ft),_e(tt),he(tt,t)):_e(ft),he(ft,n)}var nn=null,Al=!1,ka=!1;function Am(t){nn===null?nn=[t]:nn.push(t)}function G0(t){Al=!0,Am(t)}function Gn(){if(!ka&&nn!==null){ka=!0;var t=0,e=se;try{var n=nn;for(se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nn=null,Al=!1}catch(i){throw nn!==null&&(nn=nn.slice(t+1)),sm(wc,Gn),i}finally{se=e,ka=!1}}return null}var Wr=[],$r=0,Ys=null,qs=0,Tt=[],It=0,hr=null,rn=1,on="";function Zn(t,e){Wr[$r++]=qs,Wr[$r++]=Ys,Ys=t,qs=e}function Fm(t,e,n){Tt[It++]=rn,Tt[It++]=on,Tt[It++]=hr,hr=t;var r=rn;t=on;var i=32-Bt(r)-1;r&=~(1<<i),n+=1;var o=32-Bt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,rn=1<<32-Bt(e)+i|n<<i|r,on=o+t}else rn=1<<o|n<<i|r,on=t}function Rc(t){t.return!==null&&(Zn(t,1),Fm(t,1,0))}function Pc(t){for(;t===Ys;)Ys=Wr[--$r],Wr[$r]=null,qs=Wr[--$r],Wr[$r]=null;for(;t===hr;)hr=Tt[--It],Tt[It]=null,on=Tt[--It],Tt[It]=null,rn=Tt[--It],Tt[It]=null}var Et=null,wt=null,we=!1,bt=null;function bm(t,e){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Et=t,wt=Ln(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Et=t,wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hr!==null?{id:rn,overflow:on}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Et=t,wt=null,!0):!1;default:return!1}}function Eu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Su(t){if(we){var e=wt;if(e){var n=e;if(!bf(t,e)){if(Eu(t))throw Error(N(418));e=Ln(n.nextSibling);var r=Et;e&&bf(t,e)?bm(r,n):(t.flags=t.flags&-4097|2,we=!1,Et=t)}}else{if(Eu(t))throw Error(N(418));t.flags=t.flags&-4097|2,we=!1,Et=t}}}function jf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Et=t}function ms(t){if(t!==Et)return!1;if(!we)return jf(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_u(t.type,t.memoizedProps)),e&&(e=wt)){if(Eu(t))throw jm(),Error(N(418));for(;e;)bm(t,e),e=Ln(e.nextSibling)}if(jf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wt=Ln(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wt=null}}else wt=Et?Ln(t.stateNode.nextSibling):null;return!0}function jm(){for(var t=wt;t;)t=Ln(t.nextSibling)}function li(){wt=Et=null,we=!1}function Dc(t){bt===null?bt=[t]:bt.push(t)}var Q0=gn.ReactCurrentBatchConfig;function Mi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function gs(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zf(t){var e=t._init;return e(t._payload)}function zm(t){function e(g,h){if(t){var m=g.deletions;m===null?(g.deletions=[h],g.flags|=16):m.push(h)}}function n(g,h){if(!t)return null;for(;h!==null;)e(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=Fn(g,h),g.index=0,g.sibling=null,g}function o(g,h,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<h?(g.flags|=2,h):m):(g.flags|=2,h)):(g.flags|=1048576,h)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,h,m,C){return h===null||h.tag!==6?(h=Da(m,g.mode,C),h.return=g,h):(h=i(h,m),h.return=g,h)}function a(g,h,m,C){var R=m.type;return R===Fr?d(g,h,m.props.children,C,m.key):h!==null&&(h.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Sn&&zf(R)===h.type)?(C=i(h,m.props),C.ref=Mi(g,h,m),C.return=g,C):(C=As(m.type,m.key,m.props,null,g.mode,C),C.ref=Mi(g,h,m),C.return=g,C)}function u(g,h,m,C){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=La(m,g.mode,C),h.return=g,h):(h=i(h,m.children||[]),h.return=g,h)}function d(g,h,m,C,R){return h===null||h.tag!==7?(h=dr(m,g.mode,C,R),h.return=g,h):(h=i(h,m),h.return=g,h)}function c(g,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Da(""+h,g.mode,m),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case os:return m=As(h.type,h.key,h.props,null,g.mode,m),m.ref=Mi(g,null,h),m.return=g,m;case Ar:return h=La(h,g.mode,m),h.return=g,h;case Sn:var C=h._init;return c(g,C(h._payload),m)}if(Gi(h)||Ni(h))return h=dr(h,g.mode,m,null),h.return=g,h;gs(g,h)}return null}function f(g,h,m,C){var R=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return R!==null?null:l(g,h,""+m,C);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case os:return m.key===R?a(g,h,m,C):null;case Ar:return m.key===R?u(g,h,m,C):null;case Sn:return R=m._init,f(g,h,R(m._payload),C)}if(Gi(m)||Ni(m))return R!==null?null:d(g,h,m,C,null);gs(g,m)}return null}function p(g,h,m,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(m)||null,l(h,g,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case os:return g=g.get(C.key===null?m:C.key)||null,a(h,g,C,R);case Ar:return g=g.get(C.key===null?m:C.key)||null,u(h,g,C,R);case Sn:var y=C._init;return p(g,h,m,y(C._payload),R)}if(Gi(C)||Ni(C))return g=g.get(m)||null,d(h,g,C,R,null);gs(h,C)}return null}function v(g,h,m,C){for(var R=null,y=null,L=h,I=h=0,b=null;L!==null&&I<m.length;I++){L.index>I?(b=L,L=null):b=L.sibling;var j=f(g,L,m[I],C);if(j===null){L===null&&(L=b);break}t&&L&&j.alternate===null&&e(g,L),h=o(j,h,I),y===null?R=j:y.sibling=j,y=j,L=b}if(I===m.length)return n(g,L),we&&Zn(g,I),R;if(L===null){for(;I<m.length;I++)L=c(g,m[I],C),L!==null&&(h=o(L,h,I),y===null?R=L:y.sibling=L,y=L);return we&&Zn(g,I),R}for(L=r(g,L);I<m.length;I++)b=p(L,g,I,m[I],C),b!==null&&(t&&b.alternate!==null&&L.delete(b.key===null?I:b.key),h=o(b,h,I),y===null?R=b:y.sibling=b,y=b);return t&&L.forEach(function(oe){return e(g,oe)}),we&&Zn(g,I),R}function w(g,h,m,C){var R=Ni(m);if(typeof R!="function")throw Error(N(150));if(m=R.call(m),m==null)throw Error(N(151));for(var y=R=null,L=h,I=h=0,b=null,j=m.next();L!==null&&!j.done;I++,j=m.next()){L.index>I?(b=L,L=null):b=L.sibling;var oe=f(g,L,j.value,C);if(oe===null){L===null&&(L=b);break}t&&L&&oe.alternate===null&&e(g,L),h=o(oe,h,I),y===null?R=oe:y.sibling=oe,y=oe,L=b}if(j.done)return n(g,L),we&&Zn(g,I),R;if(L===null){for(;!j.done;I++,j=m.next())j=c(g,j.value,C),j!==null&&(h=o(j,h,I),y===null?R=j:y.sibling=j,y=j);return we&&Zn(g,I),R}for(L=r(g,L);!j.done;I++,j=m.next())j=p(L,g,I,j.value,C),j!==null&&(t&&j.alternate!==null&&L.delete(j.key===null?I:j.key),h=o(j,h,I),y===null?R=j:y.sibling=j,y=j);return t&&L.forEach(function(pe){return e(g,pe)}),we&&Zn(g,I),R}function x(g,h,m,C){if(typeof m=="object"&&m!==null&&m.type===Fr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case os:e:{for(var R=m.key,y=h;y!==null;){if(y.key===R){if(R=m.type,R===Fr){if(y.tag===7){n(g,y.sibling),h=i(y,m.props.children),h.return=g,g=h;break e}}else if(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Sn&&zf(R)===y.type){n(g,y.sibling),h=i(y,m.props),h.ref=Mi(g,y,m),h.return=g,g=h;break e}n(g,y);break}else e(g,y);y=y.sibling}m.type===Fr?(h=dr(m.props.children,g.mode,C,m.key),h.return=g,g=h):(C=As(m.type,m.key,m.props,null,g.mode,C),C.ref=Mi(g,h,m),C.return=g,g=C)}return s(g);case Ar:e:{for(y=m.key;h!==null;){if(h.key===y)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(g,h.sibling),h=i(h,m.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else e(g,h);h=h.sibling}h=La(m,g.mode,C),h.return=g,g=h}return s(g);case Sn:return y=m._init,x(g,h,y(m._payload),C)}if(Gi(m))return v(g,h,m,C);if(Ni(m))return w(g,h,m,C);gs(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,m),h.return=g,g=h):(n(g,h),h=Da(m,g.mode,C),h.return=g,g=h),s(g)):n(g,h)}return x}var ai=zm(!0),Um=zm(!1),Xs=Hn(null),Js=null,Vr=null,Lc=null;function Mc(){Lc=Vr=Js=null}function Oc(t){var e=Xs.current;_e(Xs),t._currentValue=e}function Cu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zr(t,e){Js=t,Lc=Vr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ut=!0),t.firstContext=null)}function Pt(t){var e=t._currentValue;if(Lc!==t)if(t={context:t,memoizedValue:e,next:null},Vr===null){if(Js===null)throw Error(N(308));Vr=t,Js.dependencies={lanes:0,firstContext:t}}else Vr=Vr.next=t;return e}var sr=null;function Ac(t){sr===null?sr=[t]:sr.push(t)}function Bm(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ac(e)):(n.next=i.next,i.next=n),e.interleaved=n,fn(t,r)}function fn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Cn=!1;function Fc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fn(t,n)}return i=r.interleaved,i===null?(e.next=e,Ac(r)):(e.next=i.next,i.next=e),r.interleaved=e,fn(t,n)}function Rs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ec(t,n)}}function Uf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zs(t,e,n,r){var i=t.updateQueue;Cn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(o!==null){var c=i.baseState;s=0,d=u=a=null,l=o;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,w=l;switch(f=e,p=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){c=v.call(p,c,f);break e}c=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(p,c,f):v,f==null)break e;c=Ce({},c,f);break e;case 2:Cn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,a=c):d=d.next=p,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);mr|=s,t.lanes=s,t.memoizedState=c}}function Bf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var $o={},Xt=Hn($o),So=Hn($o),Co=Hn($o);function lr(t){if(t===$o)throw Error(N(174));return t}function bc(t,e){switch(he(Co,e),he(So,t),he(Xt,$o),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ru(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ru(e,t)}_e(Xt),he(Xt,e)}function ui(){_e(Xt),_e(So),_e(Co)}function $m(t){lr(Co.current);var e=lr(Xt.current),n=ru(e,t.type);e!==n&&(he(So,t),he(Xt,n))}function jc(t){So.current===t&&(_e(Xt),_e(So))}var Ee=Hn(0);function el(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xa=[];function zc(){for(var t=0;t<xa.length;t++)xa[t]._workInProgressVersionPrimary=null;xa.length=0}var Ps=gn.ReactCurrentDispatcher,Ta=gn.ReactCurrentBatchConfig,pr=0,Se=null,Fe=null,Be=null,tl=!1,to=!1,ko=0,K0=0;function Ye(){throw Error(N(321))}function Uc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vt(t[n],e[n]))return!1;return!0}function Bc(t,e,n,r,i,o){if(pr=o,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ps.current=t===null||t.memoizedState===null?J0:Z0,t=n(r,i),to){o=0;do{if(to=!1,ko=0,25<=o)throw Error(N(301));o+=1,Be=Fe=null,e.updateQueue=null,Ps.current=ew,t=n(r,i)}while(to)}if(Ps.current=nl,e=Fe!==null&&Fe.next!==null,pr=0,Be=Fe=Se=null,tl=!1,e)throw Error(N(300));return t}function Wc(){var t=ko!==0;return ko=0,t}function Kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Se.memoizedState=Be=t:Be=Be.next=t,Be}function Dt(){if(Fe===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=Be===null?Se.memoizedState:Be.next;if(e!==null)Be=e,Fe=t;else{if(t===null)throw Error(N(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Be===null?Se.memoizedState=Be=t:Be=Be.next=t}return Be}function xo(t,e){return typeof e=="function"?e(t):e}function Ia(t){var e=Dt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Fe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var d=u.lane;if((pr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,s=r):a=a.next=c,Se.lanes|=d,mr|=d}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,Vt(r,e.memoizedState)||(ut=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Se.lanes|=o,mr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Na(t){var e=Dt(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Vt(o,e.memoizedState)||(ut=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Vm(){}function Hm(t,e){var n=Se,r=Dt(),i=e(),o=!Vt(r.memoizedState,i);if(o&&(r.memoizedState=i,ut=!0),r=r.queue,$c(Km.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,To(9,Qm.bind(null,n,r,i,e),void 0,null),Ve===null)throw Error(N(349));pr&30||Gm(n,e,i)}return i}function Gm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qm(t,e,n,r){e.value=n,e.getSnapshot=r,Ym(e)&&qm(t)}function Km(t,e,n){return n(function(){Ym(e)&&qm(t)})}function Ym(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vt(t,n)}catch{return!0}}function qm(t){var e=fn(t,1);e!==null&&Wt(e,t,1,-1)}function Wf(t){var e=Kt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:t},e.queue=t,t=t.dispatch=X0.bind(null,Se,t),[e.memoizedState,t]}function To(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Xm(){return Dt().memoizedState}function Ds(t,e,n,r){var i=Kt();Se.flags|=t,i.memoizedState=To(1|e,n,void 0,r===void 0?null:r)}function Fl(t,e,n,r){var i=Dt();r=r===void 0?null:r;var o=void 0;if(Fe!==null){var s=Fe.memoizedState;if(o=s.destroy,r!==null&&Uc(r,s.deps)){i.memoizedState=To(e,n,o,r);return}}Se.flags|=t,i.memoizedState=To(1|e,n,o,r)}function $f(t,e){return Ds(8390656,8,t,e)}function $c(t,e){return Fl(2048,8,t,e)}function Jm(t,e){return Fl(4,2,t,e)}function Zm(t,e){return Fl(4,4,t,e)}function eg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tg(t,e,n){return n=n!=null?n.concat([t]):null,Fl(4,4,eg.bind(null,e,t),n)}function Vc(){}function ng(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rg(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ig(t,e,n){return pr&21?(Vt(n,e)||(n=um(),Se.lanes|=n,mr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ut=!0),t.memoizedState=n)}function Y0(t,e){var n=se;se=n!==0&&4>n?n:4,t(!0);var r=Ta.transition;Ta.transition={};try{t(!1),e()}finally{se=n,Ta.transition=r}}function og(){return Dt().memoizedState}function q0(t,e,n){var r=An(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sg(t))lg(e,n);else if(n=Bm(t,e,n,r),n!==null){var i=it();Wt(n,t,r,i),ag(n,e,r)}}function X0(t,e,n){var r=An(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sg(t))lg(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Vt(l,s)){var a=e.interleaved;a===null?(i.next=i,Ac(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Bm(t,e,i,r),n!==null&&(i=it(),Wt(n,t,r,i),ag(n,e,r))}}function sg(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function lg(t,e){to=tl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ag(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ec(t,n)}}var nl={readContext:Pt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},J0={readContext:Pt,useCallback:function(t,e){return Kt().memoizedState=[t,e===void 0?null:e],t},useContext:Pt,useEffect:$f,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ds(4194308,4,eg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ds(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ds(4,2,t,e)},useMemo:function(t,e){var n=Kt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=q0.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=Kt();return t={current:t},e.memoizedState=t},useState:Wf,useDebugValue:Vc,useDeferredValue:function(t){return Kt().memoizedState=t},useTransition:function(){var t=Wf(!1),e=t[0];return t=Y0.bind(null,t[1]),Kt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,i=Kt();if(we){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Ve===null)throw Error(N(349));pr&30||Gm(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,$f(Km.bind(null,r,o,t),[t]),r.flags|=2048,To(9,Qm.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Kt(),e=Ve.identifierPrefix;if(we){var n=on,r=rn;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ko++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=K0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Z0={readContext:Pt,useCallback:ng,useContext:Pt,useEffect:$c,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:Zm,useMemo:rg,useReducer:Ia,useRef:Xm,useState:function(){return Ia(xo)},useDebugValue:Vc,useDeferredValue:function(t){var e=Dt();return ig(e,Fe.memoizedState,t)},useTransition:function(){var t=Ia(xo)[0],e=Dt().memoizedState;return[t,e]},useMutableSource:Vm,useSyncExternalStore:Hm,useId:og,unstable_isNewReconciler:!1},ew={readContext:Pt,useCallback:ng,useContext:Pt,useEffect:$c,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:Zm,useMemo:rg,useReducer:Na,useRef:Xm,useState:function(){return Na(xo)},useDebugValue:Vc,useDeferredValue:function(t){var e=Dt();return Fe===null?e.memoizedState=t:ig(e,Fe.memoizedState,t)},useTransition:function(){var t=Na(xo)[0],e=Dt().memoizedState;return[t,e]},useMutableSource:Vm,useSyncExternalStore:Hm,useId:og,unstable_isNewReconciler:!1};function Ot(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ku(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bl={isMounted:function(t){return(t=t._reactInternals)?Cr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=it(),i=An(t),o=ln(r,i);o.payload=e,n!=null&&(o.callback=n),e=Mn(t,o,i),e!==null&&(Wt(e,t,i,r),Rs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=it(),i=An(t),o=ln(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Mn(t,o,i),e!==null&&(Wt(e,t,i,r),Rs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=it(),r=An(t),i=ln(n,r);i.tag=2,e!=null&&(i.callback=e),e=Mn(t,i,r),e!==null&&(Wt(e,t,r,n),Rs(e,t,r))}};function Vf(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!vo(n,r)||!vo(i,o):!0}function ug(t,e,n){var r=!1,i=Bn,o=e.contextType;return typeof o=="object"&&o!==null?o=Pt(o):(i=ht(e)?fr:tt.current,r=e.contextTypes,o=(r=r!=null)?si(t,i):Bn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Hf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bl.enqueueReplaceState(e,e.state,null)}function xu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Fc(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Pt(o):(o=ht(e)?fr:tt.current,i.context=si(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ku(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bl.enqueueReplaceState(i,i.state,null),Zs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ci(t,e){try{var n="",r=e;do n+=Ny(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ra(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tw=typeof WeakMap=="function"?WeakMap:Map;function cg(t,e,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){il||(il=!0,Fu=r),Tu(t,e)},n}function dg(t,e,n){n=ln(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tu(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Tu(t,e),typeof r!="function"&&(On===null?On=new Set([this]):On.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Gf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tw;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=mw.bind(null,t,e,n),e.then(t,t))}function Qf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ln(-1,1),e.tag=2,Mn(n,e,1))),n.lanes|=1),t)}var nw=gn.ReactCurrentOwner,ut=!1;function rt(t,e,n,r){e.child=t===null?Um(e,null,n,r):ai(e,t.child,n,r)}function Yf(t,e,n,r,i){n=n.render;var o=e.ref;return Zr(e,i),r=Bc(t,e,n,r,o,i),n=Wc(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hn(t,e,i)):(we&&n&&Rc(e),e.flags|=1,rt(t,e,r,i),e.child)}function qf(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Jc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,fg(t,e,o,r,i)):(t=As(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:vo,n(s,r)&&t.ref===e.ref)return hn(t,e,i)}return e.flags|=1,t=Fn(o,r),t.ref=e.ref,t.return=e,e.child=t}function fg(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(vo(o,r)&&t.ref===e.ref)if(ut=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ut=!0);else return e.lanes=t.lanes,hn(t,e,i)}return Iu(t,e,n,r,i)}function hg(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Gr,vt),vt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(Gr,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,he(Gr,vt),vt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,he(Gr,vt),vt|=r;return rt(t,e,i,n),e.child}function pg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Iu(t,e,n,r,i){var o=ht(n)?fr:tt.current;return o=si(e,o),Zr(e,i),n=Bc(t,e,n,r,o,i),r=Wc(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hn(t,e,i)):(we&&r&&Rc(e),e.flags|=1,rt(t,e,n,i),e.child)}function Xf(t,e,n,r,i){if(ht(n)){var o=!0;Ks(e)}else o=!1;if(Zr(e,i),e.stateNode===null)Ls(t,e),ug(e,n,r),xu(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pt(u):(u=ht(n)?fr:tt.current,u=si(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Hf(e,s,r,u),Cn=!1;var f=e.memoizedState;s.state=f,Zs(e,r,s,i),a=e.memoizedState,l!==r||f!==a||ft.current||Cn?(typeof d=="function"&&(ku(e,n,d,r),a=e.memoizedState),(l=Cn||Vf(e,n,l,r,f,a,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Wm(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ot(e.type,l),s.props=u,c=e.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Pt(a):(a=ht(n)?fr:tt.current,a=si(e,a));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==c||f!==a)&&Hf(e,s,r,a),Cn=!1,f=e.memoizedState,s.state=f,Zs(e,r,s,i);var v=e.memoizedState;l!==c||f!==v||ft.current||Cn?(typeof p=="function"&&(ku(e,n,p,r),v=e.memoizedState),(u=Cn||Vf(e,n,u,r,f,v,a)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Nu(t,e,n,r,o,i)}function Nu(t,e,n,r,i,o){pg(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Ff(e,n,!1),hn(t,e,o);r=e.stateNode,nw.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ai(e,t.child,null,o),e.child=ai(e,null,l,o)):rt(t,e,l,o),e.memoizedState=r.state,i&&Ff(e,n,!0),e.child}function mg(t){var e=t.stateNode;e.pendingContext?Af(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Af(t,e.context,!1),bc(t,e.containerInfo)}function Jf(t,e,n,r,i){return li(),Dc(i),e.flags|=256,rt(t,e,n,r),e.child}var Ru={dehydrated:null,treeContext:null,retryLane:0};function Pu(t){return{baseLanes:t,cachePool:null,transitions:null}}function gg(t,e,n){var r=e.pendingProps,i=Ee.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),he(Ee,i&1),t===null)return Su(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ul(s,r,0,null),t=dr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Pu(n),e.memoizedState=Ru,t):Hc(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return rw(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Fn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Fn(l,o):(o=dr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Pu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ru,r}return o=t.child,t=o.sibling,r=Fn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hc(t,e){return e=Ul({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _s(t,e,n,r){return r!==null&&Dc(r),ai(e,t.child,null,n),t=Hc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rw(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ra(Error(N(422))),_s(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ul({mode:"visible",children:r.children},i,0,null),o=dr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ai(e,t.child,null,s),e.child.memoizedState=Pu(s),e.memoizedState=Ru,o);if(!(e.mode&1))return _s(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(N(419)),r=Ra(o,r,void 0),_s(t,e,s,r)}if(l=(s&t.childLanes)!==0,ut||l){if(r=Ve,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,fn(t,i),Wt(r,t,i,-1))}return Xc(),r=Ra(Error(N(421))),_s(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gw.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,wt=Ln(i.nextSibling),Et=e,we=!0,bt=null,t!==null&&(Tt[It++]=rn,Tt[It++]=on,Tt[It++]=hr,rn=t.id,on=t.overflow,hr=e),e=Hc(e,r.children),e.flags|=4096,e)}function Zf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cu(t.return,e,n)}function Pa(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _g(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(rt(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zf(t,n,e);else if(t.tag===19)Zf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(he(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&el(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pa(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&el(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pa(e,!0,n,null,o);break;case"together":Pa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ls(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Fn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iw(t,e,n){switch(e.tag){case 3:mg(e),li();break;case 5:$m(e);break;case 1:ht(e.type)&&Ks(e);break;case 4:bc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;he(Xs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(he(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?gg(t,e,n):(he(Ee,Ee.current&1),t=hn(t,e,n),t!==null?t.sibling:null);he(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _g(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,hg(t,e,n)}return hn(t,e,n)}var vg,Du,yg,wg;vg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Du=function(){};yg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,lr(Xt.current);var o=null;switch(n){case"input":i=Za(t,i),r=Za(t,r),o=[];break;case"select":i=Ce({},i,{value:void 0}),r=Ce({},r,{value:void 0}),o=[];break;case"textarea":i=nu(t,i),r=nu(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gs)}iu(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(co.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(co.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&me("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};wg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oi(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ow(t,e,n){var r=e.pendingProps;switch(Pc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return ht(e.type)&&Qs(),qe(e),null;case 3:return r=e.stateNode,ui(),_e(ft),_e(tt),zc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ms(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(zu(bt),bt=null))),Du(t,e),qe(e),null;case 5:jc(e);var i=lr(Co.current);if(n=e.type,t!==null&&e.stateNode!=null)yg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return qe(e),null}if(t=lr(Xt.current),ms(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Yt]=e,r[Eo]=o,t=(e.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<Ki.length;i++)me(Ki[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":af(r,o),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},me("invalid",r);break;case"textarea":cf(r,o),me("invalid",r)}iu(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&ps(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ps(r.textContent,l,t),i=["children",""+l]):co.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&me("scroll",r)}switch(n){case"input":ss(r),uf(r,o,!0);break;case"textarea":ss(r),df(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Gs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Yt]=e,t[Eo]=r,vg(t,e,!1,!1),e.stateNode=t;e:{switch(s=ou(n,r),n){case"dialog":me("cancel",t),me("close",t),i=r;break;case"iframe":case"object":case"embed":me("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ki.length;i++)me(Ki[i],t);i=r;break;case"source":me("error",t),i=r;break;case"img":case"image":case"link":me("error",t),me("load",t),i=r;break;case"details":me("toggle",t),i=r;break;case"input":af(t,r),i=Za(t,r),me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ce({},r,{value:void 0}),me("invalid",t);break;case"textarea":cf(t,r),i=nu(t,r),me("invalid",t);break;default:i=r}iu(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Xp(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Yp(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&fo(t,a):typeof a=="number"&&fo(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(co.hasOwnProperty(o)?a!=null&&o==="onScroll"&&me("scroll",t):a!=null&&mc(t,o,a,s))}switch(n){case"input":ss(t),uf(t,r,!1);break;case"textarea":ss(t),df(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Un(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Yr(t,!!r.multiple,o,!1):r.defaultValue!=null&&Yr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qe(e),null;case 6:if(t&&e.stateNode!=null)wg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=lr(Co.current),lr(Xt.current),ms(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yt]=e,(o=r.nodeValue!==n)&&(t=Et,t!==null))switch(t.tag){case 3:ps(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ps(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=e,e.stateNode=r}return qe(e),null;case 13:if(_e(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&wt!==null&&e.mode&1&&!(e.flags&128))jm(),li(),e.flags|=98560,o=!1;else if(o=ms(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(N(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(N(317));o[Yt]=e}else li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),o=!1}else bt!==null&&(zu(bt),bt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?je===0&&(je=3):Xc())),e.updateQueue!==null&&(e.flags|=4),qe(e),null);case 4:return ui(),Du(t,e),t===null&&yo(e.stateNode.containerInfo),qe(e),null;case 10:return Oc(e.type._context),qe(e),null;case 17:return ht(e.type)&&Qs(),qe(e),null;case 19:if(_e(Ee),o=e.memoizedState,o===null)return qe(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Oi(o,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=el(t),s!==null){for(e.flags|=128,Oi(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(Ee,Ee.current&1|2),e.child}t=t.sibling}o.tail!==null&&Pe()>di&&(e.flags|=128,r=!0,Oi(o,!1),e.lanes=4194304)}else{if(!r)if(t=el(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!we)return qe(e),null}else 2*Pe()-o.renderingStartTime>di&&n!==1073741824&&(e.flags|=128,r=!0,Oi(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Pe(),e.sibling=null,n=Ee.current,he(Ee,r?n&1|2:n&1),e):(qe(e),null);case 22:case 23:return qc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vt&1073741824&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function sw(t,e){switch(Pc(e),e.tag){case 1:return ht(e.type)&&Qs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ui(),_e(ft),_e(tt),zc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jc(e),null;case 13:if(_e(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Ee),null;case 4:return ui(),null;case 10:return Oc(e.type._context),null;case 22:case 23:return qc(),null;case 24:return null;default:return null}}var vs=!1,Je=!1,lw=typeof WeakSet=="function"?WeakSet:Set,O=null;function Hr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(t,e,r)}else n.current=null}function Lu(t,e,n){try{n()}catch(r){Ne(t,e,r)}}var eh=!1;function aw(t,e){if(mu=$s,t=xm(),Nc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,d=0,c=t,f=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(l=s+i),c!==o||r!==0&&c.nodeType!==3||(a=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(p=c.firstChild)!==null;)f=c,c=p;for(;;){if(c===t)break t;if(f===n&&++u===i&&(l=s),f===o&&++d===r&&(a=s),(p=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(gu={focusedElem:t,selectionRange:n},$s=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,g=e.stateNode,h=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ot(e.type,w),x);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(C){Ne(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return v=eh,eh=!1,v}function no(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Lu(e,n,o)}i=i.next}while(i!==r)}}function jl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Eg(t){var e=t.alternate;e!==null&&(t.alternate=null,Eg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yt],delete e[Eo],delete e[yu],delete e[V0],delete e[H0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sg(t){return t.tag===5||t.tag===3||t.tag===4}function th(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ou(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gs));else if(r!==4&&(t=t.child,t!==null))for(Ou(t,e,n),t=t.sibling;t!==null;)Ou(t,e,n),t=t.sibling}function Au(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Au(t,e,n),t=t.sibling;t!==null;)Au(t,e,n),t=t.sibling}var Ge=null,At=!1;function wn(t,e,n){for(n=n.child;n!==null;)Cg(t,e,n),n=n.sibling}function Cg(t,e,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Pl,n)}catch{}switch(n.tag){case 5:Je||Hr(n,e);case 6:var r=Ge,i=At;Ge=null,wn(t,e,n),Ge=r,At=i,Ge!==null&&(At?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(At?(t=Ge,n=n.stateNode,t.nodeType===8?Ca(t.parentNode,n):t.nodeType===1&&Ca(t,n),go(t)):Ca(Ge,n.stateNode));break;case 4:r=Ge,i=At,Ge=n.stateNode.containerInfo,At=!0,wn(t,e,n),Ge=r,At=i;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Lu(n,e,s),i=i.next}while(i!==r)}wn(t,e,n);break;case 1:if(!Je&&(Hr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ne(n,e,l)}wn(t,e,n);break;case 21:wn(t,e,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,wn(t,e,n),Je=r):wn(t,e,n);break;default:wn(t,e,n)}}function nh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lw),e.forEach(function(r){var i=_w.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ge=l.stateNode,At=!1;break e;case 3:Ge=l.stateNode.containerInfo,At=!0;break e;case 4:Ge=l.stateNode.containerInfo,At=!0;break e}l=l.return}if(Ge===null)throw Error(N(160));Cg(o,s,i),Ge=null,At=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ne(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kg(e,t),e=e.sibling}function kg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mt(e,t),Qt(t),r&4){try{no(3,t,t.return),jl(3,t)}catch(w){Ne(t,t.return,w)}try{no(5,t,t.return)}catch(w){Ne(t,t.return,w)}}break;case 1:Mt(e,t),Qt(t),r&512&&n!==null&&Hr(n,n.return);break;case 5:if(Mt(e,t),Qt(t),r&512&&n!==null&&Hr(n,n.return),t.flags&32){var i=t.stateNode;try{fo(i,"")}catch(w){Ne(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Gp(i,o),ou(l,s);var u=ou(l,o);for(s=0;s<a.length;s+=2){var d=a[s],c=a[s+1];d==="style"?Xp(i,c):d==="dangerouslySetInnerHTML"?Yp(i,c):d==="children"?fo(i,c):mc(i,d,c,u)}switch(l){case"input":eu(i,o);break;case"textarea":Qp(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Yr(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Yr(i,!!o.multiple,o.defaultValue,!0):Yr(i,!!o.multiple,o.multiple?[]:"",!1))}i[Eo]=o}catch(w){Ne(t,t.return,w)}}break;case 6:if(Mt(e,t),Qt(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){Ne(t,t.return,w)}}break;case 3:if(Mt(e,t),Qt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{go(e.containerInfo)}catch(w){Ne(t,t.return,w)}break;case 4:Mt(e,t),Qt(t);break;case 13:Mt(e,t),Qt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Kc=Pe())),r&4&&nh(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Je=(u=Je)||d,Mt(e,t),Je=u):Mt(e,t),Qt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(c=O=d;O!==null;){switch(f=O,p=f.child,f.tag){case 0:case 11:case 14:case 15:no(4,f,f.return);break;case 1:Hr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Ne(r,n,w)}}break;case 5:Hr(f,f.return);break;case 22:if(f.memoizedState!==null){ih(c);continue}}p!==null?(p.return=f,O=p):ih(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=c.stateNode,a=c.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=qp("display",s))}catch(w){Ne(t,t.return,w)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(w){Ne(t,t.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Mt(e,t),Qt(t),r&4&&nh(t);break;case 21:break;default:Mt(e,t),Qt(t)}}function Qt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Sg(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fo(i,""),r.flags&=-33);var o=th(t);Au(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=th(t);Ou(t,l,s);break;default:throw Error(N(161))}}catch(a){Ne(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uw(t,e,n){O=t,xg(t)}function xg(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||vs;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Je;l=vs;var u=Je;if(vs=s,(Je=a)&&!u)for(O=i;O!==null;)s=O,a=s.child,s.tag===22&&s.memoizedState!==null?oh(i):a!==null?(a.return=s,O=a):oh(i);for(;o!==null;)O=o,xg(o),o=o.sibling;O=i,vs=l,Je=u}rh(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,O=o):rh(t)}}function rh(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Je||jl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Je)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ot(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Bf(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bf(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&go(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Je||e.flags&512&&Mu(e)}catch(f){Ne(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function ih(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function oh(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jl(4,e)}catch(a){Ne(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Ne(e,i,a)}}var o=e.return;try{Mu(e)}catch(a){Ne(e,o,a)}break;case 5:var s=e.return;try{Mu(e)}catch(a){Ne(e,s,a)}}}catch(a){Ne(e,e.return,a)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var cw=Math.ceil,rl=gn.ReactCurrentDispatcher,Gc=gn.ReactCurrentOwner,Rt=gn.ReactCurrentBatchConfig,te=0,Ve=null,Oe=null,Qe=0,vt=0,Gr=Hn(0),je=0,Io=null,mr=0,zl=0,Qc=0,ro=null,at=null,Kc=0,di=1/0,tn=null,il=!1,Fu=null,On=null,ys=!1,In=null,ol=0,io=0,bu=null,Ms=-1,Os=0;function it(){return te&6?Pe():Ms!==-1?Ms:Ms=Pe()}function An(t){return t.mode&1?te&2&&Qe!==0?Qe&-Qe:Q0.transition!==null?(Os===0&&(Os=um()),Os):(t=se,t!==0||(t=window.event,t=t===void 0?16:gm(t.type)),t):1}function Wt(t,e,n,r){if(50<io)throw io=0,bu=null,Error(N(185));Uo(t,n,r),(!(te&2)||t!==Ve)&&(t===Ve&&(!(te&2)&&(zl|=n),je===4&&xn(t,Qe)),pt(t,r),n===1&&te===0&&!(e.mode&1)&&(di=Pe()+500,Al&&Gn()))}function pt(t,e){var n=t.callbackNode;Qy(t,e);var r=Ws(t,t===Ve?Qe:0);if(r===0)n!==null&&pf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pf(n),e===1)t.tag===0?G0(sh.bind(null,t)):Am(sh.bind(null,t)),W0(function(){!(te&6)&&Gn()}),n=null;else{switch(cm(r)){case 1:n=wc;break;case 4:n=lm;break;case 16:n=Bs;break;case 536870912:n=am;break;default:n=Bs}n=Mg(n,Tg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Tg(t,e){if(Ms=-1,Os=0,te&6)throw Error(N(327));var n=t.callbackNode;if(ei()&&t.callbackNode!==n)return null;var r=Ws(t,t===Ve?Qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sl(t,r);else{e=r;var i=te;te|=2;var o=Ng();(Ve!==t||Qe!==e)&&(tn=null,di=Pe()+500,cr(t,e));do try{hw();break}catch(l){Ig(t,l)}while(!0);Mc(),rl.current=o,te=i,Oe!==null?e=0:(Ve=null,Qe=0,e=je)}if(e!==0){if(e===2&&(i=cu(t),i!==0&&(r=i,e=ju(t,i))),e===1)throw n=Io,cr(t,0),xn(t,r),pt(t,Pe()),n;if(e===6)xn(t,r);else{if(i=t.current.alternate,!(r&30)&&!dw(i)&&(e=sl(t,r),e===2&&(o=cu(t),o!==0&&(r=o,e=ju(t,o))),e===1))throw n=Io,cr(t,0),xn(t,r),pt(t,Pe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:er(t,at,tn);break;case 3:if(xn(t,r),(r&130023424)===r&&(e=Kc+500-Pe(),10<e)){if(Ws(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){it(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vu(er.bind(null,t,at,tn),e);break}er(t,at,tn);break;case 4:if(xn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Bt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cw(r/1960))-r,10<r){t.timeoutHandle=vu(er.bind(null,t,at,tn),r);break}er(t,at,tn);break;case 5:er(t,at,tn);break;default:throw Error(N(329))}}}return pt(t,Pe()),t.callbackNode===n?Tg.bind(null,t):null}function ju(t,e){var n=ro;return t.current.memoizedState.isDehydrated&&(cr(t,e).flags|=256),t=sl(t,e),t!==2&&(e=at,at=n,e!==null&&zu(e)),t}function zu(t){at===null?at=t:at.push.apply(at,t)}function dw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Vt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xn(t,e){for(e&=~Qc,e&=~zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bt(e),r=1<<n;t[n]=-1,e&=~r}}function sh(t){if(te&6)throw Error(N(327));ei();var e=Ws(t,0);if(!(e&1))return pt(t,Pe()),null;var n=sl(t,e);if(t.tag!==0&&n===2){var r=cu(t);r!==0&&(e=r,n=ju(t,r))}if(n===1)throw n=Io,cr(t,0),xn(t,e),pt(t,Pe()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,er(t,at,tn),pt(t,Pe()),null}function Yc(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(di=Pe()+500,Al&&Gn())}}function gr(t){In!==null&&In.tag===0&&!(te&6)&&ei();var e=te;te|=1;var n=Rt.transition,r=se;try{if(Rt.transition=null,se=1,t)return t()}finally{se=r,Rt.transition=n,te=e,!(te&6)&&Gn()}}function qc(){vt=Gr.current,_e(Gr)}function cr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,B0(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(Pc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qs();break;case 3:ui(),_e(ft),_e(tt),zc();break;case 5:jc(r);break;case 4:ui();break;case 13:_e(Ee);break;case 19:_e(Ee);break;case 10:Oc(r.type._context);break;case 22:case 23:qc()}n=n.return}if(Ve=t,Oe=t=Fn(t.current,null),Qe=vt=e,je=0,Io=null,Qc=zl=mr=0,at=ro=null,sr!==null){for(e=0;e<sr.length;e++)if(n=sr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}sr=null}return t}function Ig(t,e){do{var n=Oe;try{if(Mc(),Ps.current=nl,tl){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tl=!1}if(pr=0,Be=Fe=Se=null,to=!1,ko=0,Gc.current=null,n===null||n.return===null){je=1,Io=e,Oe=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=Qe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Qf(s);if(p!==null){p.flags&=-257,Kf(p,s,l,o,e),p.mode&1&&Gf(o,u,e),e=p,a=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(a),e.updateQueue=w}else v.add(a);break e}else{if(!(e&1)){Gf(o,u,e),Xc();break e}a=Error(N(426))}}else if(we&&l.mode&1){var x=Qf(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Kf(x,s,l,o,e),Dc(ci(a,l));break e}}o=a=ci(a,l),je!==4&&(je=2),ro===null?ro=[o]:ro.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=cg(o,a,e);Uf(o,g);break e;case 1:l=a;var h=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(On===null||!On.has(m)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=dg(o,l,e);Uf(o,C);break e}}o=o.return}while(o!==null)}Pg(n)}catch(R){e=R,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function Ng(){var t=rl.current;return rl.current=nl,t===null?nl:t}function Xc(){(je===0||je===3||je===2)&&(je=4),Ve===null||!(mr&268435455)&&!(zl&268435455)||xn(Ve,Qe)}function sl(t,e){var n=te;te|=2;var r=Ng();(Ve!==t||Qe!==e)&&(tn=null,cr(t,e));do try{fw();break}catch(i){Ig(t,i)}while(!0);if(Mc(),te=n,rl.current=r,Oe!==null)throw Error(N(261));return Ve=null,Qe=0,je}function fw(){for(;Oe!==null;)Rg(Oe)}function hw(){for(;Oe!==null&&!jy();)Rg(Oe)}function Rg(t){var e=Lg(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?Pg(t):Oe=e,Gc.current=null}function Pg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sw(n,e),n!==null){n.flags&=32767,Oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{je=6,Oe=null;return}}else if(n=ow(n,e,vt),n!==null){Oe=n;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);je===0&&(je=5)}function er(t,e,n){var r=se,i=Rt.transition;try{Rt.transition=null,se=1,pw(t,e,n,r)}finally{Rt.transition=i,se=r}return null}function pw(t,e,n,r){do ei();while(In!==null);if(te&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ky(t,o),t===Ve&&(Oe=Ve=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ys||(ys=!0,Mg(Bs,function(){return ei(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Rt.transition,Rt.transition=null;var s=se;se=1;var l=te;te|=4,Gc.current=null,aw(t,n),kg(n,t),O0(gu),$s=!!mu,gu=mu=null,t.current=n,uw(n),zy(),te=l,se=s,Rt.transition=o}else t.current=n;if(ys&&(ys=!1,In=t,ol=i),o=t.pendingLanes,o===0&&(On=null),Wy(n.stateNode),pt(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(il)throw il=!1,t=Fu,Fu=null,t;return ol&1&&t.tag!==0&&ei(),o=t.pendingLanes,o&1?t===bu?io++:(io=0,bu=t):io=0,Gn(),null}function ei(){if(In!==null){var t=cm(ol),e=Rt.transition,n=se;try{if(Rt.transition=null,se=16>t?16:t,In===null)var r=!1;else{if(t=In,In=null,ol=0,te&6)throw Error(N(331));var i=te;for(te|=4,O=t.current;O!==null;){var o=O,s=o.child;if(O.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:no(8,d,o)}var c=d.child;if(c!==null)c.return=d,O=c;else for(;O!==null;){d=O;var f=d.sibling,p=d.return;if(Eg(d),d===u){O=null;break}if(f!==null){f.return=p,O=f;break}O=p}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}O=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,O=s;else e:for(;O!==null;){if(o=O,o.flags&2048)switch(o.tag){case 0:case 11:case 15:no(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,O=g;break e}O=o.return}}var h=t.current;for(O=h;O!==null;){s=O;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,O=m;else e:for(s=h;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jl(9,l)}}catch(R){Ne(l,l.return,R)}if(l===s){O=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,O=C;break e}O=l.return}}if(te=i,Gn(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Pl,t)}catch{}r=!0}return r}finally{se=n,Rt.transition=e}}return!1}function lh(t,e,n){e=ci(n,e),e=cg(t,e,1),t=Mn(t,e,1),e=it(),t!==null&&(Uo(t,1,e),pt(t,e))}function Ne(t,e,n){if(t.tag===3)lh(t,t,n);else for(;e!==null;){if(e.tag===3){lh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){t=ci(n,t),t=dg(e,t,1),e=Mn(e,t,1),t=it(),e!==null&&(Uo(e,1,t),pt(e,t));break}}e=e.return}}function mw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=it(),t.pingedLanes|=t.suspendedLanes&n,Ve===t&&(Qe&n)===n&&(je===4||je===3&&(Qe&130023424)===Qe&&500>Pe()-Kc?cr(t,0):Qc|=n),pt(t,e)}function Dg(t,e){e===0&&(t.mode&1?(e=us,us<<=1,!(us&130023424)&&(us=4194304)):e=1);var n=it();t=fn(t,e),t!==null&&(Uo(t,e,n),pt(t,n))}function gw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Dg(t,n)}function _w(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Dg(t,n)}var Lg;Lg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ut=!1,iw(t,e,n);ut=!!(t.flags&131072)}else ut=!1,we&&e.flags&1048576&&Fm(e,qs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ls(t,e),t=e.pendingProps;var i=si(e,tt.current);Zr(e,n),i=Bc(null,e,r,t,i,n);var o=Wc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ht(r)?(o=!0,Ks(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fc(e),i.updater=bl,e.stateNode=i,i._reactInternals=e,xu(e,r,t,n),e=Nu(null,e,r,!0,o,n)):(e.tag=0,we&&o&&Rc(e),rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ls(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yw(r),t=Ot(r,t),i){case 0:e=Iu(null,e,r,t,n);break e;case 1:e=Xf(null,e,r,t,n);break e;case 11:e=Yf(null,e,r,t,n);break e;case 14:e=qf(null,e,r,Ot(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ot(r,i),Iu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ot(r,i),Xf(t,e,r,i,n);case 3:e:{if(mg(e),t===null)throw Error(N(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Wm(t,e),Zs(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ci(Error(N(423)),e),e=Jf(t,e,r,n,i);break e}else if(r!==i){i=ci(Error(N(424)),e),e=Jf(t,e,r,n,i);break e}else for(wt=Ln(e.stateNode.containerInfo.firstChild),Et=e,we=!0,bt=null,n=Um(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(li(),r===i){e=hn(t,e,n);break e}rt(t,e,r,n)}e=e.child}return e;case 5:return $m(e),t===null&&Su(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,_u(r,i)?s=null:o!==null&&_u(r,o)&&(e.flags|=32),pg(t,e),rt(t,e,s,n),e.child;case 6:return t===null&&Su(e),null;case 13:return gg(t,e,n);case 4:return bc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ai(e,null,r,n):rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ot(r,i),Yf(t,e,r,i,n);case 7:return rt(t,e,e.pendingProps,n),e.child;case 8:return rt(t,e,e.pendingProps.children,n),e.child;case 12:return rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,he(Xs,r._currentValue),r._currentValue=s,o!==null)if(Vt(o.value,s)){if(o.children===i.children&&!ft.current){e=hn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=ln(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cu(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(N(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Cu(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zr(e,n),i=Pt(i),r=r(i),e.flags|=1,rt(t,e,r,n),e.child;case 14:return r=e.type,i=Ot(r,e.pendingProps),i=Ot(r.type,i),qf(t,e,r,i,n);case 15:return fg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ot(r,i),Ls(t,e),e.tag=1,ht(r)?(t=!0,Ks(e)):t=!1,Zr(e,n),ug(e,r,i),xu(e,r,i,n),Nu(null,e,r,!0,t,n);case 19:return _g(t,e,n);case 22:return hg(t,e,n)}throw Error(N(156,e.tag))};function Mg(t,e){return sm(t,e)}function vw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,e,n,r){return new vw(t,e,n,r)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yw(t){if(typeof t=="function")return Jc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_c)return 11;if(t===vc)return 14}return 2}function Fn(t,e){var n=t.alternate;return n===null?(n=Nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function As(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Jc(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Fr:return dr(n.children,i,o,e);case gc:s=8,i|=8;break;case Ya:return t=Nt(12,n,e,i|2),t.elementType=Ya,t.lanes=o,t;case qa:return t=Nt(13,n,e,i),t.elementType=qa,t.lanes=o,t;case Xa:return t=Nt(19,n,e,i),t.elementType=Xa,t.lanes=o,t;case $p:return Ul(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bp:s=10;break e;case Wp:s=9;break e;case _c:s=11;break e;case vc:s=14;break e;case Sn:s=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Nt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function dr(t,e,n,r){return t=Nt(7,t,r,e),t.lanes=n,t}function Ul(t,e,n,r){return t=Nt(22,t,r,e),t.elementType=$p,t.lanes=n,t.stateNode={isHidden:!1},t}function Da(t,e,n){return t=Nt(6,t,null,e),t.lanes=n,t}function La(t,e,n){return e=Nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ww(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fa(0),this.expirationTimes=fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zc(t,e,n,r,i,o,s,l,a){return t=new ww(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Nt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fc(o),t}function Ew(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Og(t){if(!t)return Bn;t=t._reactInternals;e:{if(Cr(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(ht(n))return Om(t,n,e)}return e}function Ag(t,e,n,r,i,o,s,l,a){return t=Zc(n,r,!0,t,i,o,s,l,a),t.context=Og(null),n=t.current,r=it(),i=An(n),o=ln(r,i),o.callback=e??null,Mn(n,o,i),t.current.lanes=i,Uo(t,i,r),pt(t,r),t}function Bl(t,e,n,r){var i=e.current,o=it(),s=An(i);return n=Og(n),e.context===null?e.context=n:e.pendingContext=n,e=ln(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mn(i,e,s),t!==null&&(Wt(t,i,s,o),Rs(t,i,s)),s}function ll(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ah(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ed(t,e){ah(t,e),(t=t.alternate)&&ah(t,e)}function Sw(){return null}var Fg=typeof reportError=="function"?reportError:function(t){console.error(t)};function td(t){this._internalRoot=t}Wl.prototype.render=td.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Bl(t,e,null,null)};Wl.prototype.unmount=td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gr(function(){Bl(null,t,null,null)}),e[dn]=null}};function Wl(t){this._internalRoot=t}Wl.prototype.unstable_scheduleHydration=function(t){if(t){var e=hm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kn.length&&e!==0&&e<kn[n].priority;n++);kn.splice(n,0,t),n===0&&mm(t)}};function nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uh(){}function Cw(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=ll(s);o.call(u)}}var s=Ag(e,r,t,0,null,!1,!1,"",uh);return t._reactRootContainer=s,t[dn]=s.current,yo(t.nodeType===8?t.parentNode:t),gr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=ll(a);l.call(u)}}var a=Zc(t,0,!1,null,null,!1,!1,"",uh);return t._reactRootContainer=a,t[dn]=a.current,yo(t.nodeType===8?t.parentNode:t),gr(function(){Bl(e,a,n,r)}),a}function Vl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=ll(s);l.call(a)}}Bl(e,s,t,i)}else s=Cw(n,e,t,i,r);return ll(s)}dm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qi(e.pendingLanes);n!==0&&(Ec(e,n|1),pt(e,Pe()),!(te&6)&&(di=Pe()+500,Gn()))}break;case 13:gr(function(){var r=fn(t,1);if(r!==null){var i=it();Wt(r,t,1,i)}}),ed(t,1)}};Sc=function(t){if(t.tag===13){var e=fn(t,134217728);if(e!==null){var n=it();Wt(e,t,134217728,n)}ed(t,134217728)}};fm=function(t){if(t.tag===13){var e=An(t),n=fn(t,e);if(n!==null){var r=it();Wt(n,t,e,r)}ed(t,e)}};hm=function(){return se};pm=function(t,e){var n=se;try{return se=t,e()}finally{se=n}};lu=function(t,e,n){switch(e){case"input":if(eu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ol(r);if(!i)throw Error(N(90));Hp(r),eu(r,i)}}}break;case"textarea":Qp(t,n);break;case"select":e=n.value,e!=null&&Yr(t,!!n.multiple,e,!1)}};em=Yc;tm=gr;var kw={usingClientEntryPoint:!1,Events:[Wo,Ur,Ol,Jp,Zp,Yc]},Ai={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xw={bundleType:Ai.bundleType,version:Ai.version,rendererPackageName:Ai.rendererPackageName,rendererConfig:Ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=im(t),t===null?null:t.stateNode},findFiberByHostInstance:Ai.findFiberByHostInstance||Sw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{Pl=ws.inject(xw),qt=ws}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kw;kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nd(e))throw Error(N(200));return Ew(t,e,null,n)};kt.createRoot=function(t,e){if(!nd(t))throw Error(N(299));var n=!1,r="",i=Fg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zc(t,1,!1,null,null,n,!1,r,i),t[dn]=e.current,yo(t.nodeType===8?t.parentNode:t),new td(e)};kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=im(e),t=t===null?null:t.stateNode,t};kt.flushSync=function(t){return gr(t)};kt.hydrate=function(t,e,n){if(!$l(e))throw Error(N(200));return Vl(null,t,e,!0,n)};kt.hydrateRoot=function(t,e,n){if(!nd(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Fg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Ag(e,null,t,1,n??null,i,!1,o,s),t[dn]=e.current,yo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wl(e)};kt.render=function(t,e,n){if(!$l(e))throw Error(N(200));return Vl(null,t,e,!1,n)};kt.unmountComponentAtNode=function(t){if(!$l(t))throw Error(N(40));return t._reactRootContainer?(gr(function(){Vl(null,null,t,!1,function(){t._reactRootContainer=null,t[dn]=null})}),!0):!1};kt.unstable_batchedUpdates=Yc;kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$l(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Vl(t,e,n,!1,r)};kt.version="18.3.1-next-f1338f8080-20240426";function bg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bg)}catch(t){console.error(t)}}bg(),bp.exports=kt;var rd=bp.exports;const Tw=xp(rd),Iw=kp({__proto__:null,default:Tw},[rd]);var jg,ch=rd;jg=ch.createRoot,ch.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ye.apply(this,arguments)}var Me;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Me||(Me={}));const dh="popstate";function Nw(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return No("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_r(i)}return Pw(e,n,null,t)}function J(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rw(){return Math.random().toString(36).substr(2,8)}function fh(t,e){return{usr:t.state,key:t.key,idx:e}}function No(t,e,n,r){return n===void 0&&(n=null),ye({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qn(e):e,{state:n,key:e&&e.key||r||Rw()})}function _r(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Pw(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Me.Pop,a=null,u=d();u==null&&(u=0,s.replaceState(ye({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function c(){l=Me.Pop;let x=d(),g=x==null?null:x-u;u=x,a&&a({action:l,location:w.location,delta:g})}function f(x,g){l=Me.Push;let h=No(w.location,x,g);u=d()+1;let m=fh(h,u),C=w.createHref(h);try{s.pushState(m,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(C)}o&&a&&a({action:l,location:w.location,delta:1})}function p(x,g){l=Me.Replace;let h=No(w.location,x,g);u=d();let m=fh(h,u),C=w.createHref(h);s.replaceState(m,"",C),o&&a&&a({action:l,location:w.location,delta:0})}function v(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof x=="string"?x:_r(x);return h=h.replace(/ $/,"%20"),J(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let w={get action(){return l},get location(){return t(i,s)},listen(x){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(dh,c),a=x,()=>{i.removeEventListener(dh,c),a=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return s.go(x)}};return w}var ae;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ae||(ae={}));const Dw=new Set(["lazy","caseSensitive","path","id","index","children"]);function Lw(t){return t.index===!0}function al(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],l=typeof i.id=="string"?i.id:s.join("-");if(J(i.index!==!0||!i.children,"Cannot specify children on an index route"),J(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Lw(i)){let a=ye({},i,e(i),{id:l});return r[l]=a,a}else{let a=ye({},i,e(i),{id:l,children:void 0});return r[l]=a,i.children&&(a.children=al(i.children,e,s,r)),a}})}function rr(t,e,n){return n===void 0&&(n="/"),Fs(t,e,n,!1)}function Fs(t,e,n,r){let i=typeof e=="string"?Qn(e):e,o=wi(i.pathname||"/",n);if(o==null)return null;let s=zg(t);Ow(s);let l=null;for(let a=0;l==null&&a<s.length;++a){let u=Hw(o);l=$w(s[a],u,r)}return l}function Mw(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function zg(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(J(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=an([r,a.relativePath]),d=n.concat(a);o.children&&o.children.length>0&&(J(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zg(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Bw(u,o.index),routesMeta:d})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of Ug(o.path))i(o,s,a)}),e}function Ug(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Ug(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function Ow(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ww(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Aw=/^:[\w-]+$/,Fw=3,bw=2,jw=1,zw=10,Uw=-2,hh=t=>t==="*";function Bw(t,e){let n=t.split("/"),r=n.length;return n.some(hh)&&(r+=Uw),e&&(r+=bw),n.filter(i=>!hh(i)).reduce((i,o)=>i+(Aw.test(o)?Fw:o===""?jw:zw),r)}function Ww(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $w(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",c=ph({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),f=a.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=ph({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:an([o,c.pathname]),pathnameBase:Kw(an([o,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(o=an([o,c.pathnameBase]))}return s}function ph(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Vw(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,c)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let w=l[c]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[c];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Vw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Hw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Gw(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qn(t):t;return{pathname:n?n.startsWith("/")?n:Qw(n,e):e,search:Yw(r),hash:qw(i)}}function Qw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ma(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function id(t,e){let n=Bg(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function od(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Qn(t):(i=ye({},t),J(!i.pathname||!i.pathname.includes("?"),Ma("?","pathname","search",i)),J(!i.pathname||!i.pathname.includes("#"),Ma("#","pathname","hash",i)),J(!i.search||!i.search.includes("#"),Ma("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let c=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}l=c>=0?e[c]:"/"}let a=Gw(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}const an=t=>t.join("/").replace(/\/\/+/g,"/"),Kw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Yw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ul{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Hl(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Wg=["post","put","patch","delete"],Xw=new Set(Wg),Jw=["get",...Wg],Zw=new Set(Jw),eE=new Set([301,302,303,307,308]),tE=new Set([307,308]),Oa={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fi={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},sd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rE=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),$g="remix-router-transitions";function iE(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;J(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let _=t.detectErrorBoundary;i=E=>({hasErrorBoundary:_(E)})}else i=rE;let o={},s=al(t.routes,i,void 0,o),l,a=t.basename||"/",u=t.dataStrategy||aE,d=t.patchRoutesOnNavigation,c=ye({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,v=null,w=null,x=null,g=t.hydrationData!=null,h=rr(s,t.history.location,a),m=null;if(h==null&&!d){let _=lt(404,{pathname:t.history.location.pathname}),{matches:E,route:S}=xh(s);h=E,m={[S.id]:_}}h&&!t.hydrationData&&es(h,s,t.history.location.pathname).active&&(h=null);let C;if(h)if(h.some(_=>_.route.lazy))C=!1;else if(!h.some(_=>_.route.loader))C=!0;else if(c.v7_partialHydration){let _=t.hydrationData?t.hydrationData.loaderData:null,E=t.hydrationData?t.hydrationData.errors:null;if(E){let S=h.findIndex(T=>E[T.route.id]!==void 0);C=h.slice(0,S+1).every(T=>!Bu(T.route,_,E))}else C=h.every(S=>!Bu(S.route,_,E))}else C=t.hydrationData!=null;else if(C=!1,h=[],c.v7_partialHydration){let _=es(null,s,t.history.location.pathname);_.active&&_.matches&&(h=_.matches)}let R,y={historyAction:t.history.action,location:t.history.location,matches:h,initialized:C,navigation:Oa,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||m,fetchers:new Map,blockers:new Map},L=Me.Pop,I=!1,b,j=!1,oe=new Map,pe=null,ke=!1,xe=!1,ze=[],Ht=new Set,ve=new Map,M=0,V=-1,B=new Map,Z=new Set,le=new Map,gt=new Map,De=new Set,_t=new Map,Ae=new Map,Lt;function Fv(){if(f=t.history.listen(_=>{let{action:E,location:S,delta:T}=_;if(Lt){Lt(),Lt=void 0;return}fi(Ae.size===0||T!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let A=Xd({currentLocation:y.location,nextLocation:S,historyAction:E});if(A&&T!=null){let W=new Promise(G=>{Lt=G});t.history.go(T*-1),Zo(A,{state:"blocked",location:S,proceed(){Zo(A,{state:"proceeding",proceed:void 0,reset:void 0,location:S}),W.then(()=>t.history.go(T))},reset(){let G=new Map(y.blockers);G.set(A,Fi),nt({blockers:G})}});return}return qn(E,S)}),n){SE(e,oe);let _=()=>CE(e,oe);e.addEventListener("pagehide",_),pe=()=>e.removeEventListener("pagehide",_)}return y.initialized||qn(Me.Pop,y.location,{initialHydration:!0}),R}function bv(){f&&f(),pe&&pe(),p.clear(),b&&b.abort(),y.fetchers.forEach((_,E)=>Jo(E)),y.blockers.forEach((_,E)=>qd(E))}function jv(_){return p.add(_),()=>p.delete(_)}function nt(_,E){E===void 0&&(E={}),y=ye({},y,_);let S=[],T=[];c.v7_fetcherPersist&&y.fetchers.forEach((A,W)=>{A.state==="idle"&&(De.has(W)?T.push(W):S.push(W))}),[...p].forEach(A=>A(y,{deletedFetchers:T,viewTransitionOpts:E.viewTransitionOpts,flushSync:E.flushSync===!0})),c.v7_fetcherPersist&&(S.forEach(A=>y.fetchers.delete(A)),T.forEach(A=>Jo(A)))}function Ir(_,E,S){var T,A;let{flushSync:W}=S===void 0?{}:S,G=y.actionData!=null&&y.navigation.formMethod!=null&&Ft(y.navigation.formMethod)&&y.navigation.state==="loading"&&((T=_.state)==null?void 0:T._isRedirect)!==!0,z;E.actionData?Object.keys(E.actionData).length>0?z=E.actionData:z=null:G?z=y.actionData:z=null;let U=E.loaderData?Ch(y.loaderData,E.loaderData,E.matches||[],E.errors):y.loaderData,F=y.blockers;F.size>0&&(F=new Map(F),F.forEach((ee,He)=>F.set(He,Fi)));let $=I===!0||y.navigation.formMethod!=null&&Ft(y.navigation.formMethod)&&((A=_.state)==null?void 0:A._isRedirect)!==!0;l&&(s=l,l=void 0),ke||L===Me.Pop||(L===Me.Push?t.history.push(_,_.state):L===Me.Replace&&t.history.replace(_,_.state));let X;if(L===Me.Pop){let ee=oe.get(y.location.pathname);ee&&ee.has(_.pathname)?X={currentLocation:y.location,nextLocation:_}:oe.has(_.pathname)&&(X={currentLocation:_,nextLocation:y.location})}else if(j){let ee=oe.get(y.location.pathname);ee?ee.add(_.pathname):(ee=new Set([_.pathname]),oe.set(y.location.pathname,ee)),X={currentLocation:y.location,nextLocation:_}}nt(ye({},E,{actionData:z,loaderData:U,historyAction:L,location:_,initialized:!0,navigation:Oa,revalidation:"idle",restoreScrollPosition:Zd(_,E.matches||y.matches),preventScrollReset:$,blockers:F}),{viewTransitionOpts:X,flushSync:W===!0}),L=Me.Pop,I=!1,j=!1,ke=!1,xe=!1,ze=[]}async function $d(_,E){if(typeof _=="number"){t.history.go(_);return}let S=Uu(y.location,y.matches,a,c.v7_prependBasename,_,c.v7_relativeSplatPath,E==null?void 0:E.fromRouteId,E==null?void 0:E.relative),{path:T,submission:A,error:W}=mh(c.v7_normalizeFormMethod,!1,S,E),G=y.location,z=No(y.location,T,E&&E.state);z=ye({},z,t.history.encodeLocation(z));let U=E&&E.replace!=null?E.replace:void 0,F=Me.Push;U===!0?F=Me.Replace:U===!1||A!=null&&Ft(A.formMethod)&&A.formAction===y.location.pathname+y.location.search&&(F=Me.Replace);let $=E&&"preventScrollReset"in E?E.preventScrollReset===!0:void 0,X=(E&&E.flushSync)===!0,ee=Xd({currentLocation:G,nextLocation:z,historyAction:F});if(ee){Zo(ee,{state:"blocked",location:z,proceed(){Zo(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),$d(_,E)},reset(){let He=new Map(y.blockers);He.set(ee,Fi),nt({blockers:He})}});return}return await qn(F,z,{submission:A,pendingError:W,preventScrollReset:$,replace:E&&E.replace,enableViewTransition:E&&E.viewTransition,flushSync:X})}function zv(){if(ra(),nt({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){qn(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}qn(L||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation,enableViewTransition:j===!0})}}async function qn(_,E,S){b&&b.abort(),b=null,L=_,ke=(S&&S.startUninterruptedRevalidation)===!0,Yv(y.location,y.matches),I=(S&&S.preventScrollReset)===!0,j=(S&&S.enableViewTransition)===!0;let T=l||s,A=S&&S.overrideNavigation,W=rr(T,E,a),G=(S&&S.flushSync)===!0,z=es(W,T,E.pathname);if(z.active&&z.matches&&(W=z.matches),!W){let{error:ce,notFoundMatches:re,route:Te}=ia(E.pathname);Ir(E,{matches:re,loaderData:{},errors:{[Te.id]:ce}},{flushSync:G});return}if(y.initialized&&!xe&&pE(y.location,E)&&!(S&&S.submission&&Ft(S.submission.formMethod))){Ir(E,{matches:W},{flushSync:G});return}b=new AbortController;let U=Lr(t.history,E,b.signal,S&&S.submission),F;if(S&&S.pendingError)F=[ir(W).route.id,{type:ae.error,error:S.pendingError}];else if(S&&S.submission&&Ft(S.submission.formMethod)){let ce=await Uv(U,E,S.submission,W,z.active,{replace:S.replace,flushSync:G});if(ce.shortCircuited)return;if(ce.pendingActionResult){let[re,Te]=ce.pendingActionResult;if(yt(Te)&&Hl(Te.error)&&Te.error.status===404){b=null,Ir(E,{matches:ce.matches,loaderData:{},errors:{[re]:Te.error}});return}}W=ce.matches||W,F=ce.pendingActionResult,A=Aa(E,S.submission),G=!1,z.active=!1,U=Lr(t.history,U.url,U.signal)}let{shortCircuited:$,matches:X,loaderData:ee,errors:He}=await Bv(U,E,W,z.active,A,S&&S.submission,S&&S.fetcherSubmission,S&&S.replace,S&&S.initialHydration===!0,G,F);$||(b=null,Ir(E,ye({matches:X||W},kh(F),{loaderData:ee,errors:He})))}async function Uv(_,E,S,T,A,W){W===void 0&&(W={}),ra();let G=wE(E,S);if(nt({navigation:G},{flushSync:W.flushSync===!0}),A){let F=await ts(T,E.pathname,_.signal);if(F.type==="aborted")return{shortCircuited:!0};if(F.type==="error"){let $=ir(F.partialMatches).route.id;return{matches:F.partialMatches,pendingActionResult:[$,{type:ae.error,error:F.error}]}}else if(F.matches)T=F.matches;else{let{notFoundMatches:$,error:X,route:ee}=ia(E.pathname);return{matches:$,pendingActionResult:[ee.id,{type:ae.error,error:X}]}}}let z,U=Yi(T,E);if(!U.route.action&&!U.route.lazy)z={type:ae.error,error:lt(405,{method:_.method,pathname:E.pathname,routeId:U.route.id})};else if(z=(await ki("action",y,_,[U],T,null))[U.route.id],_.signal.aborted)return{shortCircuited:!0};if(ar(z)){let F;return W&&W.replace!=null?F=W.replace:F=wh(z.response.headers.get("Location"),new URL(_.url),a)===y.location.pathname+y.location.search,await Xn(_,z,!0,{submission:S,replace:F}),{shortCircuited:!0}}if(Nn(z))throw lt(400,{type:"defer-action"});if(yt(z)){let F=ir(T,U.route.id);return(W&&W.replace)!==!0&&(L=Me.Push),{matches:T,pendingActionResult:[F.route.id,z]}}return{matches:T,pendingActionResult:[U.route.id,z]}}async function Bv(_,E,S,T,A,W,G,z,U,F,$){let X=A||Aa(E,W),ee=W||G||Ih(X),He=!ke&&(!c.v7_partialHydration||!U);if(T){if(He){let Ie=Vd($);nt(ye({navigation:X},Ie!==void 0?{actionData:Ie}:{}),{flushSync:F})}let ne=await ts(S,E.pathname,_.signal);if(ne.type==="aborted")return{shortCircuited:!0};if(ne.type==="error"){let Ie=ir(ne.partialMatches).route.id;return{matches:ne.partialMatches,loaderData:{},errors:{[Ie]:ne.error}}}else if(ne.matches)S=ne.matches;else{let{error:Ie,notFoundMatches:Rr,route:Ii}=ia(E.pathname);return{matches:Rr,loaderData:{},errors:{[Ii.id]:Ie}}}}let ce=l||s,[re,Te]=_h(t.history,y,S,ee,E,c.v7_partialHydration&&U===!0,c.v7_skipActionErrorRevalidation,xe,ze,Ht,De,le,Z,ce,a,$);if(oa(ne=>!(S&&S.some(Ie=>Ie.route.id===ne))||re&&re.some(Ie=>Ie.route.id===ne)),V=++M,re.length===0&&Te.length===0){let ne=Kd();return Ir(E,ye({matches:S,loaderData:{},errors:$&&yt($[1])?{[$[0]]:$[1].error}:null},kh($),ne?{fetchers:new Map(y.fetchers)}:{}),{flushSync:F}),{shortCircuited:!0}}if(He){let ne={};if(!T){ne.navigation=X;let Ie=Vd($);Ie!==void 0&&(ne.actionData=Ie)}Te.length>0&&(ne.fetchers=Wv(Te)),nt(ne,{flushSync:F})}Te.forEach(ne=>{yn(ne.key),ne.controller&&ve.set(ne.key,ne.controller)});let Nr=()=>Te.forEach(ne=>yn(ne.key));b&&b.signal.addEventListener("abort",Nr);let{loaderResults:xi,fetcherResults:Zt}=await Hd(y,S,re,Te,_);if(_.signal.aborted)return{shortCircuited:!0};b&&b.signal.removeEventListener("abort",Nr),Te.forEach(ne=>ve.delete(ne.key));let Gt=Es(xi);if(Gt)return await Xn(_,Gt.result,!0,{replace:z}),{shortCircuited:!0};if(Gt=Es(Zt),Gt)return Z.add(Gt.key),await Xn(_,Gt.result,!0,{replace:z}),{shortCircuited:!0};let{loaderData:sa,errors:Ti}=Sh(y,S,xi,$,Te,Zt,_t);_t.forEach((ne,Ie)=>{ne.subscribe(Rr=>{(Rr||ne.done)&&_t.delete(Ie)})}),c.v7_partialHydration&&U&&y.errors&&(Ti=ye({},y.errors,Ti));let Jn=Kd(),ns=Yd(V),rs=Jn||ns||Te.length>0;return ye({matches:S,loaderData:sa,errors:Ti},rs?{fetchers:new Map(y.fetchers)}:{})}function Vd(_){if(_&&!yt(_[1]))return{[_[0]]:_[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function Wv(_){return _.forEach(E=>{let S=y.fetchers.get(E.key),T=bi(void 0,S?S.data:void 0);y.fetchers.set(E.key,T)}),new Map(y.fetchers)}function $v(_,E,S,T){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");yn(_);let A=(T&&T.flushSync)===!0,W=l||s,G=Uu(y.location,y.matches,a,c.v7_prependBasename,S,c.v7_relativeSplatPath,E,T==null?void 0:T.relative),z=rr(W,G,a),U=es(z,W,G);if(U.active&&U.matches&&(z=U.matches),!z){Jt(_,E,lt(404,{pathname:G}),{flushSync:A});return}let{path:F,submission:$,error:X}=mh(c.v7_normalizeFormMethod,!0,G,T);if(X){Jt(_,E,X,{flushSync:A});return}let ee=Yi(z,F),He=(T&&T.preventScrollReset)===!0;if($&&Ft($.formMethod)){Vv(_,E,F,ee,z,U.active,A,He,$);return}le.set(_,{routeId:E,path:F}),Hv(_,E,F,ee,z,U.active,A,He,$)}async function Vv(_,E,S,T,A,W,G,z,U){ra(),le.delete(_);function F(Le){if(!Le.route.action&&!Le.route.lazy){let Pr=lt(405,{method:U.formMethod,pathname:S,routeId:E});return Jt(_,E,Pr,{flushSync:G}),!0}return!1}if(!W&&F(T))return;let $=y.fetchers.get(_);vn(_,EE(U,$),{flushSync:G});let X=new AbortController,ee=Lr(t.history,S,X.signal,U);if(W){let Le=await ts(A,S,ee.signal);if(Le.type==="aborted")return;if(Le.type==="error"){Jt(_,E,Le.error,{flushSync:G});return}else if(Le.matches){if(A=Le.matches,T=Yi(A,S),F(T))return}else{Jt(_,E,lt(404,{pathname:S}),{flushSync:G});return}}ve.set(_,X);let He=M,re=(await ki("action",y,ee,[T],A,_))[T.route.id];if(ee.signal.aborted){ve.get(_)===X&&ve.delete(_);return}if(c.v7_fetcherPersist&&De.has(_)){if(ar(re)||yt(re)){vn(_,En(void 0));return}}else{if(ar(re))if(ve.delete(_),V>He){vn(_,En(void 0));return}else return Z.add(_),vn(_,bi(U)),Xn(ee,re,!1,{fetcherSubmission:U,preventScrollReset:z});if(yt(re)){Jt(_,E,re.error);return}}if(Nn(re))throw lt(400,{type:"defer-action"});let Te=y.navigation.location||y.location,Nr=Lr(t.history,Te,X.signal),xi=l||s,Zt=y.navigation.state!=="idle"?rr(xi,y.navigation.location,a):y.matches;J(Zt,"Didn't find any matches after fetcher action");let Gt=++M;B.set(_,Gt);let sa=bi(U,re.data);y.fetchers.set(_,sa);let[Ti,Jn]=_h(t.history,y,Zt,U,Te,!1,c.v7_skipActionErrorRevalidation,xe,ze,Ht,De,le,Z,xi,a,[T.route.id,re]);Jn.filter(Le=>Le.key!==_).forEach(Le=>{let Pr=Le.key,ef=y.fetchers.get(Pr),Jv=bi(void 0,ef?ef.data:void 0);y.fetchers.set(Pr,Jv),yn(Pr),Le.controller&&ve.set(Pr,Le.controller)}),nt({fetchers:new Map(y.fetchers)});let ns=()=>Jn.forEach(Le=>yn(Le.key));X.signal.addEventListener("abort",ns);let{loaderResults:rs,fetcherResults:ne}=await Hd(y,Zt,Ti,Jn,Nr);if(X.signal.aborted)return;X.signal.removeEventListener("abort",ns),B.delete(_),ve.delete(_),Jn.forEach(Le=>ve.delete(Le.key));let Ie=Es(rs);if(Ie)return Xn(Nr,Ie.result,!1,{preventScrollReset:z});if(Ie=Es(ne),Ie)return Z.add(Ie.key),Xn(Nr,Ie.result,!1,{preventScrollReset:z});let{loaderData:Rr,errors:Ii}=Sh(y,Zt,rs,void 0,Jn,ne,_t);if(y.fetchers.has(_)){let Le=En(re.data);y.fetchers.set(_,Le)}Yd(Gt),y.navigation.state==="loading"&&Gt>V?(J(L,"Expected pending action"),b&&b.abort(),Ir(y.navigation.location,{matches:Zt,loaderData:Rr,errors:Ii,fetchers:new Map(y.fetchers)})):(nt({errors:Ii,loaderData:Ch(y.loaderData,Rr,Zt,Ii),fetchers:new Map(y.fetchers)}),xe=!1)}async function Hv(_,E,S,T,A,W,G,z,U){let F=y.fetchers.get(_);vn(_,bi(U,F?F.data:void 0),{flushSync:G});let $=new AbortController,X=Lr(t.history,S,$.signal);if(W){let re=await ts(A,S,X.signal);if(re.type==="aborted")return;if(re.type==="error"){Jt(_,E,re.error,{flushSync:G});return}else if(re.matches)A=re.matches,T=Yi(A,S);else{Jt(_,E,lt(404,{pathname:S}),{flushSync:G});return}}ve.set(_,$);let ee=M,ce=(await ki("loader",y,X,[T],A,_))[T.route.id];if(Nn(ce)&&(ce=await ld(ce,X.signal,!0)||ce),ve.get(_)===$&&ve.delete(_),!X.signal.aborted){if(De.has(_)){vn(_,En(void 0));return}if(ar(ce))if(V>ee){vn(_,En(void 0));return}else{Z.add(_),await Xn(X,ce,!1,{preventScrollReset:z});return}if(yt(ce)){Jt(_,E,ce.error);return}J(!Nn(ce),"Unhandled fetcher deferred data"),vn(_,En(ce.data))}}async function Xn(_,E,S,T){let{submission:A,fetcherSubmission:W,preventScrollReset:G,replace:z}=T===void 0?{}:T;E.response.headers.has("X-Remix-Revalidate")&&(xe=!0);let U=E.response.headers.get("Location");J(U,"Expected a Location header on the redirect Response"),U=wh(U,new URL(_.url),a);let F=No(y.location,U,{_isRedirect:!0});if(n){let re=!1;if(E.response.headers.has("X-Remix-Reload-Document"))re=!0;else if(sd.test(U)){const Te=t.history.createURL(U);re=Te.origin!==e.location.origin||wi(Te.pathname,a)==null}if(re){z?e.location.replace(U):e.location.assign(U);return}}b=null;let $=z===!0||E.response.headers.has("X-Remix-Replace")?Me.Replace:Me.Push,{formMethod:X,formAction:ee,formEncType:He}=y.navigation;!A&&!W&&X&&ee&&He&&(A=Ih(y.navigation));let ce=A||W;if(tE.has(E.response.status)&&ce&&Ft(ce.formMethod))await qn($,F,{submission:ye({},ce,{formAction:U}),preventScrollReset:G||I,enableViewTransition:S?j:void 0});else{let re=Aa(F,A);await qn($,F,{overrideNavigation:re,fetcherSubmission:W,preventScrollReset:G||I,enableViewTransition:S?j:void 0})}}async function ki(_,E,S,T,A,W){let G,z={};try{G=await uE(u,_,E,S,T,A,W,o,i)}catch(U){return T.forEach(F=>{z[F.route.id]={type:ae.error,error:U}}),z}for(let[U,F]of Object.entries(G))if(mE(F)){let $=F.result;z[U]={type:ae.redirect,response:fE($,S,U,A,a,c.v7_relativeSplatPath)}}else z[U]=await dE(F);return z}async function Hd(_,E,S,T,A){let W=_.matches,G=ki("loader",_,A,S,E,null),z=Promise.all(T.map(async $=>{if($.matches&&$.match&&$.controller){let ee=(await ki("loader",_,Lr(t.history,$.path,$.controller.signal),[$.match],$.matches,$.key))[$.match.route.id];return{[$.key]:ee}}else return Promise.resolve({[$.key]:{type:ae.error,error:lt(404,{pathname:$.path})}})})),U=await G,F=(await z).reduce(($,X)=>Object.assign($,X),{});return await Promise.all([vE(E,U,A.signal,W,_.loaderData),yE(E,F,T)]),{loaderResults:U,fetcherResults:F}}function ra(){xe=!0,ze.push(...oa()),le.forEach((_,E)=>{ve.has(E)&&Ht.add(E),yn(E)})}function vn(_,E,S){S===void 0&&(S={}),y.fetchers.set(_,E),nt({fetchers:new Map(y.fetchers)},{flushSync:(S&&S.flushSync)===!0})}function Jt(_,E,S,T){T===void 0&&(T={});let A=ir(y.matches,E);Jo(_),nt({errors:{[A.route.id]:S},fetchers:new Map(y.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function Gd(_){return c.v7_fetcherPersist&&(gt.set(_,(gt.get(_)||0)+1),De.has(_)&&De.delete(_)),y.fetchers.get(_)||nE}function Jo(_){let E=y.fetchers.get(_);ve.has(_)&&!(E&&E.state==="loading"&&B.has(_))&&yn(_),le.delete(_),B.delete(_),Z.delete(_),De.delete(_),Ht.delete(_),y.fetchers.delete(_)}function Gv(_){if(c.v7_fetcherPersist){let E=(gt.get(_)||0)-1;E<=0?(gt.delete(_),De.add(_)):gt.set(_,E)}else Jo(_);nt({fetchers:new Map(y.fetchers)})}function yn(_){let E=ve.get(_);E&&(E.abort(),ve.delete(_))}function Qd(_){for(let E of _){let S=Gd(E),T=En(S.data);y.fetchers.set(E,T)}}function Kd(){let _=[],E=!1;for(let S of Z){let T=y.fetchers.get(S);J(T,"Expected fetcher: "+S),T.state==="loading"&&(Z.delete(S),_.push(S),E=!0)}return Qd(_),E}function Yd(_){let E=[];for(let[S,T]of B)if(T<_){let A=y.fetchers.get(S);J(A,"Expected fetcher: "+S),A.state==="loading"&&(yn(S),B.delete(S),E.push(S))}return Qd(E),E.length>0}function Qv(_,E){let S=y.blockers.get(_)||Fi;return Ae.get(_)!==E&&Ae.set(_,E),S}function qd(_){y.blockers.delete(_),Ae.delete(_)}function Zo(_,E){let S=y.blockers.get(_)||Fi;J(S.state==="unblocked"&&E.state==="blocked"||S.state==="blocked"&&E.state==="blocked"||S.state==="blocked"&&E.state==="proceeding"||S.state==="blocked"&&E.state==="unblocked"||S.state==="proceeding"&&E.state==="unblocked","Invalid blocker state transition: "+S.state+" -> "+E.state);let T=new Map(y.blockers);T.set(_,E),nt({blockers:T})}function Xd(_){let{currentLocation:E,nextLocation:S,historyAction:T}=_;if(Ae.size===0)return;Ae.size>1&&fi(!1,"A router only supports one blocker at a time");let A=Array.from(Ae.entries()),[W,G]=A[A.length-1],z=y.blockers.get(W);if(!(z&&z.state==="proceeding")&&G({currentLocation:E,nextLocation:S,historyAction:T}))return W}function ia(_){let E=lt(404,{pathname:_}),S=l||s,{matches:T,route:A}=xh(S);return oa(),{notFoundMatches:T,route:A,error:E}}function oa(_){let E=[];return _t.forEach((S,T)=>{(!_||_(T))&&(S.cancel(),E.push(T),_t.delete(T))}),E}function Kv(_,E,S){if(v=_,x=E,w=S||null,!g&&y.navigation===Oa){g=!0;let T=Zd(y.location,y.matches);T!=null&&nt({restoreScrollPosition:T})}return()=>{v=null,x=null,w=null}}function Jd(_,E){return w&&w(_,E.map(T=>Mw(T,y.loaderData)))||_.key}function Yv(_,E){if(v&&x){let S=Jd(_,E);v[S]=x()}}function Zd(_,E){if(v){let S=Jd(_,E),T=v[S];if(typeof T=="number")return T}return null}function es(_,E,S){if(d)if(_){if(Object.keys(_[0].params).length>0)return{active:!0,matches:Fs(E,S,a,!0)}}else return{active:!0,matches:Fs(E,S,a,!0)||[]};return{active:!1,matches:null}}async function ts(_,E,S){if(!d)return{type:"success",matches:_};let T=_;for(;;){let A=l==null,W=l||s,G=o;try{await d({path:E,matches:T,patch:(F,$)=>{S.aborted||yh(F,$,W,G,i)}})}catch(F){return{type:"error",error:F,partialMatches:T}}finally{A&&!S.aborted&&(s=[...s])}if(S.aborted)return{type:"aborted"};let z=rr(W,E,a);if(z)return{type:"success",matches:z};let U=Fs(W,E,a,!0);if(!U||T.length===U.length&&T.every((F,$)=>F.route.id===U[$].route.id))return{type:"success",matches:null};T=U}}function qv(_){o={},l=al(_,i,void 0,o)}function Xv(_,E){let S=l==null;yh(_,E,l||s,o,i),S&&(s=[...s],nt({}))}return R={get basename(){return a},get future(){return c},get state(){return y},get routes(){return s},get window(){return e},initialize:Fv,subscribe:jv,enableScrollRestoration:Kv,navigate:$d,fetch:$v,revalidate:zv,createHref:_=>t.history.createHref(_),encodeLocation:_=>t.history.encodeLocation(_),getFetcher:Gd,deleteFetcher:Gv,dispose:bv,getBlocker:Qv,deleteBlocker:qd,patchRoutes:Xv,_internalFetchControllers:ve,_internalActiveDeferreds:_t,_internalSetRoutes:qv},R}function oE(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Uu(t,e,n,r,i,o,s,l){let a,u;if(s){a=[];for(let c of e)if(a.push(c),c.route.id===s){u=c;break}}else a=e,u=e[e.length-1];let d=od(i||".",id(a,o),wi(t.pathname,n)||t.pathname,l==="path");if(i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&u){let c=ad(d.search);if(u.route.index&&!c)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&c){let f=new URLSearchParams(d.search),p=f.getAll("index");f.delete("index"),p.filter(w=>w).forEach(w=>f.append("index",w));let v=f.toString();d.search=v?"?"+v:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:an([n,d.pathname])),_r(d)}function mh(t,e,n,r){if(!r||!oE(r))return{path:n};if(r.formMethod&&!_E(r.formMethod))return{path:n,error:lt(405,{method:r.formMethod})};let i=()=>({path:n,error:lt(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),l=Gg(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ft(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,v)=>{let[w,x]=v;return""+p+w+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Ft(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}J(typeof FormData=="function","FormData is not available in this environment");let a,u;if(r.formData)a=Wu(r.formData),u=r.formData;else if(r.body instanceof FormData)a=Wu(r.body),u=r.body;else if(r.body instanceof URLSearchParams)a=r.body,u=Eh(a);else if(r.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(r.body),u=Eh(a)}catch{return i()}let d={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Ft(d.formMethod))return{path:n,submission:d};let c=Qn(n);return e&&c.search&&ad(c.search)&&a.append("index",""),c.search="?"+a,{path:_r(c),submission:d}}function gh(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function _h(t,e,n,r,i,o,s,l,a,u,d,c,f,p,v,w){let x=w?yt(w[1])?w[1].error:w[1].data:void 0,g=t.createURL(e.location),h=t.createURL(i),m=n;o&&e.errors?m=gh(n,Object.keys(e.errors)[0],!0):w&&yt(w[1])&&(m=gh(n,w[0]));let C=w?w[1].statusCode:void 0,R=s&&C&&C>=400,y=m.filter((I,b)=>{let{route:j}=I;if(j.lazy)return!0;if(j.loader==null)return!1;if(o)return Bu(j,e.loaderData,e.errors);if(sE(e.loaderData,e.matches[b],I)||a.some(ke=>ke===I.route.id))return!0;let oe=e.matches[b],pe=I;return vh(I,ye({currentUrl:g,currentParams:oe.params,nextUrl:h,nextParams:pe.params},r,{actionResult:x,actionStatus:C,defaultShouldRevalidate:R?!1:l||g.pathname+g.search===h.pathname+h.search||g.search!==h.search||Vg(oe,pe)}))}),L=[];return c.forEach((I,b)=>{if(o||!n.some(xe=>xe.route.id===I.routeId)||d.has(b))return;let j=rr(p,I.path,v);if(!j){L.push({key:b,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let oe=e.fetchers.get(b),pe=Yi(j,I.path),ke=!1;f.has(b)?ke=!1:u.has(b)?(u.delete(b),ke=!0):oe&&oe.state!=="idle"&&oe.data===void 0?ke=l:ke=vh(pe,ye({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:h,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:C,defaultShouldRevalidate:R?!1:l})),ke&&L.push({key:b,routeId:I.routeId,path:I.path,matches:j,match:pe,controller:new AbortController})}),[y,L]}function Bu(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function sE(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Vg(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function vh(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function yh(t,e,n,r,i){var o;let s;if(t){let u=r[t];J(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),s=u.children}else s=n;let l=e.filter(u=>!s.some(d=>Hg(u,d))),a=al(l,i,[t||"_","patch",String(((o=s)==null?void 0:o.length)||"0")],r);s.push(...a)}function Hg(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>Hg(n,o))}):!1}async function lE(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];J(i,"No route found in manifest");let o={};for(let s in r){let a=i[s]!==void 0&&s!=="hasErrorBoundary";fi(!a,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!a&&!Dw.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,ye({},e(i),{lazy:void 0}))}async function aE(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function uE(t,e,n,r,i,o,s,l,a,u){let d=o.map(p=>p.route.lazy?lE(p.route,a,l):void 0),c=o.map((p,v)=>{let w=d[v],x=i.some(h=>h.route.id===p.route.id);return ye({},p,{shouldLoad:x,resolve:async h=>(h&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(x=!0),x?cE(e,r,p,w,h,u):Promise.resolve({type:ae.data,result:void 0}))})}),f=await t({matches:c,request:r,params:o[0].params,fetcherKey:s,context:u});try{await Promise.all(d)}catch{}return f}async function cE(t,e,n,r,i,o){let s,l,a=u=>{let d,c=new Promise((v,w)=>d=w);l=()=>d(),e.signal.addEventListener("abort",l);let f=v=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:o},...v!==void 0?[v]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(w=>f(w)):f())}}catch(v){return{type:"error",result:v}}})();return Promise.race([p,c])};try{let u=n.route[t];if(r)if(u){let d,[c]=await Promise.all([a(u).catch(f=>{d=f}),r]);if(d!==void 0)throw d;s=c}else if(await r,u=n.route[t],u)s=await a(u);else if(t==="action"){let d=new URL(e.url),c=d.pathname+d.search;throw lt(405,{method:e.method,pathname:c,routeId:n.route.id})}else return{type:ae.data,result:void 0};else if(u)s=await a(u);else{let d=new URL(e.url),c=d.pathname+d.search;throw lt(404,{pathname:c})}J(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:ae.error,result:u}}finally{l&&e.signal.removeEventListener("abort",l)}return s}async function dE(t){let{result:e,type:n}=t;if(Qg(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:ae.error,error:d}}return n===ae.error?{type:ae.error,error:new ul(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:ae.data,data:u,statusCode:e.status,headers:e.headers}}if(n===ae.error){if(Th(e)){var r;if(e.data instanceof Error){var i;return{type:ae.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new ul(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:ae.error,error:e,statusCode:Hl(e)?e.status:void 0}}if(gE(e)){var o,s;return{type:ae.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}if(Th(e)){var l,a;return{type:ae.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:ae.data,data:e}}function fE(t,e,n,r,i,o){let s=t.headers.get("Location");if(J(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!sd.test(s)){let l=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=Uu(new URL(e.url),l,i,!0,s,o),t.headers.set("Location",s)}return t}function wh(t,e,n){if(sd.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=wi(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Lr(t,e,n,r){let i=t.createURL(Gg(e)).toString(),o={signal:n};if(r&&Ft(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=Wu(r.formData):o.body=r.formData}return new Request(i,o)}function Wu(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Eh(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function hE(t,e,n,r,i){let o={},s=null,l,a=!1,u={},d=n&&yt(n[1])?n[1].error:void 0;return t.forEach(c=>{if(!(c.route.id in e))return;let f=c.route.id,p=e[f];if(J(!ar(p),"Cannot handle redirect results in processLoaderData"),yt(p)){let v=p.error;d!==void 0&&(v=d,d=void 0),s=s||{};{let w=ir(t,f);s[w.route.id]==null&&(s[w.route.id]=v)}o[f]=void 0,a||(a=!0,l=Hl(p.error)?p.error.status:500),p.headers&&(u[f]=p.headers)}else Nn(p)?(r.set(f,p.deferredData),o[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!a&&(l=p.statusCode),p.headers&&(u[f]=p.headers)):(o[f]=p.data,p.statusCode&&p.statusCode!==200&&!a&&(l=p.statusCode),p.headers&&(u[f]=p.headers))}),d!==void 0&&n&&(s={[n[0]]:d},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:u}}function Sh(t,e,n,r,i,o,s){let{loaderData:l,errors:a}=hE(e,n,r,s);return i.forEach(u=>{let{key:d,match:c,controller:f}=u,p=o[d];if(J(p,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(yt(p)){let v=ir(t.matches,c==null?void 0:c.route.id);a&&a[v.route.id]||(a=ye({},a,{[v.route.id]:p.error})),t.fetchers.delete(d)}else if(ar(p))J(!1,"Unhandled fetcher revalidation redirect");else if(Nn(p))J(!1,"Unhandled fetcher deferred data");else{let v=En(p.data);t.fetchers.set(d,v)}}),{loaderData:l,errors:a}}function Ch(t,e,n,r){let i=ye({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function kh(t){return t?yt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ir(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function xh(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function lt(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,l="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(l="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",a='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new ul(t||500,l,new Error(a),!0)}function Es(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ar(i))return{key:r,result:i}}}function Gg(t){let e=typeof t=="string"?Qn(t):t;return _r(ye({},e,{hash:""}))}function pE(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function mE(t){return Qg(t.result)&&eE.has(t.result.status)}function Nn(t){return t.type===ae.deferred}function yt(t){return t.type===ae.error}function ar(t){return(t&&t.type)===ae.redirect}function Th(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function gE(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Qg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function _E(t){return Zw.has(t.toLowerCase())}function Ft(t){return Xw.has(t.toLowerCase())}async function vE(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[l,a]=o[s],u=t.find(f=>(f==null?void 0:f.route.id)===l);if(!u)continue;let d=r.find(f=>f.route.id===u.route.id),c=d!=null&&!Vg(d,u)&&(i&&i[u.route.id])!==void 0;Nn(a)&&c&&await ld(a,n,!1).then(f=>{f&&(e[l]=f)})}}async function yE(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],l=e[i];t.find(u=>(u==null?void 0:u.route.id)===o)&&Nn(l)&&(J(s,"Expected an AbortController for revalidating fetcher deferred result"),await ld(l,s.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function ld(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:ae.data,data:t.deferredData.unwrappedData}}catch(i){return{type:ae.error,error:i}}return{type:ae.data,data:t.deferredData.data}}}function ad(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Yi(t,e){let n=typeof e=="string"?Qn(e).search:e.search;if(t[t.length-1].route.index&&ad(n||""))return t[t.length-1];let r=Bg(t);return r[r.length-1]}function Ih(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Aa(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function wE(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function bi(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function EE(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function En(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function SE(t,e){try{let n=t.sessionStorage.getItem($g);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function CE(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem($g,JSON.stringify(n))}catch(r){fi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}const Gl=k.createContext(null),Kg=k.createContext(null),kr=k.createContext(null),ud=k.createContext(null),Kn=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Yg=k.createContext(null);function kE(t,e){let{relative:n}=e===void 0?{}:e;Vo()||J(!1);let{basename:r,navigator:i}=k.useContext(kr),{hash:o,pathname:s,search:l}=Xg(t,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:an([r,s])),i.createHref({pathname:a,search:l,hash:o})}function Vo(){return k.useContext(ud)!=null}function Ql(){return Vo()||J(!1),k.useContext(ud).location}function qg(t){k.useContext(kr).static||k.useLayoutEffect(t)}function xE(){let{isDataRoute:t}=k.useContext(Kn);return t?jE():TE()}function TE(){Vo()||J(!1);let t=k.useContext(Gl),{basename:e,future:n,navigator:r}=k.useContext(kr),{matches:i}=k.useContext(Kn),{pathname:o}=Ql(),s=JSON.stringify(id(i,n.v7_relativeSplatPath)),l=k.useRef(!1);return qg(()=>{l.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let c=od(u,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:an([e,c.pathname])),(d.replace?r.replace:r.push)(c,d.state,d)},[e,r,s,o,t])}function IE(){let{matches:t}=k.useContext(Kn),e=t[t.length-1];return e?e.params:{}}function Xg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(kr),{matches:i}=k.useContext(Kn),{pathname:o}=Ql(),s=JSON.stringify(id(i,r.v7_relativeSplatPath));return k.useMemo(()=>od(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function NE(t,e,n,r){Vo()||J(!1);let{navigator:i}=k.useContext(kr),{matches:o}=k.useContext(Kn),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Ql(),d;d=u;let c=d.pathname||"/",f=c;if(a!=="/"){let w=a.replace(/^\//,"").split("/");f="/"+c.replace(/^\//,"").split("/").slice(w.length).join("/")}let p=rr(t,{pathname:f});return ME(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:an([a,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:an([a,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r)}function RE(){let t=bE(),e=Hl(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const PE=k.createElement(RE,null);class DE extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(Kn.Provider,{value:this.props.routeContext},k.createElement(Yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LE(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(Gl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Kn.Provider,{value:e},r)}function ME(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=s.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id])!==void 0);d>=0||J(!1),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let c=s[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:f,errors:p}=n,v=c.route.loader&&f[c.route.id]===void 0&&(!p||p[c.route.id]===void 0);if(c.route.lazy||v){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,c,f)=>{let p,v=!1,w=null,x=null;n&&(p=l&&c.route.id?l[c.route.id]:void 0,w=c.route.errorElement||PE,a&&(u<0&&f===0?(v=!0,x=null):u===f&&(v=!0,x=c.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,f+1)),h=()=>{let m;return p?m=w:v?m=x:c.route.Component?m=k.createElement(c.route.Component,null):c.route.element?m=c.route.element:m=d,k.createElement(LE,{match:c,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:m})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?k.createElement(DE,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var Jg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Jg||{}),dl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dl||{});function OE(t){let e=k.useContext(Gl);return e||J(!1),e}function AE(t){let e=k.useContext(Kg);return e||J(!1),e}function FE(t){let e=k.useContext(Kn);return e||J(!1),e}function Zg(t){let e=FE(),n=e.matches[e.matches.length-1];return n.route.id||J(!1),n.route.id}function bE(){var t;let e=k.useContext(Yg),n=AE(dl.UseRouteError),r=Zg(dl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function jE(){let{router:t}=OE(Jg.UseNavigateStable),e=Zg(dl.UseNavigateStable),n=k.useRef(!1);return qg(()=>{n.current=!0}),k.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,cl({fromRouteId:e},o)))},[t,e])}function zE(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Me.Pop,navigator:o,static:s=!1,future:l}=t;Vo()&&J(!1);let a=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:a,navigator:o,static:s,future:cl({v7_relativeSplatPath:!1},l)}),[a,l,o,s]);typeof r=="string"&&(r=Qn(r));let{pathname:d="/",search:c="",hash:f="",state:p=null,key:v="default"}=r,w=k.useMemo(()=>{let x=wi(d,a);return x==null?null:{location:{pathname:x,search:c,hash:f,state:p,key:v},navigationType:i}},[a,d,c,f,p,v,i]);return w==null?null:k.createElement(kr.Provider,{value:u},k.createElement(ud.Provider,{children:n,value:w}))}new Promise(()=>{});function UE(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:k.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ro(){return Ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ro.apply(this,arguments)}function BE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $E(t,e){return t.button===0&&(!e||e==="_self")&&!WE(t)}const VE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HE="6";try{window.__reactRouterVersion=HE}catch{}function GE(t,e){return iE({basename:void 0,future:Ro({},void 0,{v7_prependBasename:!0}),history:Nw({window:void 0}),hydrationData:QE(),routes:t,mapRouteProperties:UE,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function QE(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ro({},e,{errors:KE(e.errors)})),e}function KE(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new ul(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const YE=k.createContext({isTransitioning:!1}),qE=k.createContext(new Map),XE="startTransition",Nh=my[XE],JE="flushSync",Rh=Iw[JE];function ZE(t){Nh?Nh(t):t()}function ji(t){Rh?Rh(t):t()}let e1=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function t1(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=k.useState(n.state),[s,l]=k.useState(),[a,u]=k.useState({isTransitioning:!1}),[d,c]=k.useState(),[f,p]=k.useState(),[v,w]=k.useState(),x=k.useRef(new Map),{v7_startTransition:g}=r||{},h=k.useCallback(I=>{g?ZE(I):I()},[g]),m=k.useCallback((I,b)=>{let{deletedFetchers:j,flushSync:oe,viewTransitionOpts:pe}=b;j.forEach(xe=>x.current.delete(xe)),I.fetchers.forEach((xe,ze)=>{xe.data!==void 0&&x.current.set(ze,xe.data)});let ke=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!pe||ke){oe?ji(()=>o(I)):h(()=>o(I));return}if(oe){ji(()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation})});let xe=n.window.document.startViewTransition(()=>{ji(()=>o(I))});xe.finished.finally(()=>{ji(()=>{c(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})}),ji(()=>p(xe));return}f?(d&&d.resolve(),f.skipTransition(),w({state:I,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation})):(l(I),u({isTransitioning:!0,flushSync:!1,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation}))},[n.window,f,d,x,h]);k.useLayoutEffect(()=>n.subscribe(m),[n,m]),k.useEffect(()=>{a.isTransitioning&&!a.flushSync&&c(new e1)},[a]),k.useEffect(()=>{if(d&&s&&n.window){let I=s,b=d.promise,j=n.window.document.startViewTransition(async()=>{h(()=>o(I)),await b});j.finished.finally(()=>{c(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}),p(j)}},[h,s,d,n.window]),k.useEffect(()=>{d&&s&&i.location.key===s.location.key&&d.resolve()},[d,f,i.location,s]),k.useEffect(()=>{!a.isTransitioning&&v&&(l(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),w(void 0))},[a.isTransitioning,v]),k.useEffect(()=>{},[]);let C=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:I=>n.navigate(I),push:(I,b,j)=>n.navigate(I,{state:b,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(I,b,j)=>n.navigate(I,{replace:!0,state:b,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),R=n.basename||"/",y=k.useMemo(()=>({router:n,navigator:C,static:!1,basename:R}),[n,C,R]),L=k.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return k.createElement(k.Fragment,null,k.createElement(Gl.Provider,{value:y},k.createElement(Kg.Provider,{value:i},k.createElement(qE.Provider,{value:x.current},k.createElement(YE.Provider,{value:a},k.createElement(zE,{basename:R,location:i.location,navigationType:i.historyAction,navigator:C,future:L},i.initialized||n.future.v7_partialHydration?k.createElement(n1,{routes:n.routes,future:n.future,state:i}):e))))),null)}const n1=k.memo(r1);function r1(t){let{routes:e,future:n,state:r}=t;return NE(e,void 0,r,n)}const i1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cd=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:a,to:u,preventScrollReset:d,viewTransition:c}=e,f=BE(e,VE),{basename:p}=k.useContext(kr),v,w=!1;if(typeof u=="string"&&o1.test(u)&&(v=u,i1))try{let m=new URL(window.location.href),C=u.startsWith("//")?new URL(m.protocol+u):new URL(u),R=wi(C.pathname,p);C.origin===m.origin&&R!=null?u=R+C.search+C.hash:w=!0}catch{}let x=kE(u,{relative:i}),g=s1(u,{replace:s,state:l,target:a,preventScrollReset:d,relative:i,viewTransition:c});function h(m){r&&r(m),m.defaultPrevented||g(m)}return k.createElement("a",Ro({},f,{href:v||x,onClick:w||o?r:h,ref:n,target:a}))});var Ph;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ph||(Ph={}));var Dh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Dh||(Dh={}));function s1(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:l}=e===void 0?{}:e,a=xE(),u=Ql(),d=Xg(t,{relative:s});return k.useCallback(c=>{if($E(c,n)){c.preventDefault();let f=r!==void 0?r:_r(u)===_r(d);a(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:l})}},[u,a,d,r,i,n,t,o,s,l])}const l1="_sectionCard__content_knxsh_3",a1="_oops_knxsh_15",Fa={sectionCard__content:l1,oops:a1},u1="_container_nwyzm_1",c1={container:u1},e_=({children:t})=>P.jsx("div",{className:c1.container,children:t}),d1="_card_csfyj_1",f1="_card__info_csfyj_8",h1="_card__descr_csfyj_28",p1="_card__name_csfyj_36",m1="_card__img_csfyj_40",zi={card:d1,card__info:f1,card__descr:h1,card__name:p1,card__img:m1},g1=({kinopoiskId:t,posterUrlPreview:e,index:n,nameRu:r,originalName:i,nominatedYear:o,filmLength:s,description:l})=>P.jsx(P.Fragment,{children:P.jsxs("article",{className:zi.card,children:[P.jsx("img",{className:zi.card__img,src:e,alt:i}),P.jsx(cd,{to:`/oscarShortAnimation/film/${t}`,children:P.jsxs("div",{className:zi.card__info,children:[P.jsxs("p",{className:zi.card__name,children:[r," (",o,")"]}),P.jsx("p",{className:zi.card__descr,children:l}),P.jsxs("p",{children:["Длительность - ",s]})]})})]},n)}),_1="_wrapper_tfk8j_1",v1="_buttons_tfk8j_8",y1="_form_tfk8j_13",w1="_input_tfk8j_17",E1="_button_tfk8j_8",S1="_logo_tfk8j_38",Mr={wrapper:_1,buttons:v1,form:y1,input:w1,button:E1,logo:S1},C1="/oscarShortAnimation/oscars.svg",k1=({value:t,onChange:e,onSubmit:n,randomID:r,q:i,winners:o,all:s})=>P.jsxs("div",{className:Mr.wrapper,children:[P.jsx("img",{src:C1,alt:"logo",className:Mr.logo}),P.jsx("div",{className:Mr.buttons,children:P.jsx(cd,{to:`/oscarShortAnimation/film/${r}`,children:P.jsxs("button",{className:Mr.button,children:["Любой из ",i," мультов"]})})}),P.jsx("form",{className:Mr.form,action:"",onSubmit:n,children:P.jsx("input",{className:Mr.input,type:"text",onChange:e,value:t,placeholder:"Поиск по названию / году"})})]}),x1="_timer_17yz5_1",T1={timer:x1},I1=({onEnd:t})=>{const[e,n]=k.useState(""),r=()=>{const i=new Date,o=(2-i.getDay()+13)%7,l=new Date(i.getFullYear(),i.getMonth(),i.getDate()+o,18,59,59)-i;if(l<=0)return null;const a=Math.floor(l/(1e3*60*60*24)),u=Math.floor(l/(1e3*60*60)%24),d=Math.floor(l/(1e3*60)%60),c=Math.floor(l/1e3%60);return{days:a,hours:u,minutes:d,seconds:c}};return k.useEffect(()=>{const i=setInterval(()=>{const o=r();o?n(o):(clearInterval(i),t())},1e3);return()=>clearInterval(i)},[t]),P.jsx("div",{className:T1.timer,children:e?P.jsxs("p",{children:["До публикации новой порции короткометражек: ",e.days,"д ",e.hours,"ч ",e.minutes,"м ",e.seconds,"с"]}):P.jsx("p",{children:"Загрузка..."})})};var Lh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw Ei(e)},Ei=function(t){return new Error("Firebase Database ("+t_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},N1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],a=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,d=o>>2,c=(o&3)<<4|l>>4;let f=(l&15)<<2|u>>6,p=u&63;a||(p=64,s||(f=64)),r.push(n[d],n[c],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||u==null||c==null)throw new R1;const f=o<<2|l>>4;if(r.push(f),u!==64){const p=l<<4&240|u>>2;if(r.push(p),c!==64){const v=u<<6&192|c;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r_=function(t){const e=n_(t);return dd.encodeByteArray(e,!0)},fl=function(t){return r_(t).replace(/\./g,"")},$u=function(t){try{return dd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t){return i_(void 0,t)}function i_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!D1(n)||(t[n]=i_(t[n],e[n]));return t}function D1(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=()=>L1().__FIREBASE_DEFAULTS__,O1=()=>{if(typeof process>"u"||typeof Lh>"u")return;const t=Lh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},A1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$u(t[1]);return e&&JSON.parse(e)},o_=()=>{try{return M1()||O1()||A1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},F1=t=>{var e,n;return(n=(e=o_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},b1=t=>{const e=F1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},s_=()=>{var t;return(t=o_())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fl(JSON.stringify(n)),fl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(z1())}function U1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a_(){return t_.NODE_ADMIN===!0}function B1(){try{return typeof indexedDB=="object"}catch{return!1}}function W1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="FirebaseError";class Ho extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$1,Object.setPrototypeOf(this,Ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u_.prototype.create)}}class u_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?V1(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Ho(i,l,r)}}function V1(t,e){return t.replace(H1,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const H1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){return JSON.parse(t)}function $e(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Po($u(o[0])||""),n=Po($u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},G1=function(t){const e=c_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Q1=function(t){const e=c_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Mh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Vu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Oh(o)&&Oh(s)){if(!Vu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Oh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const f=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=l^o&(s^l),d=1518500249):(u=o^s^l,d=1859775393):c<60?(u=o&s|l&(o|s),d=2400959708):(u=o^s^l,d=3395469782);const f=(i<<5|i>>>27)+u+a+d+r[c]&4294967295;a=l,l=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function d_(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Kl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){return t&&t._delegate?t._delegate:t}class Do{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z1(e))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tr){return this.instances.has(e)}getOptions(e=tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tr){return this.component?this.component.multipleInstances?e:tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J1(t){return t===tr?void 0:t}function Z1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const tS={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},nS=de.INFO,rS={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},iS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rS[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f_{constructor(e){this.name=e,this._logLevel=nS,this._logHandler=iS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const oS=(t,e)=>e.some(n=>t instanceof n);let Ah,Fh;function sS(){return Ah||(Ah=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return Fh||(Fh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h_=new WeakMap,Hu=new WeakMap,p_=new WeakMap,ba=new WeakMap,hd=new WeakMap;function aS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(bn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&h_.set(n,t)}).catch(()=>{}),hd.set(e,t),e}function uS(t){if(Hu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Hu.set(t,e)}let Gu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cS(t){Gu=t(Gu)}function dS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ja(this),e,...n);return p_.set(r,e.sort?e.sort():[e]),bn(r)}:lS().includes(t)?function(...e){return t.apply(ja(this),e),bn(h_.get(this))}:function(...e){return bn(t.apply(ja(this),e))}}function fS(t){return typeof t=="function"?dS(t):(t instanceof IDBTransaction&&uS(t),oS(t,sS())?new Proxy(t,Gu):t)}function bn(t){if(t instanceof IDBRequest)return aS(t);if(ba.has(t))return ba.get(t);const e=fS(t);return e!==t&&(ba.set(t,e),hd.set(e,t)),e}const ja=t=>hd.get(t);function hS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=bn(s);return r&&s.addEventListener("upgradeneeded",a=>{r(bn(s.result),a.oldVersion,a.newVersion,bn(s.transaction),a)}),n&&s.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{o&&a.addEventListener("close",()=>o()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const pS=["get","getKey","getAll","getAllKeys","count"],mS=["put","add","delete","clear"],za=new Map;function bh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(za.get(e))return za.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pS.includes(n)))return;const o=async function(s,...l){const a=this.transaction(s,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return za.set(e,o),o}cS(t=>({...t,get:(e,n,r)=>bh(e,n)||t.get(e,n,r),has:(e,n)=>!!bh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_S(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _S(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qu="@firebase/app",jh="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn=new f_("@firebase/app"),vS="@firebase/app-compat",yS="@firebase/analytics-compat",wS="@firebase/analytics",ES="@firebase/app-check-compat",SS="@firebase/app-check",CS="@firebase/auth",kS="@firebase/auth-compat",xS="@firebase/database",TS="@firebase/data-connect",IS="@firebase/database-compat",NS="@firebase/functions",RS="@firebase/functions-compat",PS="@firebase/installations",DS="@firebase/installations-compat",LS="@firebase/messaging",MS="@firebase/messaging-compat",OS="@firebase/performance",AS="@firebase/performance-compat",FS="@firebase/remote-config",bS="@firebase/remote-config-compat",jS="@firebase/storage",zS="@firebase/storage-compat",US="@firebase/firestore",BS="@firebase/vertexai",WS="@firebase/firestore-compat",$S="firebase",VS="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="[DEFAULT]",HS={[Qu]:"fire-core",[vS]:"fire-core-compat",[wS]:"fire-analytics",[yS]:"fire-analytics-compat",[SS]:"fire-app-check",[ES]:"fire-app-check-compat",[CS]:"fire-auth",[kS]:"fire-auth-compat",[xS]:"fire-rtdb",[TS]:"fire-data-connect",[IS]:"fire-rtdb-compat",[NS]:"fire-fn",[RS]:"fire-fn-compat",[PS]:"fire-iid",[DS]:"fire-iid-compat",[LS]:"fire-fcm",[MS]:"fire-fcm-compat",[OS]:"fire-perf",[AS]:"fire-perf-compat",[FS]:"fire-rc",[bS]:"fire-rc-compat",[jS]:"fire-gcs",[zS]:"fire-gcs-compat",[US]:"fire-fst",[WS]:"fire-fst-compat",[BS]:"fire-vertex","fire-js":"fire-js",[$S]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new Map,GS=new Map,Yu=new Map;function zh(t,e){try{t.container.addComponent(e)}catch(n){pn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ml(t){const e=t.name;if(Yu.has(e))return pn.debug(`There were multiple attempts to register component ${e}.`),!1;Yu.set(e,t);for(const n of pl.values())zh(n,t);for(const n of GS.values())zh(n,t);return!0}function QS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jn=new u_("app","Firebase",KS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Do("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=VS;function m_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ku,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jn.create("bad-app-name",{appName:String(i)});if(n||(n=s_()),!n)throw jn.create("no-options");const o=pl.get(i);if(o){if(Vu(n,o.options)&&Vu(r,o.config))return o;throw jn.create("duplicate-app",{appName:i})}const s=new eS(i);for(const a of Yu.values())s.addComponent(a);const l=new YS(n,r,s);return pl.set(i,l),l}function XS(t=Ku){const e=pl.get(t);if(!e&&t===Ku&&s_())return m_();if(!e)throw jn.create("no-app",{appName:t});return e}function ti(t,e,n){var r;let i=(r=HS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pn.warn(l.join(" "));return}ml(new Do(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebase-heartbeat-database",ZS=1,Lo="firebase-heartbeat-store";let Ua=null;function g_(){return Ua||(Ua=hS(JS,ZS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lo)}catch(n){console.warn(n)}}}}).catch(t=>{throw jn.create("idb-open",{originalErrorMessage:t.message})})),Ua}async function eC(t){try{const n=(await g_()).transaction(Lo),r=await n.objectStore(Lo).get(__(t));return await n.done,r}catch(e){if(e instanceof Ho)pn.warn(e.message);else{const n=jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pn.warn(n.message)}}}async function Uh(t,e){try{const r=(await g_()).transaction(Lo,"readwrite");await r.objectStore(Lo).put(e,__(t)),await r.done}catch(n){if(n instanceof Ho)pn.warn(n.message);else{const r=jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pn.warn(r.message)}}}function __(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1024,nC=30*24*60*60*1e3;class rC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Bh();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=nC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){pn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bh(),{heartbeatsToSend:r,unsentEntries:i}=iC(this._heartbeatsCache.heartbeats),o=fl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return pn.warn(n),""}}}function Bh(){return new Date().toISOString().substring(0,10)}function iC(t,e=tC){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Wh(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B1()?W1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Uh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Wh(t){return fl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){ml(new Do("platform-logger",e=>new gS(e),"PRIVATE")),ml(new Do("heartbeat",e=>new rC(e),"PRIVATE")),ti(Qu,jh,t),ti(Qu,jh,"esm2017"),ti("fire-js","")}sC("");var $h={};const Vh="@firebase/database",Hh="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v_="";function lC(t){v_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$e(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Po(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return _n(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new aC(e)}}catch{}return new uC},ur=y_("localStorage"),cC=y_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new f_("@firebase/database"),dC=function(){let t=1;return function(){return t++}}(),w_=function(t){const e=q1(t),n=new Y1;n.update(e);const r=n.digest();return dd.encodeByteArray(r)},Go=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Go.apply(null,r):typeof r=="object"?e+=$e(r):e+=r,e+=" "}return e};let oo=null,Gh=!0;const fC=function(t,e){D(!e,"Can't turn on custom loggers persistently."),ni.logLevel=de.VERBOSE,oo=ni.log.bind(ni)},Ze=function(...t){if(Gh===!0&&(Gh=!1,oo===null&&cC.get("logging_enabled")===!0&&fC()),oo){const e=Go.apply(null,t);oo(e)}},Qo=function(t){return function(...e){Ze(t,...e)}},qu=function(...t){const e="FIREBASE INTERNAL ERROR: "+Go(...t);ni.error(e)},mn=function(...t){const e=`FIREBASE FATAL ERROR: ${Go(...t)}`;throw ni.error(e),new Error(e)},St=function(...t){const e="FIREBASE WARNING: "+Go(...t);ni.warn(e)},hC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&St("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},E_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},pC=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},pi="[MIN_NAME]",vr="[MAX_NAME]",Si=function(t,e){if(t===e)return 0;if(t===pi||e===vr)return-1;if(e===pi||t===vr)return 1;{const n=Qh(t),r=Qh(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},mC=function(t,e){return t===e?0:t<e?-1:1},Ui=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+$e(e))},pd=function(t){if(typeof t!="object"||t===null)return $e(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=$e(e[r]),n+=":",n+=pd(t[e[r]]);return n+="}",n},S_=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const C_=function(t){D(!E_(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,l,a;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=l+r,s=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(a=e;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const d=u.join("");let c="";for(a=0;a<64;a+=8){let f=parseInt(d.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),c=c+f}return c.toLowerCase()},gC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_C=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function vC(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const yC=new RegExp("^-?(0*)\\d{1,10}$"),wC=-2147483648,EC=2147483647,Qh=function(t){if(yC.test(t)){const e=Number(t);if(e>=wC&&e<=EC)return e}return null},Ko=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw St("Exception was thrown by user callback.",n),e},Math.floor(0))}},SC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},so=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){St(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',St(e)}}class bs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}bs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="5",k_="v",x_="s",T_="r",I_="f",N_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,R_="ls",P_="p",Xu="ac",D_="websocket",L_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n,r,i,o=!1,s="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ur.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ur.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function xC(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function O_(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===D_)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===L_)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);xC(t)&&(n.ns=t.namespace);const i=[];return mt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.counters_={}}incrementCounter(e,n=1){_n(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return P1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba={},Wa={};function gd(t){const e=t.toString();return Ba[e]||(Ba[e]=new TC),Ba[e]}function IC(t,e){const n=t.toString();return Wa[n]||(Wa[n]=e()),Wa[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ko(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="start",RC="close",PC="pLPCommand",DC="pRTLPCB",A_="id",F_="pw",b_="ser",LC="cb",MC="seg",OC="ts",AC="d",FC="dframe",j_=1870,z_=30,bC=j_-z_,jC=25e3,zC=3e4;class Qr{constructor(e,n,r,i,o,s,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qo(e),this.stats_=gd(n),this.urlFn=a=>(this.appCheckToken&&(a[Xu]=this.appCheckToken),O_(n,L_,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new NC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(zC)),pC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _d((...o)=>{const[s,l,a,u,d]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Kh)this.id=l,this.password=a;else if(s===RC)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Kh]="t",r[b_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[LC]=this.scriptTagHolder.uniqueCallbackIdentifier),r[k_]=md,this.transportSessionId&&(r[x_]=this.transportSessionId),this.lastSessionId&&(r[R_]=this.lastSessionId),this.applicationId&&(r[P_]=this.applicationId),this.appCheckToken&&(r[Xu]=this.appCheckToken),typeof location<"u"&&location.hostname&&N_.test(location.hostname)&&(r[T_]=I_);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qr.forceAllow_=!0}static forceDisallow(){Qr.forceDisallow_=!0}static isAvailable(){return Qr.forceAllow_?!0:!Qr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gC()&&!_C()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=$e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=r_(n),i=S_(r,bC);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[FC]="t",r[A_]=e,r[F_]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=$e(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class _d{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dC(),window[PC+this.uniqueCallbackIdentifier]=e,window[DC+this.uniqueCallbackIdentifier]=n,this.myIFrame=_d.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){Ze("frame writing exception"),l.stack&&Ze(l.stack),Ze(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ze("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[A_]=this.myID,e[F_]=this.myPW,e[b_]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+z_+r.length<=j_;){const s=this.pendingSegs.shift();r=r+"&"+MC+i+"="+s.seg+"&"+OC+i+"="+s.ts+"&"+AC+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(jC)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ze("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=16384,BC=45e3;let gl=null;typeof MozWebSocket<"u"?gl=MozWebSocket:typeof WebSocket<"u"&&(gl=WebSocket);class jt{constructor(e,n,r,i,o,s,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qo(this.connId),this.stats_=gd(n),this.connURL=jt.connectionURL_(n,s,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[k_]=md,typeof location<"u"&&location.hostname&&N_.test(location.hostname)&&(s[T_]=I_),n&&(s[x_]=n),r&&(s[R_]=r),i&&(s[Xu]=i),o&&(s[P_]=o),O_(e,D_,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ur.set("previous_websocket_failure",!0);try{let r;a_(),this.mySock=new gl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){jt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&gl!==null&&!jt.forceDisallow_}static previouslyFailed(){return ur.isInMemoryStorage||ur.get("previous_websocket_failure")===!0}markConnectionHealthy(){ur.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Po(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=$e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=S_(n,UC);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BC))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jt.responsesRequiredToBeHealthy=2;jt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static get ALL_TRANSPORTS(){return[Qr,jt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=jt&&jt.isAvailable();let r=n&&!jt.previouslyFailed();if(e.webSocketOnly&&(n||St("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[jt];else{const i=this.transports_=[];for(const o of Mo.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Mo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Mo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=6e4,$C=5e3,VC=10*1024,HC=100*1024,$a="t",Yh="d",GC="s",qh="r",QC="e",Xh="o",Jh="a",Zh="n",ep="p",KC="h";class YC{constructor(e,n,r,i,o,s,l,a,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qo("c:"+this.id+":"),this.transportManager_=new Mo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=so(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>VC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if($a in e){const n=e[$a];n===Jh?this.upgradeIfSecondaryHealthy_():n===qh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Xh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ui("t",e),r=Ui("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ep,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Jh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Zh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ui("t",e),r=Ui("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ui($a,e);if(Yh in e){const r=e[Yh];if(n===KC){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Zh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===GC?this.onConnectionShutdown_(r):n===qh?this.onReset_(r):n===QC?qu("Server Error: "+r):n===Xh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),md!==r&&St("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),so(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(WC))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):so(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($C))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ep,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ur.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends B_{static getInstance(){return new _l}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!l_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=32,np=768;class ue{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ie(){return new ue("")}function K(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Wn(t){return t.pieces_.length-t.pieceNum_}function fe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function W_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function qC(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function $_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function V_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ue(e,0)}function be(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ue(n,0)}function Y(t){return t.pieceNum_>=t.pieces_.length}function ct(t,e){const n=K(t),r=K(e);if(n===null)return e;if(n===r)return ct(fe(t),fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function vd(t,e){if(Wn(t)!==Wn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function zt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Wn(t)>Wn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class XC{constructor(e,n){this.errorPrefix_=n,this.parts_=$_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Kl(this.parts_[r]);H_(this)}}function JC(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Kl(e),H_(t)}function ZC(t){const e=t.parts_.pop();t.byteLength_-=Kl(e),t.parts_.length>0&&(t.byteLength_-=1)}function H_(t){if(t.byteLength_>np)throw new Error(t.errorPrefix_+"has a key path longer than "+np+" bytes ("+t.byteLength_+").");if(t.parts_.length>tp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+tp+") or object contains a cycle "+nr(t))}function nr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends B_{static getInstance(){return new yd}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=1e3,ek=60*5*1e3,rp=30*1e3,tk=1.3,nk=3e4,rk="server_kill",ip=3;class un extends U_{constructor(e,n,r,i,o,s,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=un.nextPersistentConnectionId_++,this.log_=Qo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bi,this.maxReconnectDelay_=ek,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!a_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&_l.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_($e(o)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new fd,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const l=s.d;s.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,l=>{const a=l.d,u=l.s;un.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&_n(e,"w")){const r=hi(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();St(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Q1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=rp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=G1(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+$e(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):qu("Unrecognized action received from server: "+$e(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nk&&(this.reconnectDelay_=Bi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tk)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+un.nextConnectionId_++,o=this.lastSessionId;let s=!1,l=null;const a=function(){l?l.close():(s=!0,r())},u=function(c){D(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);s?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=f&&f.token,l=new YC(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{St(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(rk)},o))}catch(c){this.log_("Failed to get token: "+c),s||(this.repoInfo_.nodeAdmin&&St(c),a())}}}interrupt(e){Ze("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ze("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Mh(this.interruptReasons_)&&(this.reconnectDelay_=Bi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>pd(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ue(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ze("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ip&&(this.reconnectDelay_=rp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ze("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ip&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+v_.replace(/\./g,"-")]=1,l_()?e["framework.cordova"]=1:U1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_l.getInstance().currentlyOnline();return Mh(this.interruptReasons_)&&e}}un.nextPersistentConnectionId_=0;un.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Q(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Q(pi,e),i=new Q(pi,n);return this.compare(r,i)!==0}minPost(){return Q.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ss;class G_ extends ql{static get __EMPTY_NODE(){return Ss}static set __EMPTY_NODE(e){Ss=e}compare(e,n){return Si(e.name,n.name)}isDefinedOn(e){throw Ei("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Q.MIN}maxPost(){return new Q(vr,Ss)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new Q(e,Ss)}toString(){return".key"}}const ri=new G_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class We{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??We.RED,this.left=i??dt.EMPTY_NODE,this.right=o??dt.EMPTY_NODE}copy(e,n,r,i,o){return new We(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return dt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return dt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class ik{copy(e,n,r,i,o){return this}insert(e,n,r){return new We(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class dt{constructor(e,n=dt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new dt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(e){return new dt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,We.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Cs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Cs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Cs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Cs(this.root_,null,this.comparator_,!0,e)}}dt.EMPTY_NODE=new ik;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e){return Si(t.name,e.name)}function wd(t,e){return Si(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju;function sk(t){Ju=t}const Q_=function(t){return typeof t=="number"?"number:"+C_(t):"string:"+t},K_=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_n(e,".sv"),"Priority must be a string or number.")}else D(t===Ju||t.isEmpty(),"priority of unexpected type.");D(t===Ju||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op;class Ue{static set __childrenNodeConstructor(e){op=e}static get __childrenNodeConstructor(){return op}constructor(e,n=Ue.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),K_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ue(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Y(e)?this:K(e)===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ue.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=K(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(D(r!==".priority"||Wn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ue.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Q_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=C_(this.value_):e+=this.value_,this.lazyHash_=w_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ue.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ue.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ue.VALUE_TYPE_ORDER.indexOf(n),o=Ue.VALUE_TYPE_ORDER.indexOf(r);return D(i>=0,"Unknown leaf type: "+n),D(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ue.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y_,q_;function lk(t){Y_=t}function ak(t){q_=t}class uk extends ql{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Si(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Q.MIN}maxPost(){return new Q(vr,new Ue("[PRIORITY-POST]",q_))}makePost(e,n){const r=Y_(e);return new Q(n,new Ue("[PRIORITY-POST]",r))}toString(){return".priority"}}const Re=new uk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=Math.log(2);class dk{constructor(e){const n=o=>parseInt(Math.log(o)/ck,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vl=function(t,e,n,r){t.sort(e);const i=function(a,u){const d=u-a;let c,f;if(d===0)return null;if(d===1)return c=t[a],f=n?n(c):c,new We(f,c.node,We.BLACK,null,null);{const p=parseInt(d/2,10)+a,v=i(a,p),w=i(p+1,u);return c=t[p],f=n?n(c):c,new We(f,c.node,We.BLACK,v,w)}},o=function(a){let u=null,d=null,c=t.length;const f=function(v,w){const x=c-v,g=c;c-=v;const h=i(x+1,g),m=t[x],C=n?n(m):m;p(new We(C,m.node,w,null,h))},p=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<a.count;++v){const w=a.nextBitIsOne(),x=Math.pow(2,a.count-(v+1));w?f(x,We.BLACK):(f(x,We.BLACK),f(x,We.RED))}return d},s=new dk(t.length),l=o(s);return new dt(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va;const Or={};class sn{static get Default(){return D(Or&&Re,"ChildrenNode.ts has not been loaded"),Va=Va||new sn({".priority":Or},{".priority":Re}),Va}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=hi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof dt?n:null}hasIndex(e){return _n(this.indexSet_,e.toString())}addIndex(e,n){D(e!==ri,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Q.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let l;i?l=vl(r,e.getCompare()):l=Or;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const d=Object.assign({},this.indexes_);return d[a]=l,new sn(d,u)}addToIndexes(e,n){const r=hl(this.indexes_,(i,o)=>{const s=hi(this.indexSet_,o);if(D(s,"Missing index implementation for "+o),i===Or)if(s.isDefinedOn(e.node)){const l=[],a=n.getIterator(Q.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),vl(l,s.getCompare())}else return Or;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new Q(e.name,l))),a.insert(e,e.node)}});return new sn(r,this.indexSet_)}removeFromIndexes(e,n){const r=hl(this.indexes_,i=>{if(i===Or)return i;{const o=n.get(e.name);return o?i.remove(new Q(e.name,o)):i}});return new sn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wi;class H{static get EMPTY_NODE(){return Wi||(Wi=new H(new dt(wd),null,sn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&K_(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wi}updatePriority(e){return this.children_.isEmpty()?this:new H(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Wi:n}}getChild(e){const n=K(e);return n===null?this:this.getImmediateChild(n).getChild(fe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Q(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Wi:this.priorityNode_;return new H(i,s,o)}}updateChild(e,n){const r=K(e);if(r===null)return n;{D(K(e)!==".priority"||Wn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(fe(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Re,(s,l)=>{n[s]=l.val(e),r++,o&&H.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const l in n)s[l]=n[l];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Q_(this.getPriority().val())+":"),this.forEachChild(Re,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":w_(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Q(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Q(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Q(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Q.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Q.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yo?-1:0}withIndex(e){if(e===ri||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new H(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ri||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Re),i=n.getIterator(Re);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===ri?null:this.indexMap_.get(e.toString())}}H.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fk extends H{constructor(){super(new dt(wd),H.EMPTY_NODE,sn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return H.EMPTY_NODE}isEmpty(){return!1}}const Yo=new fk;Object.defineProperties(Q,{MIN:{value:new Q(pi,H.EMPTY_NODE)},MAX:{value:new Q(vr,Yo)}});G_.__EMPTY_NODE=H.EMPTY_NODE;Ue.__childrenNodeConstructor=H;sk(Yo);ak(Yo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=!0;function et(t,e=null){if(t===null)return H.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ue(n,et(e))}if(!(t instanceof Array)&&hk){const n=[];let r=!1;if(mt(t,(s,l)=>{if(s.substring(0,1)!=="."){const a=et(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new Q(s,a)))}}),n.length===0)return H.EMPTY_NODE;const o=vl(n,ok,s=>s.name,wd);if(r){const s=vl(n,Re.getCompare());return new H(o,et(e),new sn({".priority":s},{".priority":Re}))}else return new H(o,et(e),sn.Default)}else{let n=H.EMPTY_NODE;return mt(t,(r,i)=>{if(_n(t,r)&&r.substring(0,1)!=="."){const o=et(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(et(e))}}lk(et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk extends ql{constructor(e){super(),this.indexPath_=e,D(!Y(e)&&K(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Si(e.name,n.name):o}makePost(e,n){const r=et(e),i=H.EMPTY_NODE.updateChild(this.indexPath_,r);return new Q(n,i)}maxPost(){const e=H.EMPTY_NODE.updateChild(this.indexPath_,Yo);return new Q(vr,e)}toString(){return $_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk extends ql{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Si(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Q.MIN}maxPost(){return Q.MAX}makePost(e,n){const r=et(e);return new Q(n,r)}toString(){return".value"}}const gk=new mk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t){return{type:"value",snapshotNode:t}}function mi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Oo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ao(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function _k(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Oo(n,l)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?s.trackChildChange(mi(n,r)):s.trackChildChange(Ao(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Re,(i,o)=>{n.hasChild(i)||r.trackChildChange(Oo(i,o))}),n.isLeafNode()||n.forEachChild(Re,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ao(i,o,s))}else r.trackChildChange(mi(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?H.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.indexedFilter_=new Ed(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fo.getStartPost_(e),this.endPost_=Fo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Q(n,r))||(r=H.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=H.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(H.EMPTY_NODE);const o=this;return n.forEachChild(Re,(s,l)=>{o.matches(new Q(s,l))||(i=i.updateImmediateChild(s,H.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Fo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Q(n,r))||(r=H.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=H.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=H.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const l=o.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(H.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const l=o.getNext();s<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?s++:i=i.updateImmediateChild(l.name,H.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const c=this.index_.getCompare();s=(f,p)=>c(p,f)}else s=this.index_.getCompare();const l=e;D(l.numChildren()===this.limit_,"");const a=new Q(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:s(f,a);if(d&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(Ao(n,r,c)),l.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Oo(n,c));const w=l.updateImmediateChild(n,H.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o!=null&&o.trackChildChange(mi(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:d&&s(u,a)>=0?(o!=null&&(o.trackChildChange(Oo(u.name,u.node)),o.trackChildChange(mi(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,H.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Re}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pi}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Re}copy(){const e=new Sd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yk(t){return t.loadsAllData()?new Ed(t.getIndex()):t.hasLimit()?new vk(t):new Fo(t)}function sp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Re?n="$priority":t.index_===gk?n="$value":t.index_===ri?n="$key":(D(t.index_ instanceof pk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=$e(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=$e(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+$e(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=$e(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+$e(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function lp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Re&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends U_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Qo("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=yl.getListenId_(e,r),l={};this.listens_[s]=l;const a=sp(e._queryParams);this.restRequest_(o+".json",a,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(o,c,!1,r),hi(this.listens_,s)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=yl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=sp(e._queryParams),r=e._path.toString(),i=new fd;return this.restRequest_(r+".json",n,(o,s)=>{let l=s;o===404&&(l=null,o=null),o===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+K1(n);this.log_("Sending REST request for "+s);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Po(l.responseText)}catch{St("Failed to parse JSON response for "+s+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&St("Got unsuccessful REST response for "+s+" Status: "+l.status),r(l.status);r=null}},l.open("GET",s,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.rootNode_=H.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(){return{value:null,children:new Map}}function J_(t,e,n){if(Y(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=K(e);t.children.has(r)||t.children.set(r,wl());const i=t.children.get(r);e=fe(e),J_(i,e,n)}}function Zu(t,e,n){t.value!==null?n(e,t.value):Ek(t,(r,i)=>{const o=new ue(e.toString()+"/"+r);Zu(i,o,n)})}function Ek(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&mt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=10*1e3,Ck=30*1e3,kk=5*60*1e3;class xk{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Sk(e);const r=ap+(Ck-ap)*Math.random();so(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;mt(e,(i,o)=>{o>0&&_n(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),so(this.reportStats_.bind(this),Math.floor(Math.random()*2*kk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ut||(Ut={}));function Z_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Cd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ut.ACK_USER_WRITE,this.source=Z_()}operationForChild(e){if(Y(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ue(e));return new El(ie(),n,this.revert)}}else return D(K(this.path)===e,"operationForChild called for unrelated child."),new El(fe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n){this.source=e,this.path=n,this.type=Ut.LISTEN_COMPLETE}operationForChild(e){return Y(this.path)?new bo(this.source,ie()):new bo(this.source,fe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ut.OVERWRITE}operationForChild(e){return Y(this.path)?new yr(this.source,ie(),this.snap.getImmediateChild(e)):new yr(this.source,fe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ut.MERGE}operationForChild(e){if(Y(this.path)){const n=this.children.subtree(new ue(e));return n.isEmpty()?null:n.value?new yr(this.source,ie(),n.value):new jo(this.source,ie(),n)}else return D(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jo(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Y(e))return this.isFullyInitialized()&&!this.filtered_;const n=K(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ik(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(_k(s.childName,s.snapshotNode))}),$i(t,i,"child_removed",e,r,n),$i(t,i,"child_added",e,r,n),$i(t,i,"child_moved",o,r,n),$i(t,i,"child_changed",e,r,n),$i(t,i,"value",e,r,n),i}function $i(t,e,n,r,i,o){const s=r.filter(l=>l.type===n);s.sort((l,a)=>Rk(t,l,a)),s.forEach(l=>{const a=Nk(t,l,o);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function Nk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Rk(t,e,n){if(e.childName==null||n.childName==null)throw Ei("Should only compare child_ events.");const r=new Q(e.childName,e.snapshotNode),i=new Q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t,e){return{eventCache:t,serverCache:e}}function lo(t,e,n,r){return Xl(new wr(e,n,r),t.serverCache)}function ev(t,e,n,r){return Xl(t.eventCache,new wr(e,n,r))}function ec(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Er(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha;const Pk=()=>(Ha||(Ha=new dt(mC)),Ha);class ge{static fromObject(e){let n=new ge(null);return mt(e,(r,i)=>{n=n.set(new ue(r),i)}),n}constructor(e,n=Pk()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ie(),value:this.value};if(Y(e))return null;{const r=K(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(fe(e),n);return o!=null?{path:be(new ue(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Y(e))return this;{const n=K(e),r=this.children.get(n);return r!==null?r.subtree(fe(e)):new ge(null)}}set(e,n){if(Y(e))return new ge(n,this.children);{const r=K(e),o=(this.children.get(r)||new ge(null)).set(fe(e),n),s=this.children.insert(r,o);return new ge(this.value,s)}}remove(e){if(Y(e))return this.children.isEmpty()?new ge(null):new ge(null,this.children);{const n=K(e),r=this.children.get(n);if(r){const i=r.remove(fe(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new ge(null):new ge(this.value,o)}else return this}}get(e){if(Y(e))return this.value;{const n=K(e),r=this.children.get(n);return r?r.get(fe(e)):null}}setTree(e,n){if(Y(e))return n;{const r=K(e),o=(this.children.get(r)||new ge(null)).setTree(fe(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new ge(this.value,s)}}fold(e){return this.fold_(ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(be(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ie(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Y(e))return null;{const o=K(e),s=this.children.get(o);return s?s.findOnPath_(fe(e),be(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ie(),n)}foreachOnPath_(e,n,r){if(Y(e))return this;{this.value&&r(n,this.value);const i=K(e),o=this.children.get(i);return o?o.foreachOnPath_(fe(e),be(n,i),r):new ge(null)}}foreach(e){this.foreach_(ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.writeTree_=e}static empty(){return new $t(new ge(null))}}function ao(t,e,n){if(Y(e))return new $t(new ge(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=ct(i,e);return o=o.updateChild(s,n),new $t(t.writeTree_.set(i,o))}else{const i=new ge(n),o=t.writeTree_.setTree(e,i);return new $t(o)}}}function up(t,e,n){let r=t;return mt(n,(i,o)=>{r=ao(r,be(e,i),o)}),r}function cp(t,e){if(Y(e))return $t.empty();{const n=t.writeTree_.setTree(e,new ge(null));return new $t(n)}}function tc(t,e){return xr(t,e)!=null}function xr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ct(n.path,e)):null}function dp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Re,(r,i)=>{e.push(new Q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Q(r,i.value))}),e}function zn(t,e){if(Y(e))return t;{const n=xr(t,e);return n!=null?new $t(new ge(n)):new $t(t.writeTree_.subtree(e))}}function nc(t){return t.writeTree_.isEmpty()}function gi(t,e){return tv(ie(),t.writeTree_,e)}function tv(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(D(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=tv(be(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(be(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t,e){return ov(e,t)}function Dk(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ao(t.visibleWrites,e,n)),t.lastWriteId=r}function Lk(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Mk(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const l=t.allWrites[s];l.visible&&(s>=n&&Ok(l,r.path)?i=!1:zt(r.path,l.path)&&(o=!0)),s--}if(i){if(o)return Ak(t),!0;if(r.snap)t.visibleWrites=cp(t.visibleWrites,r.path);else{const l=r.children;mt(l,a=>{t.visibleWrites=cp(t.visibleWrites,be(r.path,a))})}return!0}else return!1}function Ok(t,e){if(t.snap)return zt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&zt(be(t.path,n),e))return!0;return!1}function Ak(t){t.visibleWrites=nv(t.allWrites,Fk,ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Fk(t){return t.visible}function nv(t,e,n){let r=$t.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let l;if(o.snap)zt(n,s)?(l=ct(n,s),r=ao(r,l,o.snap)):zt(s,n)&&(l=ct(s,n),r=ao(r,ie(),o.snap.getChild(l)));else if(o.children){if(zt(n,s))l=ct(n,s),r=up(r,l,o.children);else if(zt(s,n))if(l=ct(s,n),Y(l))r=up(r,ie(),o.children);else{const a=hi(o.children,K(l));if(a){const u=a.getChild(fe(l));r=ao(r,ie(),u)}}}else throw Ei("WriteRecord should have .snap or .children")}}return r}function rv(t,e,n,r,i){if(!r&&!i){const o=xr(t.visibleWrites,e);if(o!=null)return o;{const s=zn(t.visibleWrites,e);if(nc(s))return n;if(n==null&&!tc(s,ie()))return null;{const l=n||H.EMPTY_NODE;return gi(s,l)}}}else{const o=zn(t.visibleWrites,e);if(!i&&nc(o))return n;if(!i&&n==null&&!tc(o,ie()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(zt(u.path,e)||zt(e,u.path))},l=nv(t.allWrites,s,e),a=n||H.EMPTY_NODE;return gi(l,a)}}}function bk(t,e,n){let r=H.EMPTY_NODE;const i=xr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Re,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=zn(t.visibleWrites,e);return n.forEachChild(Re,(s,l)=>{const a=gi(zn(o,new ue(s)),l);r=r.updateImmediateChild(s,a)}),dp(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=zn(t.visibleWrites,e);return dp(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function jk(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=be(e,n);if(tc(t.visibleWrites,o))return null;{const s=zn(t.visibleWrites,o);return nc(s)?i.getChild(n):gi(s,i.getChild(n))}}function zk(t,e,n,r){const i=be(e,n),o=xr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=zn(t.visibleWrites,i);return gi(s,r.getNode().getImmediateChild(n))}else return null}function Uk(t,e){return xr(t.visibleWrites,e)}function Bk(t,e,n,r,i,o,s){let l;const a=zn(t.visibleWrites,e),u=xr(a,ie());if(u!=null)l=u;else if(n!=null)l=gi(a,n);else return[];if(l=l.withIndex(s),!l.isEmpty()&&!l.isLeafNode()){const d=[],c=s.getCompare(),f=o?l.getReverseIteratorFrom(r,s):l.getIteratorFrom(r,s);let p=f.getNext();for(;p&&d.length<i;)c(p,r)!==0&&d.push(p),p=f.getNext();return d}else return[]}function Wk(){return{visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1}}function Sl(t,e,n,r){return rv(t.writeTree,t.treePath,e,n,r)}function Td(t,e){return bk(t.writeTree,t.treePath,e)}function fp(t,e,n,r){return jk(t.writeTree,t.treePath,e,n,r)}function Cl(t,e){return Uk(t.writeTree,be(t.treePath,e))}function $k(t,e,n,r,i,o){return Bk(t.writeTree,t.treePath,e,n,r,i,o)}function Id(t,e,n){return zk(t.writeTree,t.treePath,e,n)}function iv(t,e){return ov(be(t.treePath,e),t.writeTree)}function ov(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ao(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Oo(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,mi(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ao(r,e.snapshotNode,i.oldSnap));else throw Ei("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const sv=new Hk;class Nd{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new wr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Id(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Er(this.viewCache_),o=$k(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t){return{filter:t}}function Qk(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Kk(t,e,n,r,i){const o=new Vk;let s,l;if(n.type===Ut.OVERWRITE){const u=n;u.source.fromUser?s=rc(t,e,u.path,u.snap,r,i,o):(D(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!Y(u.path),s=kl(t,e,u.path,u.snap,r,i,l,o))}else if(n.type===Ut.MERGE){const u=n;u.source.fromUser?s=qk(t,e,u.path,u.children,r,i,o):(D(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),s=ic(t,e,u.path,u.children,r,i,l,o))}else if(n.type===Ut.ACK_USER_WRITE){const u=n;u.revert?s=Zk(t,e,u.path,r,i,o):s=Xk(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===Ut.LISTEN_COMPLETE)s=Jk(t,e,n.path,r,o);else throw Ei("Unknown operation type: "+n.type);const a=o.getChanges();return Yk(e,s,a),{viewCache:s,changes:a}}function Yk(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ec(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(X_(ec(e)))}}function lv(t,e,n,r,i,o){const s=e.eventCache;if(Cl(r,n)!=null)return e;{let l,a;if(Y(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Er(e),d=u instanceof H?u:H.EMPTY_NODE,c=Td(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const u=Sl(r,Er(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=K(n);if(u===".priority"){D(Wn(n)===1,"Can't have a priority with additional path components");const d=s.getNode();a=e.serverCache.getNode();const c=fp(r,n,d,a);c!=null?l=t.filter.updatePriority(d,c):l=s.getNode()}else{const d=fe(n);let c;if(s.isCompleteForChild(u)){a=e.serverCache.getNode();const f=fp(r,n,s.getNode(),a);f!=null?c=s.getNode().getImmediateChild(u).updateChild(d,f):c=s.getNode().getImmediateChild(u)}else c=Id(r,u,e.serverCache);c!=null?l=t.filter.updateChild(s.getNode(),u,c,d,i,o):l=s.getNode()}}return lo(e,l,s.isFullyInitialized()||Y(n),t.filter.filtersNodes())}}function kl(t,e,n,r,i,o,s,l){const a=e.serverCache;let u;const d=s?t.filter:t.filter.getIndexedFilter();if(Y(n))u=d.updateFullNode(a.getNode(),r,null);else if(d.filtersNodes()&&!a.isFiltered()){const p=a.getNode().updateChild(n,r);u=d.updateFullNode(a.getNode(),p,null)}else{const p=K(n);if(!a.isCompleteForPath(n)&&Wn(n)>1)return e;const v=fe(n),x=a.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?u=d.updatePriority(a.getNode(),x):u=d.updateChild(a.getNode(),p,x,v,sv,null)}const c=ev(e,u,a.isFullyInitialized()||Y(n),d.filtersNodes()),f=new Nd(i,c,o);return lv(t,c,n,i,f,l)}function rc(t,e,n,r,i,o,s){const l=e.eventCache;let a,u;const d=new Nd(i,e,o);if(Y(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=lo(e,u,!0,t.filter.filtersNodes());else{const c=K(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=lo(e,u,l.isFullyInitialized(),l.isFiltered());else{const f=fe(n),p=l.getNode().getImmediateChild(c);let v;if(Y(f))v=r;else{const w=d.getCompleteChild(c);w!=null?W_(f)===".priority"&&w.getChild(V_(f)).isEmpty()?v=w:v=w.updateChild(f,r):v=H.EMPTY_NODE}if(p.equals(v))a=e;else{const w=t.filter.updateChild(l.getNode(),c,v,f,d,s);a=lo(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function hp(t,e){return t.eventCache.isCompleteForChild(e)}function qk(t,e,n,r,i,o,s){let l=e;return r.foreach((a,u)=>{const d=be(n,a);hp(e,K(d))&&(l=rc(t,l,d,u,i,o,s))}),r.foreach((a,u)=>{const d=be(n,a);hp(e,K(d))||(l=rc(t,l,d,u,i,o,s))}),l}function pp(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ic(t,e,n,r,i,o,s,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;Y(n)?u=r:u=new ge(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((c,f)=>{if(d.hasChild(c)){const p=e.serverCache.getNode().getImmediateChild(c),v=pp(t,p,f);a=kl(t,a,new ue(c),v,i,o,s,l)}}),u.children.inorderTraversal((c,f)=>{const p=!e.serverCache.isCompleteForChild(c)&&f.value===null;if(!d.hasChild(c)&&!p){const v=e.serverCache.getNode().getImmediateChild(c),w=pp(t,v,f);a=kl(t,a,new ue(c),w,i,o,s,l)}}),a}function Xk(t,e,n,r,i,o,s){if(Cl(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(Y(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return kl(t,e,n,a.getNode().getChild(n),i,o,l,s);if(Y(n)){let u=new ge(null);return a.getNode().forEachChild(ri,(d,c)=>{u=u.set(new ue(d),c)}),ic(t,e,n,u,i,o,l,s)}else return e}else{let u=new ge(null);return r.foreach((d,c)=>{const f=be(n,d);a.isCompleteForPath(f)&&(u=u.set(d,a.getNode().getChild(f)))}),ic(t,e,n,u,i,o,l,s)}}function Jk(t,e,n,r,i){const o=e.serverCache,s=ev(e,o.getNode(),o.isFullyInitialized()||Y(n),o.isFiltered());return lv(t,s,n,r,sv,i)}function Zk(t,e,n,r,i,o){let s;if(Cl(r,n)!=null)return e;{const l=new Nd(r,e,i),a=e.eventCache.getNode();let u;if(Y(n)||K(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Sl(r,Er(e));else{const c=e.serverCache.getNode();D(c instanceof H,"serverChildren would be complete if leaf node"),d=Td(r,c)}d=d,u=t.filter.updateFullNode(a,d,o)}else{const d=K(n);let c=Id(r,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=a.getImmediateChild(d)),c!=null?u=t.filter.updateChild(a,d,c,fe(n),l,o):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(a,d,H.EMPTY_NODE,fe(n),l,o):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Sl(r,Er(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||Cl(r,ie())!=null,lo(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ed(r.getIndex()),o=yk(r);this.processor_=Gk(o);const s=n.serverCache,l=n.eventCache,a=i.updateFullNode(H.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(H.EMPTY_NODE,l.getNode(),null),d=new wr(a,s.isFullyInitialized(),i.filtersNodes()),c=new wr(u,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=Xl(c,d),this.eventGenerator_=new Tk(this.query_)}get query(){return this.query_}}function tx(t){return t.viewCache_.serverCache.getNode()}function nx(t,e){const n=Er(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Y(e)&&!n.getImmediateChild(K(e)).isEmpty())?n.getChild(e):null}function mp(t){return t.eventRegistrations_.length===0}function rx(t,e){t.eventRegistrations_.push(e)}function gp(t,e,n){const r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function _p(t,e,n,r){e.type===Ut.MERGE&&e.source.queryId!==null&&(D(Er(t.viewCache_),"We should always have a full cache before handling merges"),D(ec(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=Kk(t.processor_,i,e,n,r);return Qk(t.processor_,o.viewCache),D(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,av(t,o.changes,o.viewCache.eventCache.getNode(),null)}function ix(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Re,(o,s)=>{r.push(mi(o,s))}),n.isFullyInitialized()&&r.push(X_(n.getNode())),av(t,r,n.getNode(),e)}function av(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Ik(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl;class ox{constructor(){this.views=new Map}}function sx(t){D(!xl,"__referenceConstructor has already been defined"),xl=t}function lx(){return D(xl,"Reference.ts has not been loaded"),xl}function ax(t){return t.views.size===0}function Rd(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return D(o!=null,"SyncTree gave us an op for an invalid query."),_p(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(_p(s,e,n,r));return o}}function ux(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let l=Sl(n,i?r:null),a=!1;l?a=!0:r instanceof H?(l=Td(n,r),a=!1):(l=H.EMPTY_NODE,a=!1);const u=Xl(new wr(l,a,!1),new wr(r,i,!1));return new ex(e,u)}return s}function cx(t,e,n,r,i,o){const s=ux(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),rx(s,n),ix(s,n)}function dx(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const l=$n(t);if(i==="default")for(const[a,u]of t.views.entries())s=s.concat(gp(u,n,r)),mp(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||o.push(u.query));else{const a=t.views.get(i);a&&(s=s.concat(gp(a,n,r)),mp(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||o.push(a.query)))}return l&&!$n(t)&&o.push(new(lx())(e._repo,e._path)),{removed:o,events:s}}function uv(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ii(t,e){let n=null;for(const r of t.views.values())n=n||nx(r,e);return n}function cv(t,e){if(e._queryParams.loadsAllData())return Jl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function dv(t,e){return cv(t,e)!=null}function $n(t){return Jl(t)!=null}function Jl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;function fx(t){D(!Tl,"__referenceConstructor has already been defined"),Tl=t}function hx(){return D(Tl,"Reference.ts has not been loaded"),Tl}let px=1;class vp{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ge(null),this.pendingWriteTree_=Wk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mx(t,e,n,r,i){return Dk(t.pendingWriteTree_,e,n,r,i),i?qo(t,new yr(Z_(),e,n)):[]}function Kr(t,e,n=!1){const r=Lk(t.pendingWriteTree_,e);if(Mk(t.pendingWriteTree_,e)){let o=new ge(null);return r.snap!=null?o=o.set(ie(),!0):mt(r.children,s=>{o=o.set(new ue(s),!0)}),qo(t,new El(r.path,o,n))}else return[]}function Zl(t,e,n){return qo(t,new yr(Cd(),e,n))}function gx(t,e,n){const r=ge.fromObject(n);return qo(t,new jo(Cd(),e,r))}function _x(t,e){return qo(t,new bo(Cd(),e))}function vx(t,e,n){const r=Pd(t,n);if(r){const i=Dd(r),o=i.path,s=i.queryId,l=ct(o,e),a=new bo(kd(s),l);return Ld(t,o,a)}else return[]}function oc(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let l=[];if(s&&(e._queryIdentifier==="default"||dv(s,e))){const a=dx(s,e,n,r);ax(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=a.removed;if(l=a.events,!i){const d=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(o,(f,p)=>$n(p));if(d&&!c){const f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){const p=Ex(f);for(let v=0;v<p.length;++v){const w=p[v],x=w.query,g=mv(t,w);t.listenProvider_.startListening(uo(x),Il(t,x),g.hashFn,g.onComplete)}}}!c&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(uo(e),null):u.forEach(f=>{const p=t.queryToTagMap.get(ea(f));t.listenProvider_.stopListening(uo(f),p)}))}Sx(t,u)}return l}function yx(t,e,n,r){const i=Pd(t,r);if(i!=null){const o=Dd(i),s=o.path,l=o.queryId,a=ct(s,e),u=new yr(kd(l),a,n);return Ld(t,s,u)}else return[]}function wx(t,e,n,r){const i=Pd(t,r);if(i){const o=Dd(i),s=o.path,l=o.queryId,a=ct(s,e),u=ge.fromObject(n),d=new jo(kd(l),a,u);return Ld(t,s,d)}else return[]}function yp(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,p)=>{const v=ct(f,i);o=o||ii(p,v),s=s||$n(p)});let l=t.syncPointTree_.get(i);l?(s=s||$n(l),o=o||ii(l,ie())):(l=new ox,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;o!=null?a=!0:(a=!1,o=H.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,v)=>{const w=ii(v,ie());w&&(o=o.updateImmediateChild(p,w))}));const u=dv(l,e);if(!u&&!e._queryParams.loadsAllData()){const f=ea(e);D(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=Cx();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const d=xd(t.pendingWriteTree_,i);let c=cx(l,e,n,d,o,a);if(!u&&!s&&!r){const f=cv(l,e);c=c.concat(kx(t,e,f))}return c}function fv(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,l)=>{const a=ct(s,e),u=ii(l,a);if(u)return u});return rv(i,e,o,n,!0)}function qo(t,e){return hv(e,t.syncPointTree_,null,xd(t.pendingWriteTree_,ie()))}function hv(t,e,n,r){if(Y(t.path))return pv(t,e,n,r);{const i=e.get(ie());n==null&&i!=null&&(n=ii(i,ie()));let o=[];const s=K(t.path),l=t.operationForChild(s),a=e.children.get(s);if(a&&l){const u=n?n.getImmediateChild(s):null,d=iv(r,s);o=o.concat(hv(l,a,u,d))}return i&&(o=o.concat(Rd(i,t,r,n))),o}}function pv(t,e,n,r){const i=e.get(ie());n==null&&i!=null&&(n=ii(i,ie()));let o=[];return e.children.inorderTraversal((s,l)=>{const a=n?n.getImmediateChild(s):null,u=iv(r,s),d=t.operationForChild(s);d&&(o=o.concat(pv(d,l,a,u)))}),i&&(o=o.concat(Rd(i,t,r,n))),o}function mv(t,e){const n=e.query,r=Il(t,n);return{hashFn:()=>(tx(e)||H.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?vx(t,n._path,r):_x(t,n._path);{const o=vC(i,n);return oc(t,n,null,o)}}}}function Il(t,e){const n=ea(e);return t.queryToTagMap.get(n)}function ea(t){return t._path.toString()+"$"+t._queryIdentifier}function Pd(t,e){return t.tagToQueryMap.get(e)}function Dd(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function Ld(t,e,n){const r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");const i=xd(t.pendingWriteTree_,e);return Rd(r,n,i,null)}function Ex(t){return t.fold((e,n,r)=>{if(n&&$n(n))return[Jl(n)];{let i=[];return n&&(i=uv(n)),mt(r,(o,s)=>{i=i.concat(s)}),i}})}function uo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hx())(t._repo,t._path):t}function Sx(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=ea(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Cx(){return px++}function kx(t,e,n){const r=e._path,i=Il(t,e),o=mv(t,n),s=t.listenProvider_.startListening(uo(e),i,o.hashFn,o.onComplete),l=t.syncPointTree_.subtree(r);if(i)D(!$n(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,d,c)=>{if(!Y(u)&&d&&$n(d))return[Jl(d).query];{let f=[];return d&&(f=f.concat(uv(d).map(p=>p.query))),mt(c,(p,v)=>{f=f.concat(v)}),f}});for(let u=0;u<a.length;++u){const d=a[u];t.listenProvider_.stopListening(uo(d),Il(t,d))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Md(n)}node(){return this.node_}}class Od{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=be(this.path_,e);return new Od(this.syncTree_,n)}node(){return fv(this.syncTree_,this.path_)}}const xx=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},wp=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Tx(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Ix(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Tx=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},Ix=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},Nx=function(t,e,n,r){return Ad(e,new Od(n,t),r)},Rx=function(t,e,n){return Ad(t,new Md(e),n)};function Ad(t,e,n){const r=t.getPriority().val(),i=wp(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,l=wp(s.getValue(),e,n);return l!==s.getValue()||i!==s.getPriority().val()?new Ue(l,et(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Ue(i))),s.forEachChild(Re,(l,a)=>{const u=Ad(a,e.getImmediateChild(l),n);u!==a&&(o=o.updateImmediateChild(l,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function bd(t,e){let n=e instanceof ue?e:new ue(e),r=t,i=K(n);for(;i!==null;){const o=hi(r.node.children,i)||{children:{},childCount:0};r=new Fd(i,r,o),n=fe(n),i=K(n)}return r}function Ci(t){return t.node.value}function gv(t,e){t.node.value=e,sc(t)}function _v(t){return t.node.childCount>0}function Px(t){return Ci(t)===void 0&&!_v(t)}function ta(t,e){mt(t.node.children,(n,r)=>{e(new Fd(n,t,r))})}function vv(t,e,n,r){n&&!r&&e(t),ta(t,i=>{vv(i,e,!0,r)}),n&&r&&e(t)}function Dx(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Xo(t){return new ue(t.parent===null?t.name:Xo(t.parent)+"/"+t.name)}function sc(t){t.parent!==null&&Lx(t.parent,t.name,t)}function Lx(t,e,n){const r=Px(n),i=_n(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,sc(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,sc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=/[\[\].#$\/\u0000-\u001F\u007F]/,Ox=/[\[\].#$\u0000-\u001F\u007F]/,Ga=10*1024*1024,yv=function(t){return typeof t=="string"&&t.length!==0&&!Mx.test(t)},wv=function(t){return typeof t=="string"&&t.length!==0&&!Ox.test(t)},Ax=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wv(t)},Ev=function(t,e,n){const r=n instanceof ue?new XC(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+nr(r));if(typeof e=="function")throw new Error(t+"contains a function "+nr(r)+" with contents = "+e.toString());if(E_(e))throw new Error(t+"contains "+e.toString()+" "+nr(r));if(typeof e=="string"&&e.length>Ga/3&&Kl(e)>Ga)throw new Error(t+"contains a string greater than "+Ga+" utf8 bytes "+nr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(mt(e,(s,l)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!yv(s)))throw new Error(t+" contains an invalid key ("+s+") "+nr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);JC(r,s),Ev(t,l,r),ZC(r)}),i&&o)throw new Error(t+' contains ".value" child '+nr(r)+" in addition to actual children.")}},Sv=function(t,e,n,r){if(!wv(n))throw new Error(d_(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Fx=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Sv(t,e,n)},bx=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!yv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Ax(n))throw new Error(d_(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cv(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!vd(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function kv(t,e,n){Cv(t,n),xv(t,r=>vd(r,e))}function Tr(t,e,n){Cv(t,n),xv(t,r=>zt(r,e)||zt(e,r))}function xv(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(zx(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function zx(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();oo&&Ze("event: "+n.toString()),Ko(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="repo_interrupt",Bx=25;class Wx{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jx,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wl(),this.transactionQueueTree_=new Fd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $x(t,e,n){if(t.stats_=gd(t.repoInfo_),t.forceRestClient_||SC())t.server_=new yl(t.repoInfo_,(r,i,o,s)=>{Ep(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Sp(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new un(t.repoInfo_,e,(r,i,o,s)=>{Ep(t,r,i,o,s)},r=>{Sp(t,r)},r=>{Hx(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=IC(t.repoInfo_,()=>new xk(t.stats_,t.server_)),t.infoData_=new wk,t.infoSyncTree_=new vp({startListening:(r,i,o,s)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Zl(t.infoSyncTree_,r._path,a),setTimeout(()=>{s("ok")},0)),l},stopListening:()=>{}}),jd(t,"connected",!1),t.serverSyncTree_=new vp({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(l,a)=>{const u=s(l,a);Tr(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Vx(t){const n=t.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Tv(t){return xx({timestamp:Vx(t)})}function Ep(t,e,n,r,i){t.dataUpdateCount++;const o=new ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const a=hl(n,u=>et(u));s=wx(t.serverSyncTree_,o,a,i)}else{const a=et(n);s=yx(t.serverSyncTree_,o,a,i)}else if(r){const a=hl(n,u=>et(u));s=gx(t.serverSyncTree_,o,a)}else{const a=et(n);s=Zl(t.serverSyncTree_,o,a)}let l=o;s.length>0&&(l=Ud(t,o)),Tr(t.eventQueue_,l,s)}function Sp(t,e){jd(t,"connected",e),e===!1&&Qx(t)}function Hx(t,e){mt(e,(n,r)=>{jd(t,n,r)})}function jd(t,e,n){const r=new ue("/.info/"+e),i=et(n);t.infoData_.updateSnapshot(r,i);const o=Zl(t.infoSyncTree_,r,i);Tr(t.eventQueue_,r,o)}function Gx(t){return t.nextWriteId_++}function Qx(t){Iv(t,"onDisconnectEvents");const e=Tv(t),n=wl();Zu(t.onDisconnect_,ie(),(i,o)=>{const s=Nx(i,o,t.serverSyncTree_,e);J_(n,i,s)});let r=[];Zu(n,ie(),(i,o)=>{r=r.concat(Zl(t.serverSyncTree_,i,o));const s=Zx(t,i);Ud(t,s)}),t.onDisconnect_=wl(),Tr(t.eventQueue_,ie(),r)}function Kx(t,e,n){let r;K(e._path)===".info"?r=yp(t.infoSyncTree_,e,n):r=yp(t.serverSyncTree_,e,n),kv(t.eventQueue_,e._path,r)}function Yx(t,e,n){let r;K(e._path)===".info"?r=oc(t.infoSyncTree_,e,n):r=oc(t.serverSyncTree_,e,n),kv(t.eventQueue_,e._path,r)}function qx(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ux)}function Iv(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ze(n,...e)}function Nv(t,e,n){return fv(t.serverSyncTree_,e,n)||H.EMPTY_NODE}function zd(t,e=t.transactionQueueTree_){if(e||na(t,e),Ci(e)){const n=Pv(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Xx(t,Xo(e),n)}else _v(e)&&ta(e,n=>{zd(t,n)})}function Xx(t,e,n){const r=n.map(u=>u.currentWriteId),i=Nv(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const d=n[u];D(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=ct(e,d.path);o=o.updateChild(c,d.currentOutputSnapshotRaw)}const l=o.val(!0),a=e;t.server_.put(a.toString(),l,u=>{Iv(t,"transaction put response",{path:a.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Kr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&c.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();na(t,bd(t.transactionQueueTree_,e)),zd(t,t.transactionQueueTree_),Tr(t.eventQueue_,e,d);for(let f=0;f<c.length;f++)Ko(c[f])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{St("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}Ud(t,e)}},s)}function Ud(t,e){const n=Rv(t,e),r=Xo(n),i=Pv(t,n);return Jx(t,i,r),r}function Jx(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=ct(n,a.path);let d=!1,c;if(D(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,c=a.abortReason,i=i.concat(Kr(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=Bx)d=!0,c="maxretry",i=i.concat(Kr(t.serverSyncTree_,a.currentWriteId,!0));else{const f=Nv(t,a.path,s);a.currentInputSnapshot=f;const p=e[l].update(f.val());if(p!==void 0){Ev("transaction failed: Data returned ",p,a.path);let v=et(p);typeof p=="object"&&p!=null&&_n(p,".priority")||(v=v.updatePriority(f.getPriority()));const x=a.currentWriteId,g=Tv(t),h=Rx(v,f,g);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=h,a.currentWriteId=Gx(t),s.splice(s.indexOf(x),1),i=i.concat(mx(t.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(Kr(t.serverSyncTree_,x,!0))}else d=!0,c="nodata",i=i.concat(Kr(t.serverSyncTree_,a.currentWriteId,!0))}Tr(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(c),!1,null))))}na(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Ko(r[l]);zd(t,t.transactionQueueTree_)}function Rv(t,e){let n,r=t.transactionQueueTree_;for(n=K(e);n!==null&&Ci(r)===void 0;)r=bd(r,n),e=fe(e),n=K(e);return r}function Pv(t,e){const n=[];return Dv(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Dv(t,e,n){const r=Ci(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ta(e,i=>{Dv(t,i,n)})}function na(t,e){const n=Ci(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,gv(e,n.length>0?n:void 0)}ta(e,r=>{na(t,r)})}function Zx(t,e){const n=Xo(Rv(t,e)),r=bd(t.transactionQueueTree_,e);return Dx(r,i=>{Qa(t,i)}),Qa(t,r),vv(r,i=>{Qa(t,i)}),n}function Qa(t,e){const n=Ci(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(D(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(D(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Kr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?gv(e,void 0):n.length=o+1,Tr(t.eventQueue_,Xo(e),i);for(let s=0;s<r.length;s++)Ko(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function tT(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):St(`Invalid query segment '${n}' in query '${t}'`)}return e}const Cp=function(t,e){const n=nT(t),r=n.namespace;n.domain==="firebase.com"&&mn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||hC();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new M_(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ue(n.pathString)}},nT=function(t){let e="",n="",r="",i="",o="",s=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(i=eT(t.substring(d,c)));const f=tT(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(s=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:s,scheme:l,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$e(this.snapshot.exportVal())}}class iT{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Y(this._path)?null:W_(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=lp(this._queryParams),n=pd(e);return n==="{}"?"default":n}get _queryObject(){return lp(this._queryParams)}isEqual(e){if(e=Yl(e),!(e instanceof Bd))return!1;const n=this._repo===e._repo,r=vd(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+qC(this._path)}}class Yn extends Bd{constructor(e,n){super(e,n,new Sd,!1)}get parent(){const e=V_(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Nl{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ue(e),r=lc(this.ref,e);return new Nl(this._node.getChild(n),r,Re)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Nl(i,lc(this.ref,r),Re)))}hasChild(e){const n=new ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Lv(t,e){return t=Yl(t),t._checkNotDeleted("ref"),lc(t._root,e)}function lc(t,e){return t=Yl(t),K(t._path)===null?Fx("child","path",e):Sv("child","path",e),new Yn(t._repo,be(t._path,e))}class Wd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new rT("value",this,new Nl(e.snapshotNode,new Yn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iT(this,e,n):null}matches(e){return e instanceof Wd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function sT(t,e,n,r,i){const o=new oT(n,void 0),s=new Wd(o);return Kx(t._repo,t,s),()=>Yx(t._repo,t,s)}function Mv(t,e,n,r){return sT(t,"value",e)}sx(Yn);fx(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="FIREBASE_DATABASE_EMULATOR_HOST",ac={};let aT=!1;function uT(t,e,n,r){t.repoInfo_=new M_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function cT(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Cp(o,i),l=s.repoInfo,a;typeof process<"u"&&$h&&(a=$h[lT]),a?(o=`http://${a}?ns=${l.namespace}`,s=Cp(o,i),l=s.repoInfo):s.repoInfo.secure;const u=new kC(t.name,t.options,e);bx("Invalid Firebase Database URL",s),Y(s.path)||mn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=fT(l,t,u,new CC(t.name,n));return new hT(d,t)}function dT(t,e){const n=ac[e];(!n||n[t.key]!==t)&&mn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),qx(t),delete n[t.key]}function fT(t,e,n,r){let i=ac[e.name];i||(i={},ac[e.name]=i);let o=i[t.toURLString()];return o&&mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Wx(t,aT,n,r),i[t.toURLString()]=o,o}class hT{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($x(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&mn("Cannot call "+e+" on a deleted database.")}}function pT(t=XS(),e){const n=QS(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=b1("database");r&&mT(n,...r)}return n}function mT(t,e,n,r={}){t=Yl(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&mn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&mn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new bs(bs.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:j1(r.mockUserToken,t.app.options.projectId);o=new bs(s)}uT(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t){lC(qS),ml(new Do("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return cT(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),ti(Vh,Hh,t),ti(Vh,Hh,"esm2017")}un.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};un.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};gT();var _T="firebase",vT="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(_T,vT,"app");const yT={apiKey:"AIzaSyDxZ9CacKXjkLnlF4nlIkII0Dj8JvvwwpM",authDomain:"oscarshortanimation.firebaseapp.com",databaseURL:"https://oscarshortanimation-default-rtdb.firebaseio.com",projectId:"oscarshortanimation",storageBucket:"oscarshortanimation.firebasestorage.app",messagingSenderId:"826075727321",appId:"1:826075727321:web:472ce7d03fc9f7d95845c8"},wT=m_(yT),Ov=pT(wT),ET="_dotSpinner_1kjrv_2",ST="_dotSpinner__dot_1kjrv_14",CT="_pulse0112_1kjrv_1",en={dotSpinner:ET,dotSpinner__dot:ST,pulse0112:CT},Av=()=>P.jsxs("div",{className:en.dotSpinner,children:[P.jsx("div",{className:en.dotSpinner__dot}),P.jsx("div",{className:en.dotSpinner__dot}),P.jsx("div",{className:en.dotSpinner__dot}),P.jsx("div",{className:en.dotSpinner__dot}),P.jsx("div",{className:en.dotSpinner__dot}),P.jsx("div",{className:en.dotSpinner__dot}),P.jsx("div",{className:en.dotSpinner__dot}),P.jsx("div",{className:en.dotSpinner__dot})]}),kT=()=>{const[t,e]=k.useState([]),[n,r]=k.useState(""),[i,o]=k.useState([]),[s,l]=k.useState(!1),[a,u]=k.useState(!0);function d(m){return m.flatMap(C=>C.films)}function c(m){return m.flatMap(C=>C.films).slice(338)}function f(m){return m.flatMap(C=>C.films).slice(343)}const p=()=>{const m=d(t);o(m),l(!0)},v=()=>{const m=c(t);o(m),l(!0)},w=m=>{m.preventDefault();const C=I=>I.toLowerCase().includes(n.toLowerCase()),R=I=>I.filter(b=>C(b.nameRu)||C(b.nameOriginal)||C(b.nominatedYear.toString())),y=s?c(t):f(t),L=R(y);o(L)},x=()=>{const C=d(t).filter(R=>R.nomination.some(y=>y.isWinShortAnimatedFilm));o(C)},g=i.map(m=>m.kinopoiskId),h=g[Math.floor(Math.random()*g.length)];return k.useEffect(()=>{const m=Lv(Ov,"oscars/");Mv(m,C=>{const R=C.val(),y=R?Object.values(R):[];e(y),o(f(y)),u(!1)})},[]),document.title="Animation Shortcut Oscar",a?P.jsx("div",{className:"loadingPage",children:P.jsx(Av,{})}):P.jsx("section",{className:Fa.sectionCard,children:P.jsxs(e_,{children:[P.jsx(k1,{value:n,onChange:m=>r(m.target.value),onSubmit:w,randomID:h,winners:x,all:p,q:i.length}),!s&&P.jsx(I1,{onEnd:v}),i.length>0?P.jsx("div",{className:Fa.sectionCard__content,children:i.map(m=>P.jsx(g1,{...m},m.kinopoiskId))}):P.jsx("div",{className:Fa.oops,children:P.jsx("p",{children:"Упс! Пока такого фильма нет("})})]})})},xT=()=>P.jsx("main",{children:P.jsx(kT,{})}),TT="_FilmPage_13qfp_1",IT="_filmPage__content_13qfp_3",NT="_filmPage__img_13qfp_13",RT="_filmPage__info_13qfp_24",PT="_filmPage__content_table_13qfp_34",DT="_filmPage__content_row_13qfp_39",LT="_filmPage__content_left_13qfp_43",MT="_filmPage__kinopoisk_13qfp_50",OT="_filmPage__descr_13qfp_61",AT="_backLink_13qfp_65",FT="_film__price_13qfp_79",bT="_film__oscar_13qfp_86",jT="_film__nuar_13qfp_93",zT="_film__blur_13qfp_97",UT="_pulse_13qfp_1",BT="_commercial_13qfp_118",Xe={FilmPage:TT,filmPage__content:IT,filmPage__img:NT,filmPage__info:RT,filmPage__content_table:PT,filmPage__content_row:DT,filmPage__content_left:LT,filmPage__kinopoisk:MT,filmPage__descr:OT,backLink:AT,film__price:FT,film__oscar:bT,film__nuar:jT,film__blur:zT,pulse:UT,commercial:BT},WT="_VkVideo_1q287_1",$T={VkVideo:WT},VT=({video:t})=>{const n=(r=>{const i=r.match(/video(-?\d+)_(\d+)/);if(i){const o=i[1],s=i[2];return`https://vk.com/video_ext.php?oid=${o}&id=${s}&hd=1`}return null})(t);return n?P.jsx("iframe",{className:$T.VkVideo,src:n,width:"640",height:"360",allow:"autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;",frameBorder:"0",allowFullScreen:!0}):P.jsx("p",{children:"Invalid video URL"})},HT="_MegaVideo_2i8sr_1",GT={MegaVideo:HT},QT=({video:t})=>{function e(n){return n.replace("/file/","/embed/")}return P.jsx("iframe",{className:GT.MegaVideo,width:"640",height:"360",frameBorder:"0",src:e(t),allowFullScreen:!0})},KT="_YoutubeVideo_km073_1",YT={YoutubeVideo:KT},qT=({video:t})=>P.jsx("iframe",{className:YT.YoutubeVideo,src:t,width:"640",height:"360",allow:"autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;",frameBorder:"0",allowFullScreen:!0}),XT="/oscarShortAnimation/oscar.webp",JT="_container_16xdx_20",ZT="_player_16xdx_37",eI="_content_16xdx_53",tI="_logo_16xdx_80",nI="_title_16xdx_98",rI="_version_16xdx_110",iI="_header_16xdx_114",oI="_sources_16xdx_115",sI="_footer_16xdx_116",lI="_source_16xdx_115",aI="_Reveal_16xdx_1",uI="_selected_16xdx_171",cI="_message_16xdx_189",dI="_warning_16xdx_212",fI="_error_16xdx_218",hI="_background_16xdx_226",pI="_visible_16xdx_243",Vi={container:JT,player:ZT,content:eI,logo:tI,title:nI,version:rI,header:iI,sources:oI,footer:sI,source:lI,Reveal:aI,selected:uI,message:cI,warning:dI,error:fI,background:hI,visible:pI},mI="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cstyle%3e%20.spinner%20{%20fill:%20white;%20animation:%20CircleJump%201.05s%20infinite;%20}%20.delay1%20{%20animation-delay:%20.1s%20}%20.delay2%20{%20animation-delay:%20.2s%20}%20@keyframes%20CircleJump%20{%200%25,%2057.14%25%20{%20animation-timing-function:%20cubic-bezier(0.33,%20.66,%20.66,%201);%20transform:%20translate(0)%20}%2028.57%25%20{%20animation-timing-function:%20cubic-bezier(0.33,%200,%20.66,%20.33);%20transform:%20translateY(-6px)%20}%20100%25%20{%20transform:%20translate(0)%20}%20}%20%3c/style%3e%3ccircle%20class='spinner'%20cx='4'%20cy='12'%20r='3'%20/%3e%3ccircle%20class='spinner%20delay1'%20cx='12'%20cy='12'%20r='3'%20/%3e%3ccircle%20class='spinner%20delay2'%20cx='20'%20cy='12'%20r='3'%20/%3e%3c/svg%3e",gI=["alloha","ashdi","cdnmovies","collaps","hdvb","kodik","vibix","videocdn","voidboost"],_I=({video:t})=>{const[e,n]=k.useState(""),[r,i]=k.useState([]),[o,s]=k.useState(""),[l,a]=k.useState("");k.useEffect(()=>{var c;const d=(c=t.match(/\/film\/(\d+)\//))==null?void 0:c[1];d&&(async()=>{try{const v=await(await fetch(`https://kinobox.tv/api/players?kinopoisk=${d}&sources=${gI.join(",")}`)).json();if(Array.isArray(v)){const w=v.filter(x=>x.iframeUrl!==null);i(w),w.length>0&&w[0].translations.length>0&&(n(w[0].translations[0].iframeUrl),s(w[0].source),a(w[0].translations[0].id))}else console.error("Полученные данные не являются массивом",v)}catch(p){console.error("Ошибка при получении данных",p)}})()},[t]);const u=d=>{s(d);const c=r.find(f=>f.source===d);c&&c.translations.length>0?(n(c.translations[0].iframeUrl),a(c.translations[0].id)):c&&n(c.iframeUrl)};return k.useEffect(()=>{const d=document.getElementById("movie-player");if(d){const c=new MutationObserver(f=>{f.forEach(p=>{var v;p.type==="childList"&&Array.from(((v=d.contentDocument)==null?void 0:v.scripts)||[]).filter(x=>x.src.includes("imasdk.googleapis.com")).forEach(x=>x.remove())})});return d.addEventListener("load",()=>{const f=d.contentDocument||d.contentWindow.document;c.observe(f,{childList:!0,subtree:!0})}),()=>c.disconnect()}},[e]),P.jsxs("div",{className:Vi.player,children:[P.jsx("div",{className:Vi.content,children:e?P.jsx("iframe",{id:"movie-player",src:e,width:"600",height:"400",allowFullScreen:!0}):P.jsx("img",{src:mI,alt:"Loading..."})}),P.jsx("div",{className:Vi.sources,children:r.map(d=>P.jsx("button",{value:d.source,className:`${Vi.source} ${o===d.source?Vi.selected:""}`,onClick:()=>u(d.source),children:d.source},d.source))})]})},vI=()=>{var V;const{id:t}=IE(),[e,n]=k.useState([]),[r,i]=k.useState(null),[o,s]=k.useState(!0),[l,a]=k.useState(!0),u=()=>a(!1);if(k.useEffect(()=>{const B=Lv(Ov,"oscars/");Mv(B,Z=>{const le=Z.val(),gt=le?Object.values(le):[];n(gt);const De=gt.find(Ae=>Ae.films.some(Lt=>Lt.kinopoiskId===Number(t))),_t=De?De.films.find(Ae=>Ae.kinopoiskId===Number(t)):null;i(_t),s(!1)})},[t]),k.useEffect(()=>{r&&(document.title=r.nameRu||"Film Page")},[r]),!r&&!o)return P.jsx("div",{children:"Error: Film not found"});if(o)return P.jsx("div",{className:"loadingPage",children:P.jsx(Av,{})});const{nameRu:d,nameOriginal:c,nominatedYear:f,year:p,platform:v,countries:w=[],genres:x=[],slogan:g,director:h=[],scenario:m=[],producer:C=[],operator:R=[],composer:y=[],artist:L=[],installation:I=[],worldPremiere:b,ageLimitLine:j,ratingMpaa:oe,filmLength:pe,description:ke,posterUrl:xe,video:ze,webUrl:Ht,nomination:ve=[]}=r;console.log(x);const M=ve.length>0&&((V=ve[0])==null?void 0:V.isWinShortAnimatedFilm);return P.jsx("main",{children:P.jsxs(e_,{children:[P.jsx(cd,{to:"/oscarShortAnimation",className:Xe.backLink,children:"← На главную"}),P.jsxs("div",{className:Xe.filmPage__content,children:[P.jsx("div",{className:Xe.filmPage__img,children:P.jsx("img",{className:Xe.card__img,src:xe,alt:c||d})}),P.jsxs("div",{className:Xe.filmPage__info,children:[P.jsx("h1",{children:d}),P.jsx("p",{children:c}),P.jsx("a",{className:Xe.filmPage__kinopoisk,target:"_blank",href:Ht,rel:"noopener noreferrer",children:"Страница Кинопоиска"}),P.jsx("h2",{children:"О фильме"}),P.jsx("div",{className:Xe.filmPage__content_table,children:[{label:"Год номинации",value:f},{label:"Год производства",value:p},{label:"Платформа",value:v},{label:"Страна",value:w.map(B=>B.country).join(", ")},{label:"Жанр",value:x.map(B=>B.genre).join(", ")},{label:"Слоган",value:g},{label:"Режиссер",value:h.join(", ")},{label:"Сценарий",value:m.join(", ")},{label:"Продюсер",value:C.join(", ")},{label:"Оператор",value:R.join(", ")},{label:"Композитор",value:y.join(", ")},{label:"Художник",value:L.join(", ")},{label:"Монтажер",value:I.join(", ")},{label:"Премьера в мире",value:b},{label:"Возраст",value:j},{label:"Рейтинг MPAA",value:oe.toLocaleUpperCase()},{label:"Время",value:pe}].filter(B=>B.value).map((B,Z)=>P.jsxs("div",{className:Xe.filmPage__content_row,children:[P.jsx("div",{className:Xe.filmPage__content_left,children:P.jsxs("p",{children:[B.label,":"]})}),P.jsx("div",{className:Xe.filmPage__content_right,children:P.jsx("p",{children:B.value})})]},Z))})]}),P.jsx("div",{className:Xe.film__price,children:P.jsx("img",{src:XT,alt:"оскар",className:`${Xe.film__oscar} ${l?Xe.film__blur:""} ${M?"":Xe.film__nuar}`,onClick:u})})]}),P.jsx("p",{className:Xe.filmPage__descr,children:ke}),ze.startsWith("https://mega.nz/")?P.jsx(QT,{video:ze}):ze.startsWith("https://vk.com/")||ze.startsWith("https://vkvideo.ru/")?P.jsx(VT,{video:ze}):ze.startsWith("https://www.youtube.com/")?P.jsx(qT,{video:ze}):ze.startsWith("https://www.kinopoisk.ru")?P.jsx(_I,{video:ze}):P.jsx("div",{children:"Неподдерживаемый формат видео"}),P.jsxs("p",{className:Xe.commercial,children:["Надоела реклама в плеере?"," ",P.jsx("a",{href:"https://adblockplus.org/ru/download",target:"_blank",rel:"noopener noreferrer",children:"Установите это расширение"})]})]})})},yI=GE([{path:"/oscarShortAnimation",element:P.jsx(xT,{})},{path:"/oscarShortAnimation/film/:id",element:P.jsx(vI,{})},{path:"*",element:P.jsx("div",{children:"Error: Page is not found"})}]);function wI(){return P.jsx(P.Fragment,{children:P.jsx(t1,{router:yI})})}jg(document.getElementById("root")).render(P.jsx(k.StrictMode,{children:P.jsx(wI,{})}));
